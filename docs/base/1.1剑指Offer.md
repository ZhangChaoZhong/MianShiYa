> å‰‘æŒ‡offerï¼ŒTOP100ä¼˜å…ˆï¼›æœ€åç±»å‹é¢˜æ€»

# å‰‘æŒ‡offer

```java
//è¯»å–æ–‡æœ¬æ–‡ä»¶çš„å†…å®¹
try (Scanner scanner = new Scanner(new File("test.txt"))) {
    while (scanner.hasNext()) {
        System.out.println(scanner.nextLine());
    }
} catch (FileNotFoundException fnfe) {
    fnfe.printStackTrace();
}

Scanner input=newScanner(System.in);
int score=input.nextInt();//è¯»å–è¾“å…¥çš„æ•´æ•°
String name=input.next();//è¯»å–è¾“å…¥çš„å­—ç¬¦ä¸²

String[] strs = list.toArray(new String[list.size()]);
List<String> list = new ArrayList<>(Arrays.asList(arr)); 

Long.toString(long)
Integer.toString(int)		//intè½¬String
Integer.parseInt(String)
Integer.valueOf(intæˆ–è€…String) //intè½¬æ¢ä¸ºåŒ…è£…ç±»å‹Integer,æˆ–è€…å°†Stringè½¬æ¢æˆInteger
   
new String(char[]) 	//char[]è½¬String
str.toCharArray()	//Stringè½¬char[]
```



## ï¼ˆ1ï¼‰äºŒå‰æ ‘

#### [å‰‘æŒ‡ Offer 07. é‡å»ºäºŒå‰æ ‘](https://www.nowcoder.com/practice/8a19cbe657394eeaac2f6ea9b0f6fcf6?tpId=13&tqId=11157&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking&from=cyc_github)

![image-20210306175018888](images/image-20210306175018888.png)

```java
/*T,S:O(n) ä¸­åºéå†
æ€è·¯ï¼šå…ˆåºçš„ç¬¬ä¸€ä¸ªå°±æ˜¯æ ¹ç»“ç‚¹ï¼Œå–å‡ºæ¥ï¼›
å†æŸ¥æ‰¾æ ¹ç»“ç‚¹åœ¨ä¸­åºä¸­çš„ä½ç½®ï¼ˆhashmapï¼‰ï¼›
ç„¶åé€’å½’å‰åºå’Œä¸­åºçš„å·¦åŒºé—´ï¼Œå³åŒºé—´æ¥é‡å»ºæ ‘çš„å·¦å­æ ‘å’Œå³å­æ ‘ã€‚
*/
public class Solution {
  HashMap<Integer,Integer> map = new HashMap<>();
    TreeNode buildTree(int [] pre,int preL,int preR,int inL,int inR){
        if(preL > preR || inL > inR) return null;
        int rootVal = pre[preL];
        int pIndex = map.get(rootVal);
        TreeNode root = new TreeNode(rootVal);
        root.left = buildTree(pre,preL+1,pIndex-inL+preL,inL,pIndex-1);	//èµ·ç‚¹preL+1
        root.right = buildTree(pre,pIndex-inL+preL+1,preR,pIndex+1,inR);//
        return root; 
    }
    public TreeNode reConstructBinaryTree(int [] pre,int [] in) {
        int preLen=pre.length,inLen=in.length;
        for(int i=0;i<inLen;i++) map.put(in[i],i); //å“ˆå¸Œå…ˆå­˜å‚¨ä¸­åºï¼ŒæŸ¥è¯¢çš„æ—¶å€™å¿«
        return buildTree(pre,0,preLen-1,0,inLen-1);
    }
};
```

#### [8.äºŒå‰æ ‘çš„ä¸‹ä¸€ä¸ªç»“ç‚¹](https://www.nowcoder.com/practice/9023a0c988684a53960365b889ceaf5e?tpId=13&tqId=11210&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking&from=cyc_github)

```java
/*
å‰é©±èŠ‚ç‚¹ï¼šå½“å‰èŠ‚ç‚¹å·¦å­æ ‘çš„æœ€å³èŠ‚ç‚¹
åç»§èŠ‚ç‚¹ï¼šå½“å‰èŠ‚ç‚¹å³å­æ ‘çš„æœ€å·¦èŠ‚ç‚¹
ï¼ˆæœ€å·¦èŠ‚ç‚¹æ˜¯ä¸­åºéå†ï¼ˆå·¦æ ¹å³ï¼‰çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚ï¼‰
æ€è·¯ï¼š
1ï¼‰å½“å‰èŠ‚ç‚¹çš„å³å­æ ‘ä¸ä¸ºç©ºï¼Œé‚£ä¹ˆè¯¥èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å³å­æ ‘çš„æœ€å·¦èŠ‚ç‚¹
2ï¼‰å¦åˆ™ï¼Œå‘ä¸Šæ‰¾ç¬¬ä¸€ä¸ªå·¦æŒ‡é’ˆæŒ‡å‘çš„æ ‘åŒ…å«è¯¥èŠ‚ç‚¹çš„ç¥–å…ˆèŠ‚ç‚¹ã€‚
*/
public class Solution {
    public TreeLinkNode GetNext(TreeLinkNode pNode) {
        if(pNode.right!= null){
            TreeLinkNode right = pNode.right;	//1ï¼‰å³å­æ ‘
            while(right.left != null)					//æœ€å·¦èŠ‚ç‚¹
                right = right.left;
            return right;
        }else{
            while(pNode.next != null){ //2ï¼‰âš ï¸æ‰¾å‡ºå…¶çˆ¶ç»“ç‚¹
                TreeLinkNode root = pNode.next;//pNodeæ˜¯rootçš„å­ç»“ç‚¹
                if(root.left == pNode)
                    return root;
                pNode  = pNode.next;//ç»§ç»­å‘ä¸Šæ‰¾
            }
        }
        return null;
    }
}
```

#### [å‰‘æŒ‡ Offer 26. æ ‘çš„å­ç»“æ„ğŸ’£](https://www.nowcoder.com/practice/6e196c44c7004d15b1610b9afca8bd88?tpId=13&tqId=11170&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking&from=cyc_github)

```java
//T:O(MN) S:O(M)	M,N åˆ†åˆ«ä¸ºæ ‘ A å’Œ æ ‘ B çš„èŠ‚ç‚¹æ•°é‡
/*
æ€è·¯ï¼šåˆ¤æ–­Bæ˜¯ä¸æ˜¯Açš„å­ç»“æ„
1ï¼‰åªè¦æœ‰ä¸€ä¸ªä¸ºç©ºå°±ä¸æ˜¯
2ï¼‰åˆ¤æ–­Bæ˜¯å¦ä¸º Açš„æ€»ç»“æ„ï¼›é€’å½’Açš„å·¦å­æ ‘å’ŒBï¼›Açš„å³å­æ ‘å’ŒB
3ï¼‰Bä¸ºç©ºï¼›Aä¸ºç©ºæˆ–è€…å€¼ä¸ç­‰ï¼›é€’å½’ Açš„å·¦å­æ ‘ï¼ŒBçš„å·¦å­æ ‘ && Açš„å³å­æ ‘ï¼ŒBçš„å³å­æ ‘
*/
public class Solution {
  public boolean HasSubtree(TreeNode A, TreeNode B) {
       return (A != null && B != null) && (recur(A, B) || HasSubtree(A.left, B) || HasSubtree(A.right, B));	//âš ï¸æ ‘B æ˜¯ æ ‘ A å·¦ï¼å³å­æ ‘ çš„å­ç»“æ„ ||
    }  
   public boolean recur(TreeNode A, TreeNode B) {	//O(N)   ä»¥ èŠ‚ç‚¹ A ä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘ åŒ…å«æ ‘ B
        if(B == null) return true;				//1.Bä¸ºç©º èƒ½å¤Ÿéå†å®Œ
        if(A == null || A.val != B.val) return false;  //2.Aä¸ºç©º æˆ–è€…Aï¼=B
        return recur(A.left, B.left) && recur(A.right, B.right);	//âš ï¸ABçš„å·¦å³å­æ ‘ç›¸åŒæ‰æ˜¯ç›¸åŒ  &&
    }  
}
```

#### [å‰‘æŒ‡ Offer 27. äºŒå‰æ ‘çš„é•œåƒ](https://leetcode-cn.com/problems/er-cha-shu-de-jing-xiang-lcof/)

```java
//T,S:O(N)
/*
1ï¼‰å…ˆæ‹¿åˆ°å·¦å³å­æ ‘
2ï¼‰å†å°†rootçš„å·¦æŒ‡é’ˆæŒ‡å‘å³å­æ ‘ï¼Œå³æŒ‡é’ˆæŒ‡å‘å·¦å­æ ‘
*/
class Solution {
    public TreeNode mirrorTree(TreeNode root) {
        if(root == null) return root;
        TreeNode left = mirrorTree(root.left);
        TreeNode right = mirrorTree(root.right);
        root.left = right;
        root.right = left;
        return root;
    }
}
```

#### [å‰‘æŒ‡ Offer 28. å¯¹ç§°çš„äºŒå‰æ ‘](https://leetcode-cn.com/problems/dui-cheng-de-er-cha-shu-lcof/)

![image-20210722224510100](images/image-20210722224510100.png)

```java
//T,S:O(N)
/*
é€’å½’åˆ¤æ–­å·¦å­æ ‘æ˜¯å¦ç­‰äºå³å­æ ‘
1ï¼‰åŒä¸ºç©º
2ï¼‰å…¶ä¸­ä¸€ä¸ªä¸ºç©ºï¼Œæˆ–è€…å€¼ä¸åŒ
3ï¼‰é€’å½’å·¦èŠ‚ç‚¹çš„å·¦å­æ ‘ï¼Œå³èŠ‚ç‚¹å³å­æ ‘ï¼›
	 é€’å½’å·¦èŠ‚ç‚¹çš„å³å­æ ‘ï¼Œå³èŠ‚ç‚¹çš„å·¦å­æ ‘
*/
public class Solution {
    boolean isSymmetrical(TreeNode root) {
        return root == null ? true : recur(root.left,root.right);
    }
    boolean recur(TreeNode l,TreeNode r){
        if(l == null && r == null) return true;	//å…ˆåˆ¤æ–­éƒ½ä¸ºç©º
        if(l == null || r == null || r.val != l.val) return false;
        return recur(l.left,r.right) && recur(l.right,r.left);
    }
}
```

#### [å‰‘æŒ‡ Offer 32 - I. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘](https://www.nowcoder.com/practice/7fe2212963db4790b57431d9ed259701?tpId=13&tqId=11175&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking&from=cyc_github)

```java
//å±‚åºéå†
//Tï¼šO(N) S:O(N)
/*
æ€è·¯ï¼š
å…ˆå°†æ ¹èŠ‚ç‚¹æ”¾å…¥é˜Ÿåˆ—ä¸­
whileï¼ˆé˜Ÿåˆ—ä¸ä¸ºç©ºï¼‰{
  å–å‡ºå¯¹å¤´ï¼Œåˆ é™¤å¯¹å¤´
  å°†å€¼æ”¾å…¥ç»“æœé›†ä¸­
  åˆ¤æ–­è¯¥èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹æ˜¯å¦ç©ºï¼Œä¸ä¸ºç©ºï¼Œæ”¾å…¥é˜Ÿåˆ—ä¸­ï¼›
  åˆ¤æ–­è¯¥èŠ‚ç‚¹çš„å³èŠ‚ç‚¹æ˜¯å¦ç©ºï¼Œä¸ä¸ºç©ºï¼Œæ”¾å…¥é˜Ÿåˆ—ä¸­ï¼›
}
*/
class Solution {
   public ArrayList<Integer> PrintFromTopToBottom(TreeNode root) {
        if(root == null) return new ArrayList<>();
        ArrayList<Integer> res = new ArrayList<>();
        Queue<TreeNode> queue = new LinkedList<>();
        queue.add(root);
        while(!queue.isEmpty()){
            TreeNode node = queue.poll();
            res.add(node.val);
            if(node.left!=null) queue.add(node.left);
            if(node.right!=null) queue.add(node.right);
        }
        return res;
    }
}
```

#### [å‰‘æŒ‡ Offer 32 - II. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ II](https://leetcode-cn.com/problems/cong-shang-dao-xia-da-yin-er-cha-shu-ii-lcof/)

```java
/*
æŒ‰å±‚æ”¾å…¥ç»“æœé›†
*/
public class Solution {
    public ArrayList<ArrayList<Integer>> Print(TreeNode root) {
        if(root == null) return new ArrayList<>();
        ArrayList<ArrayList<Integer>> res = new ArrayList<>();
        Queue<TreeNode> queue = new LinkedList<>();
        queue.add(root);
        while(!queue.isEmpty()){
            ArrayList<Integer> tmp = new ArrayList<>();
            int s = queue.size();
            for(int i =1;i<=s;i++) {
                TreeNode node = queue.poll();
                tmp.add(node.val);
                if(node.left!=null) queue.add(node.left);
                if(node.right!=null) queue.add(node.right);
            }
            res.add(tmp);
        }
        return res;
    }
}
```

#### [å‰‘æŒ‡ Offer 32 - III. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ III](https://www.nowcoder.com/practice/91b69814117f4e8097390d107d2efbe0?tpId=13&tqId=11212&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking&from=cyc_github/)

```java
//å±‚åºéå† + åŒç«¯é˜Ÿåˆ—
/*
å¥‡æ•°å±‚ï¼Œæ’å…¥å¯¹å¤´ï¼ˆä»å·¦åˆ°å³ï¼‰
å¶æ•°å±‚ï¼Œæ”¾å…¥é˜Ÿå°¾
*/
public class Solution {
    public ArrayList<ArrayList<Integer> > Print(TreeNode root) {
        if(root == null) return new ArrayList<>();
        ArrayList<ArrayList<Integer>> res = new ArrayList<>();
        Queue<TreeNode> queue = new LinkedList<>();
        queue.add(root);
        while(!queue.isEmpty()){
            ArrayList<Integer> tmp = new ArrayList<>();
            int s = queue.size();
            for(int i = s; i > 0; i--) {
                TreeNode node = queue.poll();
                if(res.size()%2==0) tmp.add(node.val);
                else tmp.add(0,node.val);
                if(node.left!=null) queue.add(node.left);
                if(node.right!=null) queue.add(node.right);
            }
            res.add(tmp);
        }
        return res;
    }
}
```

#### [å‰‘æŒ‡ Offer 33. äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—](https://www.nowcoder.com/practice/a861533d45854474ac791d90e447bafd?tpId=13&tqId=11176&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking&from=cyc_github)Â ğŸ’£

![Picture10.png](images/0b0f77f90c68ecf5d0d154f66971f32fa6feb5d50f01a2b2b627df2029a0a103-Picture10-20220227171019367.png)

![image-20220227172451571](images/image-20220227172451571.png)

```java
//ååºéå†å€’åº==å…ˆåºéå†çš„é•œåƒï¼Œ å·¦å³æ ¹
//T,S:O(n)
/*
å•è°ƒæ ˆ å­˜å‚¨å€¼é€’å¢
å€’åºéå†åºåˆ—
1ï¼‰å·¦å­æ ‘å¤§äºrootï¼Œç›´æ¥false
2ï¼‰ä¿è¯å·¦å­æ ‘<å³å­æ ‘ï¼Œæ›´æ–°root
3ï¼‰å°†å½“å‰æ•°æ®è¿›æ ˆ

pop() == poll
*/
import java.util.*;
public class Solution {
    public boolean VerifySquenceOfBST(int [] postorder) {
        if (postorder == null || postorder.length == 0)
            return false;
        LinkedList<Integer> stack = new LinkedList<>();
        int root = Integer.MAX_VALUE;		//å…ˆèµ‹å€¼æœ€å¤§
        for(int i = postorder.length - 1; i >= 0; i--) { //âš ï¸ååºéå†å€’åº
            if(postorder[i] > root) return false;	//ä¿è¯å·¦å­æ ‘<=root
            while(!stack.isEmpty() && stack.peek() > postorder[i]    ) //é€’å¢æ ˆ
                root = stack.pop();	//æ›´æ–°root
            stack.push(postorder[i]);//å•è°ƒé€’å¢
        }
        return true;
    }
}
```

#### [å‰‘æŒ‡ Offer 34. äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„ğŸ’£](https://www.nowcoder.com/practice/b736e784e3e34731af99065031301bca?tpId=13&tqId=11177&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking&from=cyc_github)

```java
//å‡å»root.valï¼Œé€’å½’å·¦å³å­æ ‘
/*T,S:O(N)
æ€è·¯ï¼š

1ï¼‰æ ¹å·¦å³éå†ï¼›é€‰æ‹©å½“å‰å€¼ï¼Œæ›´æ–°ç›®æ ‡å€¼
2ï¼‰è·¯å¾„è®°å½•ï¼ˆåˆ¤æ–­æ˜¯å¦ç¬¦åˆï¼Œç¬¦åˆå°±åŠ å…¥ç»“æœé›†ï¼‰
3ï¼‰é€’å½’å·¦å³å­æ ‘
4ï¼‰æ’¤é”€é€‰æ‹©ï¼ˆå›æº¯ï¼‰
*/
public class Solution {
    ArrayList<ArrayList<Integer>> res=new ArrayList<>();
    public void dfs(TreeNode root,int sum,ArrayList<Integer> path){
        if(root == null) return;
        path.add(root.val);	//(1)é€‰æ‹©
        sum -= root.val;
        if(root.left == null && root.right == null && sum == 0) 
            res.add(new ArrayList<Integer>(path));//æ·±æ‹·è´âš ï¸ä¸ç”¨return
        if(root.left != null) dfs(root.left,path,sum);
        if(root.right != null) dfs(root.right,path,sum);
        path.remove(path.size() - 1);	//(2)å›æº¯
    }
    public ArrayList<ArrayList<Integer>> FindPath(TreeNode root,int sum) {
        dfs(root,sum,new ArrayList<>());
        return res;
    }
}
```

#### [å‰‘æŒ‡ Offer 36. äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨](https://leetcode-cn.com/problems/er-cha-sou-suo-shu-yu-shuang-xiang-lian-biao-lcof/)ğŸ’£

![img](images/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f30356130386632652d393931342d346137372d393265662d6165626561656366346636362e6a7067.jpeg)

```java
/*
é¢˜æ„ï¼šè¾“å…¥ä¸€æ£µäºŒå‰æœç´¢æ ‘ï¼Œå°†è¯¥äºŒå‰æœç´¢æ ‘è½¬æ¢æˆä¸€ä¸ªæ’åºçš„åŒå‘é“¾è¡¨ã€‚è¦æ±‚ä¸èƒ½åˆ›å»ºä»»ä½•æ–°çš„ç»“ç‚¹ï¼Œåªèƒ½è°ƒæ•´æ ‘ä¸­ç»“ç‚¹æŒ‡é’ˆçš„æŒ‡å‘ã€‚
æ’åºçš„åŒå‘é“¾è¡¨=>ä¸­åºéå†ï¼š
æ€è·¯ï¼šä¸­åºéå†
1ï¼‰é€’å½’å·¦å­æ ‘
2ï¼‰cur.left = pre ï¼Œä¹Ÿæ„å»º pre.right = cur 
3ï¼‰æ›´æ–°pre
4ï¼‰headæŒ‡å‘å½“å‰èŠ‚ç‚¹cur
5ï¼‰é€’å½’å³å­æ ‘
*/
class Solution {
    Node pre, head;
    public Node treeToDoublyList(Node root) {
        if(root == null) return null;
        inOrder(root);
        head.left = pre;
        pre.right = head;
        return head;
    }
    void inOrder(Node cur) {
       if (cur == null) return;
        inOrder(cur.left);
    
        cur.left = pre;
        if (pre != null)
            pre.right = cur;
        pre = cur; 				//æ›´æ–°pre
    
        if (head == null)		//headè®°å½•1æ¬¡
            head = cur;		
    
        inOrder(cur.right);
    }

}
```

#### [å‰‘æŒ‡ Offer 37. åºåˆ—åŒ–äºŒå‰æ ‘](https://www.nowcoder.com/practice/cf7e25aa97c04cc1a68c8f040e71fb84?tpId=13&tqId=11214&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking&from=cyc_github)ğŸ’£

```java
//
/*åºåˆ—åŒ–ï¼šäºŒå‰æ ‘è½¬æ¢ä¸º"{1,2,3,#,#,6,7}"ï¼›
æ€è·¯ï¼šå…ˆåºéå†
ååºåˆ—åŒ–ï¼š"{1,2,3,#,#,6,7}"è½¬æ¢ä¸ºäºŒå‰æ ‘
æ€è·¯ï¼š
1ï¼‰å–å‡ºç©ºæ ¼çš„ä¸‹æ ‡
2ï¼‰å–å‡ºdeserializeStrç©ºæ ¼å‰çš„å­—ç¬¦ä¸²ï¼ˆå½“å‰èŠ‚ç‚¹ï¼‰ï¼Œæ²¡æœ‰ç©ºæ ¼åˆ™æ˜¯æœ€åä¸€ä¸ªèŠ‚ç‚¹
3ï¼‰æ›´æ–°deserializeStrï¼ˆç©ºæ ¼åçš„å­—ç¬¦ä¸²ï¼‰
4ï¼‰åˆ›å»ºæ ¹èŠ‚ç‚¹
5ï¼‰é€’å½’åˆ›å»ºå·¦å³å­æ ‘
6ï¼‰è¿”å›æ ¹èŠ‚ç‚¹
*/
private String deserializeStr;

public String Serialize(TreeNode root) {
    if (root == null)
        return "#";
    return root.val + " " + Serialize(root.left) + " " + Serialize(root.right);
}

public TreeNode Deserialize(String str) {
    deserializeStr = str;
    return Deserialize();
}

private TreeNode Deserialize() {
    if (deserializeStr.length() == 0)
        return null;
    int index = deserializeStr.indexOf(" ");
    String node = index == -1 ? deserializeStr : deserializeStr.substring(0, index);//ç©ºæ ¼å‰çš„å­—ç¬¦ä¸²,ä¸åŒ…æ‹¬index
    deserializeStr = index == -1 ? "" : deserializeStr.substring(index + 1);//ç©ºæ ¼åçš„å­—ç¬¦ä¸²ï¼Œæ›´æ–°deserializeStr
    if (node.equals("#"))
        return null;
    int val = Integer.parseInt(node); 	//Stringè½¬intï¼Œ Stringè½¬int String.valueOf(num)
    TreeNode t = new TreeNode(val);		//Integeräº’æ¢intï¼Œè‡ªåŠ¨æ‹†/è£…ç®± 
    t.left = Deserialize();
    t.right = Deserialize();
    return t;
}
```

#### [å‰‘æŒ‡ Offer 54. äºŒå‰æœç´¢æ ‘çš„ç¬¬kå¤§èŠ‚ç‚¹](https://www.nowcoder.com/practice/57aa0bab91884a10b5136ca2c087f8ff?tpId=196&tqId=37117&rp=1&ru=/exam/oj&qru=/exam/oj&sourceUrl=%2Fexam%2Foj%3Ftab%3D%25E7%25AE%2597%25E6%25B3%2595%25E7%25AF%2587%26topicId%3D196%26page%3D1%26search%3D%25E7%25AC%25ACk&difficulty=undefined&judgeStatus=undefined&tags=&title=%E7%AC%ACk)

```java
//ä¸­åºéå†(âš ï¸è¿™é‡Œæ˜¯å³æ ¹å·¦ï¼Œé™åºå–ç¬¬kå¤§)   
//
public class Solution {
    int res=-1,cnt; 
    public int KthNode (TreeNode root, int k) {
        inOrder(root,k);
        return res;
    }
    void inOrder(TreeNode root, int k){
        if(root == null) return;
        inOrder(root.right,k);
        cnt++;
        if(cnt == k) res=root.val;
        inOrder(root.left,k);
    }
}
```

#### [å‰‘æŒ‡ Offer 55 - I. äºŒå‰æ ‘çš„æ·±åº¦](https://leetcode-cn.com/problems/er-cha-shu-de-shen-du-lcof/)

```java
//ååº
//Tï¼šO(N) S:O(N)
public class Solution {
    public int TreeDepth(TreeNode root) {
        if (root == null) return 0;
        return 1+Math.max(TreeDepth(root.left),TreeDepth(root.right));
    }
}
```

#### [å‰‘æŒ‡ Offer 55 - II. å¹³è¡¡äºŒå‰æ ‘](https://leetcode-cn.com/problems/ping-heng-er-cha-shu-lcof/)

```java
//è·å–å·¦å³å­æ ‘çš„é«˜åº¦ï¼Œå¦‚æœabs(right-left) > 1ï¼Œåˆ™ä¸æ˜¯å¹³è¡¡æ ‘
public class Solution {
    boolean res = true;
    public boolean IsBalanced_Solution(TreeNode root) {
        height(root);
        return res;
    }
    public int height(TreeNode root){
        if(root == null) return 0;
        int left = height(root.left);
        int right = height(root.right);
        if(Math.abs(right-left) > 1) res =false;		//å¿…é¡»åœ¨è¿™é‡Œåˆ¤æ–­ï¼Œæ¯ä¸ªå·¦å³å­æ ‘éƒ½è¦åˆ¤æ–­
        return 1+Math.max(left,right);
    }
}
```

#### [å‰‘æŒ‡ Offer 68 - I. äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ](https://leetcode-cn.com/problems/er-cha-sou-suo-shu-de-zui-jin-gong-gong-zu-xian-lcof/)

#### [å‰‘æŒ‡ Offer 68 - II. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ](https://leetcode-cn.com/problems/er-cha-shu-de-zui-jin-gong-gong-zu-xian-lcof/)

```java
//T:O(n) S:O(n)
/*
1ï¼‰root == nullï¼Œæˆ–è€…qæˆ–è€…pä¸€ä¸ªç­‰äºrootï¼Œåˆ™å½“å‰rootä¸ºæœ€è¿‘å…¬å…±ç¥–å…ˆ
2ï¼‰å¦‚æœ p å’Œ q åˆ†åˆ«åœ¨rootä¸¤ä¸ªå­æ ‘l,rä¸­ï¼Œé‚£ä¹ˆå°±è¯´æ˜æ ¹èŠ‚ç‚¹å°±æ˜¯æœ€ä½å…¬å…±ç¥–å…ˆã€‚
3ï¼‰å¦åˆ™åœ¨læˆ–è€…r
*/
class Solution {
    public TreeNode lowestCommonAncestor(TreeNode root, TreeNode p, TreeNode q) {
        if(root == null || p == root || q== root) return root;
        TreeNode l = lowestCommonAncestor(root.left,p,q);
        TreeNode r = lowestCommonAncestor(root.right,p,q);
        if(l != null && r != null) return root;
        return l!=null?l:r;
    }
}
```

#### [å‰‘æŒ‡ Offer 20. è¡¨ç¤ºæ•°å€¼çš„å­—ç¬¦ä¸² ](https://leetcode-cn.com/problems/biao-shi-shu-zhi-de-zi-fu-chuan-lcof/) ä¸­ç­‰

```java
/*
[]  ï¼š å­—ç¬¦é›†åˆ
()  ï¼š åˆ†ç»„
?   ï¼š é‡å¤ 0 ~ 1 æ¬¡
+   ï¼š é‡å¤ 1 ~ n æ¬¡
*   ï¼š é‡å¤ 0 ~ n æ¬¡
.   ï¼š ä»»æ„å­—ç¬¦
\\. ï¼š è½¬ä¹‰åçš„ .
\\d ï¼š æ•°å­—

\\d?  0-1ä¸ªæ•°å­—
*/
//T:O(N) S:O(1) 
public boolean isNumeric (String str) {
    if (str == null || str.length() == 0)
        return false;
    return new String(str).matches("[+-]?\\d*(\\.\\d+)?([eE][+-]?\\d+)?");
}
```

## ï¼ˆ2ï¼‰å›æº¯&DFS_BFS

//DFS+å›æº¯

#### [å‰‘æŒ‡ Offer 12. çŸ©é˜µä¸­çš„è·¯å¾„](https://www.nowcoder.com/practice/69fe7a584f0a445da1b6652978de5c38?tpId=13&tqId=11218&tab=answerKey&from=cyc_github)

```java
//åˆ¤æ–­åœ¨ä¸€ä¸ªçŸ©é˜µä¸­æ˜¯å¦å­˜åœ¨ä¸€æ¡åŒ…å«æŸå­—ç¬¦ä¸²æ‰€æœ‰å­—ç¬¦çš„è·¯å¾„ã€‚
//T:O(M*N*3^K)ä¸åŒ…å«å¾€ä¸Šæ–¹å‘ S:O(M*N) Kä¸ºwordçš„é•¿åº¦
/*
æ€è·¯ï¼š
1ï¼‰éå†æ•´ä¸ªçŸ©é˜µï¼Œä»0å¼€å§‹é€’å½’
2ï¼‰å‰ªæï¼ˆè¶Šç•Œï¼Œæ˜¯å¦è®¿é—®è¿‡ï¼Œæ˜¯å¦ç›¸ç­‰ï¼‰
3ï¼‰æ ‡å¿—èŒƒè®¿é—®è¿‡
4ï¼‰éå†4ä¸ªæ–¹å‘
5ï¼‰å›æº¯
*/
public class Solution {
    private int rows;
    private int cols;
    private final static int[][] dirs={{0, -1}, {0, 1}, {-1, 0}, {1, 0}};
    private boolean dfs(char[][] matrix,int i,int j,boolean[][] visted, char[] word,int k){
        if(word.length == k) return true;
        if(i >= rows || i <0 || j >= cols || j < 0 || visted[i][j] || matrix[i][j] != word[k]) return false;
 
        visted[i][j] = true;
        for(int[] dir:dirs){
            if(dfs(matrix,dir[0]+i,dir[1]+j,visted,word,k+1)) return true;     
        }
        visted[i][j] = false;
        return false;
    }
    private char[][] buildMatrix(char[] array) {
        char[][] matrix = new char[rows][cols];
        for (int r = 0, idx = 0; r < rows; r++)
            for (int c = 0; c < cols; c++)
                matrix[r][c] = array[idx++];
        return matrix;
    }
    
    public boolean hasPath (String array, int rows, int cols, String str) {
        if(rows == 0 || cols ==0) return false;
        this.rows = rows;
        this.cols = cols;
        char[][] matrix = buildMatrix(array.toCharArray());
        boolean[][] visted = new boolean[rows][cols];
        char[] word = str.toCharArray();
        for(int i=0;i<rows;i++){
            for(int j=0;j<cols;j++){
                if(dfs(matrix,i,j,visted,word,0)) return true;
            }
        }  
        return false;
    }
}
```

#### [å‰‘æŒ‡ Offer 13. æœºå™¨äººçš„è¿åŠ¨èŒƒå›´](https://leetcode-cn.com/problems/ji-qi-ren-de-yun-dong-fan-wei-lcof/)

//dfs

```java
//T,S:O(mn)
//ä¾‹å¦‚ï¼Œå½“ k ä¸º 18 æ—¶ï¼Œæœºå™¨äººèƒ½å¤Ÿè¿›å…¥æ–¹æ ¼ (35,37)ï¼Œå› ä¸º 3+5+3+7=18ã€‚ä½†æ˜¯ï¼Œå®ƒä¸èƒ½è¿›å…¥æ–¹æ ¼ (35,38)ï¼Œå› ä¸º 3+5+3+8=19ã€‚è¯·é—®è¯¥æœºå™¨äººèƒ½å¤Ÿè¾¾åˆ°å¤šå°‘ä¸ªæ ¼å­ï¼Ÿ
/*
æ€è·¯ï¼š
1ï¼‰ä»0å¼€å§‹é€’å½’
2ï¼‰å‰ªæï¼ˆè¶Šç•Œï¼Œæ˜¯å¦è®¿é—®è¿‡ï¼Œå½“å‰å’Œæ˜¯å¦å¤§äºkï¼‰
3ï¼‰æ ‡å¿—è®¿é—®è¿‡
4ï¼‰é€’å½’4ä¸ªæ–¹å‘ï¼Œç´¯åŠ 4ä¸ªæ–¹å‘å’Œå½“å‰æ ¼å­
*/
class Solution {
    int[][] dirs ={{0,1},{1,0},{0,-1},{-1,0}};
    int getSum(int x){
        int res = 0;
        while(x!=0){
            res+= x%10;
            x/=10;
        }
        return res;
    }
    int dfs(boolean[][] vis,int i,int j,int m,int n,int k){
        if(getSum(i) + getSum(j) > k || i<0 || i>=m || j<0 || j>=n || vis[i][j]) return 0;
        
        vis[i][j] = true;   //æ ‡å¿—è®¿é—®è¿‡
        int res = 1;
        for(int[] dir:dirs){
            int x  = i + dir[0], y = j + dir[1];
            res += dfs(vis,x,y,m,n,k);
        }
        return res;
    }
    public int movingCount(int m, int n, int k) {
        boolean[][] vis = new boolean[m][n];
        return dfs(vis,0,0,m,n,k);
    }
}

```

#### [å‰‘æŒ‡ Offer 17. æ‰“å°ä»1åˆ°æœ€å¤§çš„nä½æ•°](https://leetcode-cn.com/problems/da-yin-cong-1dao-zui-da-de-nwei-shu-lcof/)

//å›æº¯

```java
//é€’å½’å…¨æ’åˆ—
//Tï¼šO(10^n) S:O(10^n)
/*
æ€è·¯ï¼š
ç”±äº n å¯èƒ½ä¼šéå¸¸å¤§ï¼Œå› æ­¤ä¸èƒ½ç›´æ¥ç”¨ int è¡¨ç¤ºæ•°å­—ï¼Œè€Œæ˜¯ç”¨ char æ•°ç»„è¿›è¡Œå­˜å‚¨ã€‚
1ï¼‰å¾ªç¯næ¬¡
2ï¼‰å½“å‰é•¿åº¦x == lenï¼ŒåŠ å…¥ç»“æœé›†
3ï¼‰startï¼Œæœ€é«˜ä½ä¸èƒ½ä¸º0ï¼Œéå†1-9ï¼›å…¶ä»–ä½éå†0-9
	ç¡®å®šæœ¬ä½æ•°å­—
	é€’å½’ä¸‹ä¸€ä½æ•°æ•°å­—
	æ’¤é”€å½“å‰é€‰æ‹©
*/
import java.util.*;


public class Solution {
    ArrayList<String> res=new ArrayList<>();
    StringBuffer cur=new StringBuffer();
    char[] num =  {'0', '1', '2', '3', '4', '5', '6', '7', '8', '9'};
    // ç”Ÿæˆé•¿åº¦ä¸º len çš„æ•°å­—ï¼Œæ­£åœ¨ç¡®å®šç¬¬xä½ï¼ˆä»å·¦å¾€å³ï¼‰
    void backtrack(int x, int len) {
        if(x == len) {
            res.add(cur.toString());
            return;
        }
        int start = x==0? 1 : 0; // âš ï¸X=0è¡¨ç¤ºå·¦è¾¹ç¬¬ä¸€ä½æ•°å­—ï¼Œä¸èƒ½ä¸º0
        for(int i=start; i<10; i++) {
            cur.append(num[i]); // ç¡®å®šæœ¬ä½æ•°å­—
            backtrack(x+1, len); // ç¡®å®šä¸‹ä¸€ä½æ•°å­—
            cur.deleteCharAt(cur.length()-1); // åˆ é™¤æœ¬ä½æ•°å­—
        }
    }
    public int[] printNumbers (int n) {
        for(int i=1; i<=n; i++) // æ•°å­—é•¿åº¦ï¼š1~n
            backtrack(0, i);
        int[] res_int= new int[res.size()];
        for(int i=0; i<res.size(); i++)
            res_int[i] =  Integer.parseInt(res.get(i));
        return res_int;
        
    }
}
```

#### [å‰‘æŒ‡ Offer 38. å­—ç¬¦ä¸²çš„æ’åˆ—ğŸ’£](https://leetcode-cn.com/problems/zi-fu-chuan-de-pai-lie-lcof/)

//å›æº¯

```java
//T:O(N!N) S:O(N^2)
/*
æ€è·¯ï¼š
1ï¼‰ä»0å¼€å§‹é€’å½’
2ï¼‰å½“å‰xç­‰äºå­—ç¬¦ä¸²é•¿åº¦ åŠ å…¥ç»“æœé›†
å¾ªç¯{
	å‰ªæï¼šé‡å¤ç»§ç»­
	å°†å½“å‰å…ƒç´ æ”¾å…¥hashset
	
	é€‰æ‹©ï¼Œäº¤æ¢c[i]ï¼Œå›ºå®šxä½
	é€’å½’x+1
	æ’¤é”€é€‰æ‹©
}

*/
class Solution {
    List<String> res = new ArrayList<>();
    StringBuffer path = new StringBuffer(); 
    boolean[] vis;
    void bacetrace(int x,char[] arr,int len){
        if(x == len){
            res.add(path.toString());
            return;
        }
        for(int i=0;i<len;i++){
            if(vis[i] || (i>0 && arr[i-1] == arr[i] && !vis[i-1])) continue;
            path.append(arr[i]);
            vis[i] = true;
            bacetrace(x+1,arr,len);
            path.deleteCharAt(path.length()-1);
            vis[i] = false;
        }
    }


    public String[] permutation(String s) {
        char[] arr = s.toCharArray();
        vis = new boolean[arr.length];
        Arrays.sort(arr);
        bacetrace(0,arr,arr.length);
        return res.toArray(new String[res.size()]);
    }
}
//String [] è½¬æ¢æˆList<String>
List<String> list = Arrays.asList(new String []{"1","2"});
//List<String>è½¬æ¢æˆ String[]
String [] strs=list.toArray(new String[list.size()]);
```

## ï¼ˆ3ï¼‰è´ªå¿ƒ

#### [å‰‘æŒ‡ Offer 14- I. å‰ªç»³å­](https://leetcode-cn.com/problems/jian-sheng-zi-lcof/)

```java
/*
é¢˜æ„ï¼šå°†é•¿åº¦ä¸ºnï¼Œå‰ªæˆmæ®µï¼Œå°†æ¯æ®µç»³å­çš„é•¿åº¦ç›¸ä¹˜ï¼Œé—®æœ€å¤§ä¹˜ç§¯
æ€è·¯ï¼šn =3a+b b=0,1,2ã€‚æ¨å¯¼=>æœ€ä¼˜ï¼šæŠŠç»³å­å°½å¯èƒ½åˆ‡ä¸ºå¤šä¸ªé•¿åº¦ä¸º3çš„ç‰‡æ®µï¼Œæ¬¡ä¼˜2ï¼Œæœ€å·®1
å¤æ‚åº¦ï¼šS,T:O(1)
*/
public class Solution {
    public int cutRope(int n) {
        if(n<=3) return n-1;
        int a=n/3;	//n=3*a+b
        int b=n%3;
        if(b==0) return (int)Math.pow(3,a);    //n=6,a=2 b=0 3^2
        if(b==1) return (int)Math.pow(3,a-1)*4;    //n=7  a=2 b=1 3^1*4
        return (int)Math.pow(3,a)*2;    //n=8 a=2 b=2 3^2*2
    }
}
```

#### [å‰‘æŒ‡ Offer 14- II. å‰ªç»³å­ II](https://leetcode-cn.com/problems/jian-sheng-zi-ii-lcof/)Â ğŸ’£

```java
/*
é¢˜æ„ï¼šå°†é•¿åº¦ä¸ºnï¼Œå‰ªæˆmæ®µï¼Œå°†æ¯æ®µç»³å­çš„é•¿åº¦ç›¸ä¹˜ï¼Œç»“æœå–æ¨¡ 1e9+7ï¼Œé—®æœ€å¤§ä¹˜ç§¯
æ€è·¯ï¼šn =3a+b  å¿«é€Ÿå¹‚æ±‚ä½™
å¤æ‚åº¦ï¼šS,T:O(1)
*/
class Solution {
public:
    int cuttingRope(int n) {
        if(n <= 3) return n-1;
        int b = n % 3,p=1000000007; //n =3a+b b=0,1,2
        int a = n/3-1;	//å°‘ä¸€ä¸ª
        //base,a,pï¼Œæ±‚ base^aâ€Šmodâ€Špã€‚
        long base=3,rem=1;     //é˜²æ­¢æº¢å‡º
        while(a>0){     //n=9 rem=9
            if(a%2 == 1) rem=rem*base%p;	//æœ‰ä½™æ•°
            base= base*base%p; //æ³¨æ„
            a /= 2;
        }
				//ä¸¾ä¾‹å­n=6,7,8
        if(b == 0) return int(rem*3%p);//rem^(a+1)%p   
        if(b == 1) return int(rem*4%p);  //rem^(a)*4%p
        return int(rem*3*2%p);    //rem^(a+1)*2%p          
    }
};
```

## ï¼ˆ4ï¼‰åŒæŒ‡é’ˆ

#### [å‰‘æŒ‡ Offer 04. äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾](https://www.nowcoder.com/practice/abc3fe2ce8e146608e868a70efebf62e?tpId=13&tqId=11154&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking&from=cyc_github)

```java
//å…³é”®æ€æƒ³ï¼šä»äºŒç»´æ•°ç»„çš„å³ä¸Šè§’å¼€å§‹æŸ¥æ‰¾ã€‚
//T:O(n+m) S:O(1)
class Solution {
    public boolean findNumberIn2DArray(int[][] M, int target) {
        if(M.length == 0 || M[0].length == 0 || M == null) return false;
        int rows=M.length, cols = M[0].length;
        int r=0,c=cols-1;
        while(r <= rows -1 && c >= 0){
            int num = M[r][c];
            if(num == target) return true;
            else if(num > target) c--;
            else r++;
        }
        return false;
    }
}
```

#### [å‰‘æŒ‡ Offer 05. æ›¿æ¢ç©ºæ ¼](https://www.nowcoder.com/practice/0e26e5551f2b489b9f58bc83aa4b6c68?tpId=13&tqId=11155&tab=answerKey&from=cyc_github)

```java
//T:O(n) S:O(n)
/*
æ•°ç»„æ‰©å±•ä¸ºåŸæ¥3å€
é‡åˆ°ç©ºæ ¼ï¼Œæ›¿æ¢ä¸º%20
æ²¡æœ‰ç›´æ¥æ”¾å…¥
*/
class Solution {
    public String replaceSpace(String s) {  //Stringæ˜¯ä¸ªå¯¹è±¡
        int len = s.length();
        char[] arr = new char[3*len]; //1ä¸ªå­—ç¬¦æ›¿æ¢ä¸º3ä¸ªå­—ç¬¦ï¼Œé•¿åº¦å˜ä¸ºåŸæ¥3å€
        int size = 0;
        for(int i=0;i<len;i++){
            char ch = s.charAt(i);  
            if(ch == ' '){
                arr[size++] = '%';
                arr[size++] = '2';
                arr[size++] = '0';
            }else{
                arr[size++] = ch;
            }
        }
        String newStr = new String(arr,0,size);
        return newStr;
    }
}
```

#### [å‰‘æŒ‡ Offer 21. è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢](https://leetcode-cn.com/problems/diao-zheng-shu-zu-shun-xu-shi-qi-shu-wei-yu-ou-shu-qian-mian-lcof/)

```java
//åŒæŒ‡é’ˆï¼Œæœç´¢  T:O(n) S:O(1)
/*å®šä¹‰å¤´æŒ‡é’ˆ left ï¼Œå°¾æŒ‡é’ˆ right .
left ä¸€ç›´å¾€å³ç§»ï¼Œç›´åˆ°å®ƒæŒ‡å‘çš„å€¼ä¸ºå¶æ•°
right ä¸€ç›´å¾€å·¦ç§»ï¼Œ ç›´åˆ°å®ƒæŒ‡å‘çš„å€¼ä¸ºå¥‡æ•°
äº¤æ¢ nums[left] å’Œ nums[right] .
é‡å¤ä¸Šè¿°æ“ä½œï¼Œç›´åˆ° left==right
*/
class Solution {
    public int[] exchange(int[] nums) {
        int l=0,r= nums.length-1;
        while(l < r){
            while(l <r && nums[l]%2!=0) l++;    //å¾€å³å¯»æ‰¾å¶æ•°(æœ€å·¦çš„å¶æ•°)
            while(l <r && nums[r]%2==0) r--;    //å¾€å·¦å¯»æ‰¾å¥‡æ•°
            int t=nums[l];
            nums[l]=nums[r];
            nums[r]=t;
        }
        return nums;
    }
}
```

#### [å‰‘æŒ‡ Offer 22. é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹](https://leetcode-cn.com/problems/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof/)

```java
//å¿«æ…¢æŒ‡é’ˆ
//
public ListNode FindKthToTail (ListNode pHead, int k) {
  ListNode l=pHead,r=pHead;
  while(r!=null && k-- > 0) r=r.next;	//é¡ºåºä¸èƒ½æ¢
  if(k > 0) return null;//é“¾è¡¨é•¿åº¦ < k
  while(r!=null){
    l=l.next;
    r=r.next;
  }
  return l;
}
```

#### [23.é“¾è¡¨ä¸­ç¯çš„å…¥å£ç»“ç‚¹](https://www.nowcoder.com/practice/253d2c59ec3e4bc68da16833f79a38e4?tpId=13&tqId=11208&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking&from=cyc_github)

```java
/*
//ã€å¿«æ…¢æŒ‡é’ˆï¼ŒåŒæ­¥æŒ‡é’ˆã€‘2æ¬¡ç›¸é‡ï¼šç¬¬1æ¬¡ç›¸é‡ä¸æ¸…æ¥šä½ç½®ï¼Œç¬¬äºŒæ¬¡ç›¸é‡ä¸ºå…¥å£ç»“ç‚¹ã€‚é‡åˆæ—¶ fast æ¯” slow å¤šèµ° ç¯çš„é•¿åº¦æ•´æ•°å€
//è®¾å¿«æ…¢æŒ‡é’ˆèµ°äº†f,sæ­¥,
//ç¬¬1æ¬¡ç›¸é‡ï¼šfastï¼šf=2s(fast æ¯è½®èµ° 2 æ­¥) f=s+nb(æ¯”slowå¤šèµ°ç¯çš„é•¿åº¦æ•´æ•°å€) ==> slow:s = nb		aï¼šç¯å¤–çš„é•¿åº¦ï¼Œbï¼šç¯çš„é•¿åº¦
//æ­¤æ—¶ï¼šã€€slow:nbï¼Œåªè¦è®©slowå¤šèµ°aæ­¥ï¼Œå°±æ˜¯ç¯çš„å…¥å£ã€‚
//è€Œæˆ‘ä»¬åªè¦ä»¤fast=headï¼Œè·ŸslowåŒæ­¥èµ°ï¼Œç¬¬2æ¬¡ç›¸é‡æ—¶å°±æ˜¯ç¯çš„å…¥å£
//ç¬¬2æ¬¡ç›¸é‡ï¼šè®©slowåœ¨aæ­¥åœä¸‹æ¥ï¼Œè®©slowå’Œfaståœ¨aå¤„ç›¸é‡ï¼Œ
//slowä¸å˜ï¼Œfast=headï¼ŒåŒæ­¥ç§»åŠ¨
*/
public ListNode EntryNodeOfLoop(ListNode pHead) {
        ListNode fast=pHead,slow=pHead;
        while(true){
            if(fast == null || fast.next==null) return null;    //æ— ç¯âš ï¸
            slow=slow.next;
            fast=fast.next.next;
            if(slow == fast) break;	//ç¬¬1æ¬¡ç›¸é‡ æœ‰ç¯
        }
  		//ç¬¬2æ¬¡ç›¸é‡
        fast = pHead;
        while(slow != fast){
            slow = slow.next;
            fast = fast.next;
        }
        return slow;
    }

```

#### [å‰‘æŒ‡ Offer 25. åˆå¹¶ä¸¤ä¸ªæ’åºçš„é“¾è¡¨](https://www.nowcoder.com/practice/d8b6b4358f774294a89de2a6ac4d9337?tpId=13&tqId=11169&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking&from=cyc_github)

```java
//å½’å¹¶æ’åº
//T:O(M+N) S:O(1)
class Solution {
    public ListNode mergeTwoLists(ListNode l1, ListNode l2) {
        ListNode dummy = new ListNode(0), cur = dummy;//âš ï¸å¤´ç»“ç‚¹ï¼Œå¹¶ä¸´æ—¶cur
        while(l1 != null && l2 != null){
            if(l1.val < l2.val){
                cur.next = l1;
                l1 = l1.next;
            }else{
                cur.next = l2;
                l2 = l2.next;
            }
            cur = cur.next;             //âš ï¸æ›´æ–°
        }
        cur.next = l1 != null ? l1:l2;  //å“ªä¸ªä¸ä¸ºç©ºç›´æ¥æŒ‡å‘å®ƒ
        return dummy.next;       //âš ï¸å¤´ç»“ç‚¹æ²¡æœ‰å­˜æ•°æ®
    }
}
```

#### [å‰‘æŒ‡ Offer 51. æ•°ç»„ä¸­çš„é€†åºå¯¹ğŸ’£ğŸ’£](https://leetcode-cn.com/problems/shu-zu-zhong-de-ni-xu-dui-lcof/)

![image-20220614195927605](C:/Users/Y7000P/Desktop/aa/image-20220614195927605.png)

```java
//T:O(nlogn),S:O(n)
//å½’å¹¶æ’åºï¼ŒåŠ äº†ä¸ªè®¡æ•°å™¨
//åœ¨ç¬¬2ä¸ªæ•°ç»„å…ƒç´ å½’å¹¶ä¸Šå»æ—¶ï¼Œè®¡æ•°ï¼Œè®¡æ•°åçš„å…ƒç´ ä¸å†è®¡ç®—
//ï¼ˆ2,3,5,7ï¼‰ | ï¼ˆ1,4,6,8ï¼‰ 1æ¯”å‰é¢çš„éƒ½å°ï¼Œå¯ä»¥å¿«é€Ÿè®¡ç®—4ï¼›ä¸‹ä¸€ä¸ªæ˜¯3,4
class Solution {
    int count = 0;//1.è®¡æ•°å™¨
    int[] aux;
    public int reversePairs(int[] nums) {
        aux = new int[nums.length];
        sort(nums, 0, nums.length - 1);
        return count;
    }
    
    public void sort(int[] nums, int lo, int hi){
        if(hi <= lo)    return;
        
        int mid = (lo + hi) / 2;
        sort(nums, lo, mid);
        sort(nums, mid + 1, hi);
        
        merge(nums, lo, mid, hi);
    }

    private void merge(int[] nums, int lo, int mid, int hi) {
        int i = lo, j = mid + 1;
        for(int k = lo; k <= hi; k++)	//[lo,hi]
            aux[k] = nums[k];
        
        int index = lo;
        while(i <= mid || j <= hi){ 
            //å“ªä¸ªå°æ”¾å“ªä¸ª
            if(i > mid)                 nums[index++] = aux[j++];	//å°†å‰©ä½™2æƒ…å†µä¹Ÿè€ƒè™‘è¿›å»
            else if(j > hi)             nums[index++] = aux[i++];
            else if(aux[i] <= aux[j])   nums[index++] = aux[i++];
            else {
                nums[index++] = aux[j++];  
                count += mid - i + 1; //2.ç´¯è®¡é€†åºå¯¹
                }
        }
    }
}

```

#### [å‰‘æŒ‡ Offer 57. å’Œä¸ºsçš„ä¸¤ä¸ªæ•°å­—](https://www.nowcoder.com/practice/390da4f7a00f44bea7c2f3d19491311b?tpId=13&tqId=11195&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking&from=cyc_github)

```java
//åŒæŒ‡é’ˆï¼šæœç´¢
//T:O(n) S:O(1)
/*
æ€è·¯ï¼šsum = l +r;
sum>targetï¼Œr--;
else l++;
*/
class Solution {
     //æ•°ç»„æ˜¯é€’å¢æ’åºå¥½çš„
    public ArrayList<Integer> FindNumbersWithSum(int [] nums,int sum) {
        int l=0,r=nums.length-1;
        while(l<r){	//[l,r]2ä¸ªæ•°å­—ï¼Œä¸èƒ½ç›¸ç­‰
            int t = nums[l]+nums[r];
            if(t == sum) return new ArrayList<>(Arrays.asList(nums[l],nums[r]));
            else if(t > sum) r--;
            else l++;
        }
        return new ArrayList<>();
    }
}
```

#### [å‰‘æŒ‡ Offer 57 - II. å’Œä¸ºsçš„è¿ç»­æ­£æ•°åºåˆ—](https://www.nowcoder.com/practice/c451a3fd84b64cb19485dad758a55ebe?tpId=13&tqId=11194&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking&from=cyc_github)

![image-20210629195210802](images/image-20210629195210802.png)

```java
//åŒæŒ‡é’ˆï¼šæ»‘åŠ¨çª—å£
//T:O(target)	S:O(1)
/*
æ€è·¯ï¼šsum = (l+r)*(r-l+1)/2
sum == targetï¼Œ[l,r]
sum > target,l++
sum < target,r++
è¿”å›å¤šä¸ªåŒºé—´
*/
import java.util.ArrayList;
public class Solution {
    public ArrayList<ArrayList<Integer> > FindContinuousSequence(int target) {
       ArrayList<ArrayList<Integer> > res = new ArrayList<ArrayList<Integer> >();
       int l=1,r=2;	//âš ï¸
        while(l<r){//âš ï¸
            int sum = (l+r)*(r-l+1)/2;  //åŒºé—´[l,r]çš„å’Œ
            if(sum == target){
                ArrayList<Integer> tmp = new ArrayList<Integer>();
                for(int i=l;i<=r;i++)   tmp.add(i);   //i-lä»0å¼€å§‹æ”¾
                res.add(tmp);
                l++;                       //å¼€å¯æ–°çš„åŒºé—´
            }else if(sum > target) l++;    //âš ï¸å¤§äº†ï¼Œlå³ç§»ï¼Œå‡æ•°
            else r++;                      //å°äº†ï¼Œrå³ç§»ï¼ŒåŠ æ•°
        }
        return res;  
    }
}
```

### ï¼ˆ5ï¼‰äºŒåˆ†

#### [å‰‘æŒ‡ Offer 11. æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—](https://leetcode-cn.com/problems/xuan-zhuan-shu-zu-de-zui-xiao-shu-zi-lcof/)ğŸ’£ åŒ154.å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼ II

```java
//äºŒåˆ†æ³•ï¼š
//ä¸1çš„åŒºåˆ«ï¼Œæ•°ç»„ä¸­å¯èƒ½å­˜åœ¨é‡å¤çš„å…ƒç´ ã€‚
//T:O(n) S:O(1)
/*
æ€è·¯ï¼šä¸å³ç«¯å…ƒç´ æ¯”è¾ƒ
å¤§äºå³ç«¯,åˆ™r =midï¼Œæœ€å°å€¼åœ¨å·¦è¾¹
å°äºå³ç«¯ï¼Œåˆ™l = mid+1ï¼Œæœ€å°å€¼åœ¨å³è¾¹
ç­‰äºå³ç«¯r--;
*/
class Solution {
    public int minArray(int[] nums) {
        int l=0,r = nums.length-1;
        while(l<r){
            int mid = l +(r-l)/2;
            if(nums[mid] < nums[r]) r = mid;        //æœ€å°å€¼åœ¨å·¦è¾¹[l,mid)
            else if(nums[mid] > nums[r]) l=mid+1;   //æœ€å°å€¼åœ¨å³è¾¹[mid+1,r)
            else r--;                               //âš ï¸åŠ è¿™é‡Œï¼Œå»é™¤rè¾¹ç•Œ,æœ€å°å€¼åœ¨[l,r)
        }
        return nums[l];
    }
}
```

#### [å‰‘æŒ‡ Offer 16. æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹](https://www.nowcoder.com/practice/1a834e5e3e1a4b7ba251417554e07c00?tpId=13&tqId=11165&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking&from=cyc_github) å¿«é€Ÿå¹‚

```java
//T:O(logn) S:O(1)
//base^a
public class Solution {
    public double Power(double base, int a) {
        if(base == 0) return 0;	//å¤„ç†0
        if(a < 0){	//æ³¨æ„ï¼šå¤„ç†è´Ÿæ•°
            base = 1/base;
            a = -a;
        }
        
        double res=1.0;
        while(a!=0){
            if(a%2 == 1) res=res*base;
            base*=base;
            a/=2;
        }
        return res;
  }
}
```



#### [å‰‘æŒ‡ Offer 53 - I. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°å­— I](https://leetcode-cn.com/problems/zai-pai-xu-shu-zu-zhong-cha-zhao-shu-zi-lcof/)â­ï¸

```java
//äºŒåˆ†
//æ—¶é—´å¤æ‚åº¦ O(logN) ï¼š äºŒåˆ†æ³•ä¸ºå¯¹æ•°çº§åˆ«å¤æ‚åº¦ã€‚
//ç©ºé—´å¤æ‚åº¦ O(1) ï¼š å‡ ä¸ªå˜é‡ä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚
/*
æ€è·¯ï¼š
ä¸targetæ¯”ï¼Œ
l < = r;
hleper(nums,target)-hleper(nums,target-1);
å¯»æ‰¾å¤šä¸ªnums[mid] <= target
*/
class Solution {
    public int search(int[] nums, int target) {
        return hleper(nums,target)-hleper(nums,target-1);
    }
    int hleper(int[] nums,int target){  //targetçš„å³è¾¹ç•Œï¼ˆè¾¹ç•Œä¸åŒ…æ‹¬targetï¼‰
        int l=0,r=nums.length-1;
        while(l<=r){ //âš ï¸
            int mid = l + (r-l)/2;
            if(nums[mid] <= target) l=mid+1;    //åœ¨[mid+1,r]	âš ï¸
            else r = mid - 1;                   //åœ¨[l,mid-1]
        }
        return l;
    }
}
```

#### [å‰‘æŒ‡ Offer 53 - II. 0ï½n-1ä¸­ç¼ºå¤±çš„æ•°å­—ğŸ’£â­ï¸](https://leetcode-cn.com/problems/que-shi-de-shu-zi-lcof/)

```java
//T:O(logN) S:O(1)
//ä¸ä¸­é—´ä¸‹æ ‡æ¯”è¾ƒ
//ç›¸ç­‰ï¼Œç¼ºå¤±å€¼è¡¨æ˜åœ¨å³è¾¹ï¼›ä¸ç­‰ï¼Œè¡¨æ˜åœ¨å·¦è¾¹
class Solution {
    public int missingNumber(int[] nums) {
        int l=0,r=nums.length-1;
        while(l<=r){		//âš ï¸
            int mid = l + (r-l)/2;
            if(nums[mid] == mid)    l=mid+1;//âš ï¸ç›¸ç­‰ï¼Œåœ¨[mid+1,r]
            else r = mid - 1;   //ä¸ç­‰ï¼Œåœ¨[l,mid-1]
        }
        return l;
    }
}
```

#### [287. å¯»æ‰¾é‡å¤æ•°](https://leetcode.cn/problems/find-the-duplicate-number/)

```java
/*
é¢˜æ„ï¼š[1,3,4,2,2]è¿”å›2ï¼›åªæœ‰ä¸€ä¸ªæ•´æ•° å‡ºç° ä¸¤æ¬¡æˆ–å¤šæ¬¡ ï¼Œå…¶ä½™æ•´æ•°å‡åªå‡ºç° ä¸€æ¬¡
æ€è·¯ï¼šå®šä¹‰cntç»Ÿè®¡æ•°ç»„ä¸­<=å½“å‰içš„ä¸ªæ•°
åˆ©ç”¨äº†ã€Œé¸½å·¢åŸç†ã€ï¼šn+1ä¸ªå…ƒç´ æ”¾åˆ°nä¸ªé›†åˆä¸­ï¼Œå…¶ä¸­å¿…å®šæœ‰ä¸€ä¸ªé›†åˆé‡Œè‡³å°‘æœ‰ä¸¤ä¸ªå…ƒç´ ã€‚
éå†æ•°ç»„ï¼Œç»Ÿè®¡<=4çš„ä¸ªæ•°ï¼Œå¦‚æœä¸ªæ•°>4 ï¼Œè¯´æ˜é‡å¤çš„å…ƒç´ ä¸€å®šå‡ºç°åœ¨æ•´æ•°åŒºé—´ [1..4]
*/
class Solution {
    public int findDuplicate(int[] nums) {
        int l = 0,r=nums.length-1;
        while(l<=r){
            int mid = l + ((r-l)>>1);
            int cnt = 0;
            for(int num:nums){
                if(num <= mid) cnt++;
            }
            if(cnt > mid) r = mid-1;  //ä¸ªæ•°>mid ç­”æ¡ˆåœ¨[l,mid]    ã€Œé¸½å·¢åŸç†ã€
            else l = mid + 1; 
        }
        return l;
    }
}
```



## ï¼ˆ6ï¼‰DP

#### [å‰‘æŒ‡ Offer 10- I. æ–æ³¢é‚£å¥‘æ•°åˆ—](https://leetcode-cn.com/problems/fei-bo-na-qi-shu-lie-lcof/)

```java
//T:O(n) S:O(1)
class Solution {
    public int fib(int n) {
        int a = 0, b = 1, sum;	//sum:f(n+1)   a:f(n-1) b:f(n)
        for(int i = 0; i < n; i++){
            sum = (a + b) % 1000000007;
            a = b;
            b = sum;
        }
        return a;	//æ­¤æ—¶ï¼Œbèµ‹å€¼ç»™äº†a
    }
}
```

#### [çŸ©é˜µè¦†ç›–](https://www.nowcoder.com/practice/72a5a919508a4251859fb2cfb987a0e6?tpId=13&tqId=11163&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking&from=cyc_github)

![img](images/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f35303863366535322d396639332d343465642d623662392d6536393035306531343830372e6a7067.jpeg)

```java
//æˆ‘ä»¬å¯ä»¥ç”¨ 2*1 çš„å°çŸ©å½¢æ¨ªç€æˆ–è€…ç«–ç€å»è¦†ç›–æ›´å¤§çš„çŸ©å½¢ã€‚è¯·é—®ç”¨ n ä¸ª 2*1 çš„å°çŸ©å½¢æ— é‡å åœ°è¦†ç›–ä¸€ä¸ª 2*n çš„å¤§çŸ©å½¢ï¼Œæ€»å…±æœ‰å¤šå°‘ç§æ–¹æ³•ï¼Ÿ
public int rectCover(int n) {
    if (n <= 2)
        return n;
    int a = 1, b = 2;
    int res = 0;
    for (int i = 3; i <= n; i++) {
        result = a + b;
        a = b;
        b = res;
    }
    return res;
}
```



#### [å‰‘æŒ‡ Offer 10- II. é’è›™è·³å°é˜¶é—®é¢˜](https://leetcode-cn.com/problems/qing-wa-tiao-tai-jie-wen-ti-lcof/)ğŸ€„ï¸

![image-20210813162608191](images/image-20210813162608191.png)

```java
class Solution {
    public int numWays(int n) {
        int a = 1, b = 1, sum;
        for(int i = 0; i < n; i++){
            sum = (a + b) % 1000000007;
            a = b;
            b = sum;
        }
        return a;	
    }
}
```

#### [è¿›é˜¶è·³å°é˜¶](https://www.nowcoder.com/practice/22243d016f6b47f2a6928b4313c85387?tpId=13&tqId=11162&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking&from=cyc_github)

```java
//1.åŠ¨æ€
public class Solution {
    public int jumpFloorII(int target) {
        int[] dp = new int[target];
        Arrays.fill(dp, 1);
        for (int i = 1; i < target; i++)
            for (int j = 0; j < i; j++)
                dp[i] += dp[j];
        return dp[target - 1];
    }
}
//2.æ•°å­¦
f(n-1) = f(n-2) + f(n-3) + ... + f(0)
f(n) = f(n-1) + f(n-2) + ... + f(0)
f(n) = 2*f(n-1)
public int JumpFloorII(int target) {
    return (int) Math.pow(2, target - 1);
}
```

#### [å‰‘æŒ‡ Offer 19. æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…](https://leetcode-cn.com/problems/zheng-ze-biao-da-shi-pi-pei-lcof/) Â ğŸ’£

```java
//T,S:O(mn)
class Solution {
    public boolean isMatch(String A, String B) {
        int n = A.length();
        int m = B.length();
        boolean[][] f = new boolean[n + 1][m + 1];

        for (int i = 0; i <= n; i++) {
            for (int j = 0; j <= m; j++) {
                //åˆ†æˆç©ºæ­£åˆ™å’Œéç©ºæ­£åˆ™ä¸¤ç§
                if (j == 0) {
                    f[i][j] = i == 0;
                } else {
                    //éç©ºæ­£åˆ™åˆ†ä¸ºä¸¤ç§æƒ…å†µ * å’Œ é*
                    if (B.charAt(j - 1) != '*') {
                        if (i > 0 && (A.charAt(i - 1) == B.charAt(j - 1) || B.charAt(j - 1) == '.')) {
                            f[i][j] = f[i - 1][j - 1];
                        }
                    } else {
                        //ç¢°åˆ° * äº†ï¼Œåˆ†ä¸ºçœ‹å’Œä¸çœ‹ä¸¤ç§æƒ…å†µ
                        //ä¸çœ‹
                        if (j >= 2) {
                            f[i][j] |= f[i][j - 2];
                        }
                        //çœ‹
                        if (i >= 1 && j >= 2 && (A.charAt(i - 1) == B.charAt(j - 2) || B.charAt(j - 2) == '.')) {
                            f[i][j] |= f[i - 1][j];
                        }
                    }
                }
            }
        }
        return f[n][m];
    }
}
```

#### [å‰‘æŒ‡ Offer 42. è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ](https://www.nowcoder.com/practice/459bd355da1549fa8a49e350bf3df484?tpId=13&tqId=11183&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking&from=cyc_github)

![image-20210813162640327](images/image-20210813162640327.png)

```java
//T:O(n)
/*
æ€è·¯ï¼š
pre = maxï¼ˆå½“å‰æ•°ï¼Œä¸Šä¸€ä¸ªæ•°+å½“å‰æ•°ï¼‰
res = maxï¼ˆä¸Šä¸€æ¬¡ç»“æœï¼Œpreï¼‰
*/
class Solution {
    public int maxSubArray(int[] nums) {
        int pre=0,res = nums[0];	//âš ï¸åˆå§‹åŒ–
        for(int x:nums){
            pre = Math.max(x,pre+x);	//âš ï¸å½“å‰x æˆ–è€… xåŠ ä¸Šä¹‹å‰
            res = Math.max(pre,res);
        }
        return res;
    }
}
```

#### [å‰‘æŒ‡ Offer 46. æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸²](https://leetcode-cn.com/problems/ba-shu-zi-fan-yi-cheng-zi-fu-chuan-lcof/) ğŸ’£ğŸ’£

![image-20210812100300618](images/image-20210812100300618.png)

![image-20210812101125269](images/image-20210812101125269.png)

![image-20220403222407023](images/image-20220403222407023.png)

```java
//Tï¼šO(n)
//Sï¼šç”¨äº†æ»šåŠ¨æ•°ç»„O(1)ï¼Œä½†æ˜¯è¿™é‡Œç”¨äº†ä¸€ä¸ªä¸´æ—¶å˜é‡æŠŠæ•°å­—è½¬åŒ–æˆäº†å­—ç¬¦ä¸²ï¼Œæ•…æ¸è¿›ç©ºé—´å¤æ‚åº¦ä¹Ÿæ˜¯ O(logâ¡n)
/*
é¢˜æ„ï¼š 0ç¿»è¯‘æˆ â€œaâ€ ï¼Œ1 ç¿»è¯‘æˆ â€œbâ€ï¼Œâ€¦â€¦ï¼Œ11 ç¿»è¯‘æˆ â€œlâ€ï¼Œâ€¦â€¦ï¼Œ25 ç¿»è¯‘æˆ â€œzâ€ï¼Œæœ‰å¤šå°‘ç§ä¸åŒçš„ç¿»è¯‘æ–¹æ³•ã€‚
æ€è·¯ï¼š
æ»šåŠ¨æ•°ç»„ï¼š
1ï¼‰å•ç‹¬ä¸€ä¸ªæ•°å­—q:f(n-1)
2ï¼‰2ä¸ªæ•°å­—p:f(n-2)  r:f(n) 
*/
class Solution {
    public int translateNum(int num) {
        String str = Integer.toString(num);
        int p=0,q=0,r=1; //p:f(n-2) q:f(n-1) r:f(n) âš ï¸
        for(int i =0;i<str.length();i++){
            p =q;
            q =r;
            r =0;	//å¤åŸâš ï¸
            r += q; //f(i-1)è´¡çŒ®		//1ä¸ªæ•°å­—
            if(i == 0) continue;	//i=0åªæœ‰1ä¸ªæ•°å­—
            
            String pre = str.substring(i-1,i+1);    //å–i-1åˆ°içš„å­ä¸²
            if(pre.compareTo("25") <= 0 && pre.compareTo("10") >= 0)	//2ä¸ªæ•°å­—
                r+=p;   //f(i-2)è´¡çŒ®
        }
        return r;
    }
}
```

#### [å‰‘æŒ‡ Offer 47. ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼](https://leetcode-cn.com/problems/li-wu-de-zui-da-jie-zhi-lcof/)

![image-20210812101713646](images/image-20210812101713646.png)

![image-20210812102323894](images/image-20210812102323894.png)

```java
//T:O(MN)
//S:O(1) gridä½œä¸ºdpä½¿ç”¨
/*
æ€è·¯ï¼š
1ï¼‰iï¼Œjéƒ½ä¸º0ï¼Œç›´æ¥è·³è¿‡
2ï¼‰ä»è¾¹ç•Œä»å·¦åˆ°å³ï¼Œä»ä¸Šåˆ°ä¸‹ï¼Œç›´æ¥åŠ ï¼›
3ï¼‰ä¸­é—´å…ƒç´ ï¼Œmaxï¼ˆå·¦è¾¹ï¼Œä¸Šè¾¹ï¼‰
*/
class Solution {
    public int maxValue(int[][] grid) {
        int m=grid.length,n=grid[0].length; //mè¡Œï¼Œnåˆ—
        for(int i=0;i<m;i++){
            for(int j=0;j<n;j++){
                if(i == 0 && j ==0) continue;
                if(i == 0) grid[0][j] += grid[0][j-1];              //ä»å·¦
                else if(j==0) grid[i][0] += grid[i-1][0];           //ä»ä¸Š
                else grid[i][j] += Math.max(grid[i][j-1],grid[i-1][j]);//ä»ä¸Šæˆ–ä»å·¦
            }
        }
        return grid[m-1][n-1];
    }
}
```

#### [å‰‘æŒ‡ Offer 48. æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²](https://leetcode-cn.com/problems/zui-chang-bu-han-zhong-fu-zi-fu-de-zi-zi-fu-chuan-lcof/)

![image-20210701155141042](images/image-20210701155141042.png)

![image-20220310102655370](images/image-20220310102655370.png)

```java
class Solution {
    public int lengthOfLongestSubstring(String s) {
        Map<Character,Integer> dic = new HashMap<>();   //å“ˆå¸Œè¡¨
        //dp[i]è¡¨ç¤ºä»¥å­—ç¬¦s[j]ç»“å°¾çš„æœ€é•¿ä¸é‡å¤å­ä¸²
        int res=0,tmp=0;
        for(int j=0;j<s.length();j++){
            int i = dic.getOrDefault(s.charAt(j),-1);   //è·å–içš„ç´¢å¼•,-1ä½é»˜è®¤å€¼
            dic.put(s.charAt(j),j); //æ›´æ–°å“ˆå¸Œè¡¨
            tmp = tmp < j-i ? tmp+1:j-i;//dp[j-1] < j-iï¼Œåˆ™æœ€é•¿é•¿åº¦ä¸ºtmp+1ï¼Œå¦åˆ™æœ‰é‡å¤çš„ï¼Œj-i
            res = Math.max(res,tmp);    //max(dp[j-1],dp[j])
        }
        return res;
    }
}
```

#### [å‰‘æŒ‡ Offer 49. ä¸‘æ•°](https://leetcode-cn.com/problems/chou-shu-lcof/)

![image-20220403224922110](images/image-20220403224922110.png)

```java
//æŠŠåªåŒ…å«å› å­ 2ã€3 å’Œ 5 çš„æ•°ç§°ä½œä¸‘æ•°ï¼ˆUgly Numberï¼‰ã€‚ä¾‹å¦‚ 6ã€8 éƒ½æ˜¯ä¸‘æ•°ï¼Œä½† 14 ä¸æ˜¯ï¼Œå› ä¸ºå®ƒåŒ…å«å› å­ 7ã€‚ä¹ æƒ¯ä¸Šæˆ‘ä»¬æŠŠ 1 å½“åšæ˜¯ç¬¬ä¸€ä¸ªä¸‘æ•°ã€‚æ±‚æŒ‰ä»å°åˆ°å¤§çš„é¡ºåºçš„ç¬¬ N ä¸ªä¸‘æ•°ã€‚
//è®¾åŠ¨æ€è§„åˆ’åˆ—è¡¨dp ï¼Œdp[i]ä»£è¡¨ç¬¬ i+1 ä¸ªä¸‘æ•°ï¼›ï¼ˆä¸‹æ ‡ä»0å¼€å§‹çš„ï¼‰
//T:O(n) S:O(1)
/*
æ€è·¯ï¼š
1ï¼‰è®¾ç½®æŒ‡é’ˆ a,b,cæŒ‡å‘é¦–ä¸ªä¸‘æ•°ï¼ˆå³ 1 ï¼‰
2ï¼‰å½“å‰dp[i] èµ‹å€¼(n1,n2,n3)
3ï¼‰åˆ¤æ–­å½“å‰dp[i]å±äºå“ªä¸ªï¼Œå¯¹åº”aï¼Œbï¼ŒcåŠ 1
*/
public class Solution {
    public int GetUglyNumber_Solution(int n) {
        if(n == 0) return 0;
        int a=0,b=0,c=0;
        int[] dp = new int[n];
        dp[0] = 1;	//é¦–ä¸ªä¸‘æ•°
        for(int i=1;i<n;i++){
            int n1=dp[a]*2,n2=dp[b]*3,n3=dp[c]*5;
            dp[i] = Math.min(n1,Math.min(n2,n3));	//æœ€å°å› å­
            if(dp[i] == n1) a++;
            if(dp[i] == n2) b++;
            if(dp[i] == n3) c++;
        }
        return dp[n-1];
    }
}
```

#### [å‰‘æŒ‡ Offer 60. nä¸ªéª°å­çš„ç‚¹æ•°](https://leetcode-cn.com/problems/nge-tou-zi-de-dian-shu-lcof/)ğŸ’£

```java
/*

*/
```

#### [å‰‘æŒ‡ Offer 63. è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦](https://leetcode-cn.com/problems/gu-piao-de-zui-da-li-run-lcof/)

![image-20210813162930157](images/image-20210813162930157.png)

```java
//T:O(n) S:O(1)
/*
æ€è·¯ï¼š
1ï¼‰æ‰€æœ‰èŠ±è´¹= min(å½“å‰ä»·æ ¼,å†å²èŠ±è´¹)  ä½ä»·ä¹°å…¥
2ï¼‰maxï¼ˆå½“å‰åˆ©æ¶¦ï¼Œå½“å‰ä»·æ ¼-æ‰€æœ‰èŠ±è´¹ï¼‰ é«˜ä»·å–å‡º
*/
class Solution {
    public int maxProfit(int[] prices) {
        int cost = Integer.MAX_VALUE, profit = 0;//âš ï¸åˆå§‹åŒ–
        for(int price : prices) {
            cost = Math.min(cost, price);	//min(prices[0:i])
            profit = Math.max(profit, price - cost);
        }
        return profit;
}
```

## ï¼ˆ7ï¼‰æ•°æ®ç»“æ„

### 7.1 æ¨¡æ‹Ÿ

#### [å‰‘æŒ‡ Offer 03. æ•°ç»„ä¸­é‡å¤çš„æ•°å­—](https://www.nowcoder.com/practice/6fe361ede7e54db1b84adc81d09d8524?tpId=13&tqId=11203&tab=answerKey&from=cyc_github)

```java
//åŸåœ°äº¤æ¢
//T:O(n) S:O(1)
/*
æ€è·¯ï¼š
1ï¼‰ä»0å¼€å§‹éå†åˆ°n-1
2ï¼‰while å‘ç°å½“å‰æ•°å­—ä¸ç­‰äºå½“å‰ä¸‹æ ‡
	å†åˆ¤æ–­å½“å‰æ•°å­— æ˜¯å¦ä¸ ä»¥å½“å‰æ•°å­—ä¸ºä¸‹æ ‡çš„æ•°å­—æ˜¯å¦ä¸€æ ·ï¼Œæ˜¯çš„è¯å°±æ˜¯é‡å¤çš„æ•°ï¼Œç›´æ¥è¿”å›ï¼›ä¸æ˜¯å°±æ›¿æ¢ã€‚
*/
class Solution {
    public int findRepeatNumber(int[] nums) {
        for (int i = 0; i < nums.length; i++) {
            while (nums[i] != i) {
                if (nums[i] == nums[nums[i]]) {
                    return  nums[i];
                }
                swap(nums, i, nums[i]);
            }
        }
        return -1;
    }
    private void swap(int[] nums, int i, int j) {
        int t = nums[i];
        nums[i] = nums[j];
        nums[j] = t;
    }
}
```

#### [442. æ•°ç»„ä¸­é‡å¤çš„æ•°æ®](https://leetcode.cn/problems/find-all-duplicates-in-an-array/)

```java
//å¤šä¸ª
class Solution {
    public List<Integer> findDuplicates(int[] nums) {
        int n = nums.length;
        for (int i = 0; i < n; ++i) {
            while (nums[i] != nums[nums[i] - 1]) {
                swap(nums, i, nums[i] - 1);
            }
        }
        List<Integer> ans = new ArrayList<Integer>();
        for (int i = 0; i < n; ++i) {
            if (nums[i] - 1 != i) {
                ans.add(nums[i]);
            }
        }
        return ans;
    }

    public void swap(int[] nums, int index1, int index2) {
        int temp = nums[index1];
        nums[index1] = nums[index2];
        nums[index2] = temp;
    }
}
```

#### [å‰‘æŒ‡ Offer 29. é¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µ](https://www.nowcoder.com/practice/9b4c81a02cd34f76be2659fa0d54342a?tpId=13&tqId=11172&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking&from=cyc_github)

```java
//æ¨¡æ‹Ÿã€
//å…ˆè®¾å®šè¾¹ç•Œï¼Œå†éå†è¾¹ç•Œå¹¶åˆ¤æ–­è¾¹ç•Œæ˜¯å¦è¶…å‡º
//T:O(mn) S:O(mn)
/*
æ€è·¯ï¼š
1ï¼‰è®¾å®šè¾¹ç•Œl=0,r=arr[0].length-1,t=0,b=arr.length-1;
2ï¼‰éå†è¾¹ç•Œ
*/
class Solution {
    public int[] spiralOrder(int[][] arr) {
      	ArrayList<Integer> res = new ArrayList<>();
        int l=0,r=arr[0].length-1,t=0,b=arr.length-1;
        while(true){
            for(int i=l;i<=r;i++)    res.add(arr[t][i]);   //ä»å·¦åˆ°å³
            if(++t > b) break;
            for(int i=t;i<=b;i++)    res.add(arr[i][r]);   //ä»ä¸Šåˆ°ä¸‹
            if(--r < l) break;
            for(int i=r;i>=l;i--)    res.add(arr[b][i]);   //ä»å³åˆ°å·¦
            if(--b < t) break;
            for(int i=b;i>=t;i--)    res.add(arr[i][l]);   //ä»ä¸‹åˆ°ä¸Š
            if(++l > r) break;
        }
        return res;
    }
}
```

#### æ”¹è¿›ç‰ˆï¼šå…ˆé¡ºæ—¶é’ˆå†é€†æ—¶é’ˆæ‰“å°

```java

```



#### [å‰‘æŒ‡ Offer 45. æŠŠæ•°ç»„æ’æˆæœ€å°çš„æ•°](https://leetcode-cn.com/problems/ba-shu-zu-pai-cheng-zui-xiao-de-shu-lcof/)

```java
class node
{
	int x;
	int y;
}
class cmp implements Comparator<node>
{
	public int compare(node a, node b)
	{
		if(a.x - b.x != 0) return a.x - b.x;
		else return a.y - b.y;
	}
}
Arrays.sort(s,0,n,new cmp());  å¯¹sæ•°ç»„æ’åº
```



```java
//å¿«æ’
//T:O(NlogN) ï¼Œæœ€å·®ä¸º O(N^2) 	S:O(N)
/** 
è‡ªå®šä¹‰æ’åº
a+b æˆ–è€… b+a
*/
class Solution {
    public String minNumber(int[] nums) {
        String[] strs = new String[nums.length];							//å­˜å‚¨æˆå­—ç¬¦ä¸²æ•°ç»„
        for(int i = 0; i < nums.length; i++)
            strs[i] = String.valueOf(nums[i]);
      
        Arrays.sort(strs, new Comparator<String>(){
            public int compare(String x, String y) {
                return (x + y).compareTo(y + x);	//å‡åº
            }
        });
        //Arrays.sort(strs, (x, y) -> (x + y).compareTo(y + x)); //x+y >y+xï¼Œåˆ™x>y,xæ”¾åé¢
      //Arrays.sort(Integernum, (a, b)->b - a); é™åº
       //quickSort(strs, 0, strs.length - 1);            //æ’åº
      
        StringBuilder res = new StringBuilder();							//ç»“æœé›†
        for(String s : strs)
            res.append(s);
        return res.toString();
    }
  
  
  void quickSort(String[] strs, int l, int r) {
        if(l >= r) return;
    		String tmp = strs[l];
    
        int i = l, j = r;
        while(i < j) {
            //j + l > l + jï¼Œè¯´æ˜j>l
            while((strs[j] + strs[l]).compareTo(strs[l] + strs[j]) >= 0 && i < j) j--;
            while((strs[i] + strs[l]).compareTo(strs[l] + strs[i]) <= 0 && i < j) i++;
            tmp = strs[i];
            strs[i] = strs[j];
            strs[j] = tmp;
        }
    
        strs[i] = strs[l];
        strs[l] = tmp;
        quickSort(strs, l, i - 1);
        quickSort(strs, i + 1, r);
    }
}
```

#### [å‰‘æŒ‡ Offer 58 - I. ç¿»è½¬å•è¯é¡ºåº](https://leetcode-cn.com/problems/fan-zhuan-dan-ci-shun-xu-lcof/)

#### [NC269 ç¿»è½¬å•è¯åºåˆ—](https://www.nowcoder.com/practice/3194a4f4cf814f63919d0790578d51f3?tpId=196&rp=1&ru=%2Fexam%2Foj&qru=%2Fexam%2Foj&sourceUrl=%2Fexam%2Foj%3Fpage%3D1%26pageSize%3D50%26search%3D%25E7%25BF%25BB%25E8%25BD%25AC%26tab%3D%25E7%25AE%2597%25E6%25B3%2595%25E7%25AF%2587%26topicId%3D196&difficulty=&judgeStatus=&tags=&title=%E7%BF%BB%E8%BD%AC&gioEnter=menu)         ğŸ’£

```java
//T:O(N) S:O(1)
//åŒæŒ‡é’ˆ
class Solution {
    public String reverseWords(String s) {
        s = s.trim();    //æ³¨æ„ï¼šå»é™¤é¦–å°¾ç©ºæ ¼
        int l=s.length()-1,r=l; //æ³¨æ„ï¼šéƒ½ä»æœ«å°¾å¼€å§‹
        StringBuffer res = new StringBuffer();
        while(l >= 0){
            while(l>=0 && s.charAt(l) != ' ') l--;
            res.append(s.substring(l+1,r+1)+" ");   //læ­¤æ—¶ä¸ºç©ºæ ¼ 
            while(l >= 0 && s.charAt(l) == ' ') l--; //åˆ é™¤ç©ºæ ¼
            r = l; //æ›´æ–°r
        }
        return res.toString().trim();   //æ³¨æ„ï¼šè¦åŠ trim()
    }
}




//å…ˆç¿»è½¬æ¯ä¸ªå•è¯ï¼Œå†ç¿»è½¬æ•´ä¸ªå­—ç¬¦ä¸²ã€‚
public class Solution {
    public String ReverseSentence(String str) {
        int n = str.length();
        char[] chars = str.toCharArray();
        int start = 0, end = 0;
        while (end <= n) {//âš ï¸
            if (end == n || chars[end] == ' ') {	//jé‡åˆ°ç©ºæ ¼æˆ–è€…ç»“å°¾
                reverse(chars, start, end- 1);		//ç¿»è½¬[start,end-1]
                start = end + 1;  //æ›´æ–°i
            }
            end++;
        }
        reverse(chars, 0, n - 1);
        return new String(chars);
    }

    private void reverse(char[] c, int i, int j) {
        while (i < j)
            swap(c, i++, j--);
    }

    private void swap(char[] c, int i, int j) {
        char t = c[i];
        c[i] = c[j];
        c[j] = t;
    }
}


```

#### [58.2å·¦æ—‹è½¬å­—ç¬¦ä¸²](https://www.nowcoder.com/practice/12d959b108cb42b1ab72cef4d36af5ec?tpId=13&tqId=11196&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking&from=cyc_github)

```java
/*å…ˆå°† "abc" å’Œ "XYZdef" åˆ†åˆ«ç¿»è½¬ï¼Œå¾—åˆ° "cbafedZYX"ï¼Œç„¶åå†æŠŠæ•´ä¸ªå­—ç¬¦ä¸²ç¿»è½¬å¾—åˆ° "XYZdefabc"ã€‚*/
//å»é‡ï¼›å…ˆç¿»è½¬å‰åŠéƒ¨åˆ†ï¼Œå†ç¿»è½¬ååŠéƒ¨åˆ†ï¼›æœ€åæ•´ä½“ç¿»è½¬
public String LeftRotateString(String str, int n) {
    if(str.length()==0||n==0) return str;
    int k = n%str.length();//å»é‡
    char[] chars = str.toCharArray();
    reverse(chars, 0, k - 1);
    reverse(chars, k, chars.length - 1);
    reverse(chars, 0, chars.length - 1);
    return new String(chars); //String.valueOf(chars);
}

private void reverse(char[] chars, int i, int j) {
    while (i < j)
        swap(chars, i++, j--);
}

private void swap(char[] chars, int i, int j) {
    char t = chars[i];
    chars[i] = chars[j];
    chars[j] = t;
}
```

#### [å‰‘æŒ‡ Offer 66. æ„å»ºä¹˜ç§¯æ•°ç»„](https://leetcode-cn.com/problems/gou-jian-cheng-ji-shu-zu-lcof/)ğŸ’£

![image-20220404204345098](images/image-20220404204345098.png)

```java
//è¡¨æ ¼åˆ†åŒº
//T:O(N)	S:O(1)
/*
æ€è·¯ï¼š
å…ˆè®¡ç®—ä¸‹ä¸‰è§’
è®¡ç®—ä¸Šä¸‰è§’
*/
class Solution {
    public int[] constructArr(int[] a) {
        if(a.length == 0) return new int[0];
        int[] b=new int[a.length];
        int tmp=1;
        b[0] = 1;   //æ³¨æ„åˆå§‹åŒ–1
        for(int i=1;i<a.length;i++){    //å…ˆè®¡ç®—ä¸‹ä¸‰è§’ï¼Œâš ï¸ä»1å¼€å§‹
            tmp *= a[i-1];
          	b[i] = tmp;
        }
        tmp=1;
        for(int i=a.length-2;i>=0;i--){ //å…ˆè®¡ç®—ä¸Šä¸‰è§’ âš ï¸ä»å€’æ•°ç¬¬äºŒè¡Œå¼€å§‹
            tmp *= a[i+1];  //âš ï¸i+1æœ€åä¸€åˆ—å¼€å§‹
            b[i] *= tmp;
        }
        return b;
    }
}
```

#### [å‰‘æŒ‡ Offer 67. æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°](https://leetcode-cn.com/problems/ba-zi-fu-chuan-zhuan-huan-cheng-zheng-shu-lcof/) ğŸ’£

```java
//T:O(N)	Sï¼šO(N)
/*
å»é™¤ç©ºæ ¼
ç¬¦å·å¤„ç†
å¾ªç¯
	éå­—ç¬¦å¤„ç†
	è¶Šç•Œå¤„ç†			2147483647
	ç»“æœè®¡ç®—
*/
class Solution {
    public int strToInt(String str) {
        char[] c = str.trim().toCharArray();    //1.å»é™¤é¦–å°¾ç©ºæ ¼
        if(c.length == 0) return 0;
        int res = 0, bndry = Integer.MAX_VALUE / 10;
        int i = 1, sign = 1;
        if(c[0] == '-') sign = -1; //2.ç¬¦å·å¤„ç†
        else if(c[0] != '+') i = 0;
        for(int j = i; j < c.length; j++) {
            if(c[j] < '0' || c[j] > '9') break;//3.éå­—ç¬¦å¤„ç†
            if(res > bndry || res == bndry && c[j] > '7') return sign == 1 ? Integer.MAX_VALUE : Integer.MIN_VALUE;  //4.è¶Šç•Œå¤„ç†ï¼šæœ€å¤§å€¼ä¸æœ€å°å€¼å¤„ç†
            res = res * 10 + (c[j] - '0');
        }
        return sign * res;
    }
}
```

### 7.2 æ ˆå’Œé˜Ÿåˆ—

#### [å‰‘æŒ‡ Offer 06. ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨](https://www.nowcoder.com/practice/d0267f7f55b3412ba93bd35cfa8e8035?tpId=13&tqId=11156&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking&from=cyc_github)

```java
//ç”¨æ ˆ
//T:O(N) S:O(N)
/*1.é€’å½’
*/
public ArrayList<Integer> printListFromTailToHead(ListNode listNode) {
    ArrayList<Integer> ret = new ArrayList<>();
    if (listNode != null) {
        ret.addAll(printListFromTailToHead(listNode.next));//âš ï¸
        ret.add(listNode.val);
    }
    return ret;
}
/*2.æ ˆ*/
class Solution {
    public int[] reversePrint(ListNode head) {
        LinkedList<Integer> stk = new LinkedList<>();
       
       int cnt = 0;
        while(head!=null){
            cnt++;
            stk.push(head.val);
            head = head.next;
        }
        //Integer.parseInt(String str)  Integer.toString(int i)
        //Integerè½¬int A.intValue()
        int[] res = new int[cnt];
        for(int i=0;i<cnt;i++){
            res[i] = stk.pop().intValue();
        }
        return res;
    }
}
```

#### [å‰‘æŒ‡ Offer 09. ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—](https://www.nowcoder.com/practice/54275ddae22f475981afa2244dd448c6?tpId=13&tqId=11158&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking&from=cyc_github)

```java
//2ä¸ªæ ˆ
//æ ˆ1ï¼šè¿›  æ ˆ2ï¼šåˆ é™¤(å½“ç¬¬2ä¸ªæ ˆä¸ä¸ºç©ºæ—¶ç›´æ¥åˆ é™¤ï¼Œä¸ºç©ºæ—¶ï¼Œå°†ç¬¬ä¸€ä¸ªæ ˆçš„æ‰€æœ‰å…ƒç´ æ·»åŠ åˆ°æ ˆ2ï¼Œå†åˆ é™¤)
//T:O(1) S:O(N)
import java.util.Stack;

public class Solution {
    Stack<Integer> stack1 = new Stack<Integer>();
    Stack<Integer> stack2 = new Stack<Integer>();

    public void push(int node) {
        stack1.push(node);
    }

    public int pop() throws Exception {
        if(!stack2.isEmpty()){	//ä¸ä¸ºç©ºï¼Œç›´æ¥åˆ é™¤
            return stack2.pop();
        }else{					//æ ˆ2ä¸ºç©ºï¼Œâš ï¸å°†æ ˆ1çš„æ‰€æœ‰å…ƒç´ æ·»åŠ åˆ°æ ˆ2ï¼Œå†åˆ é™¤
            while(!stack1.isEmpty()){
                stack2.push(stack1.pop());
            }
            return stack2.isEmpty() ? -1 : stack2.pop();
        }
    }
}
```

#### [å‰‘æŒ‡ Offer 30. åŒ…å«minå‡½æ•°çš„æ ˆ](https://www.nowcoder.com/practice/4c776177d2c04c2494f2555c9fcc1e49?tpId=13&tqId=11173&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking&from=cyc_github)

```java
//è¾…åŠ©æ ˆï¼šå­˜å‚¨éä¸¥æ ¼é€’å‡çš„åºåˆ—ï¼Œminå°±æ˜¯æ ˆé¡¶
//T:O(1) S:O(N)
public class Solution {
    Stack<Integer> stack1 = new Stack<Integer>();
    Stack<Integer> stack2 = new Stack<Integer>();//æœ€å°æ ˆç»´æŠ¤æœ€å°å€¼  
    
    public void push(int x) {
        stack1.push(x);
        if(stack2.isEmpty() || stack2.peek() >= x) //ä¸ºç©ºæˆ–è€…æ ˆé¡¶å¤§äºç­‰äºxï¼Œâš ï¸éä¸¥æ ¼é€’å‡ï¼Œä¸€å®šè¦>=
            stack2.push(x);
    }
    
    public void pop() {	//âš ï¸ æ ˆ1å¼¹å‡ºçš„æ˜¯è·Ÿæ ˆ2æ ˆé¡¶ä¸€æ ·ï¼Œæ ˆ2æ‰å¼¹å‡º
        if(stack1.pop().equals(stack2.peek())) stack2.pop();
      //é˜²æ­¢æ ˆ1å¼¹å‡ºçš„ä¸æ˜¯æœ€å°å€¼
    }
    
    public int top() {
        return stack1.peek();
    }
    
    public int min() {
        return stack2.peek();
    }
}
```

#### [å‰‘æŒ‡ Offer 31. æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—](https://www.nowcoder.com/practice/d77d11405cc7470d82554cb392585106?tpId=13&tqId=11174&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking&from=cyc_github)

```java
//æ¨¡æ‹Ÿ:T:O(N) S:O(N)
/*
1ï¼‰ä¸æ–­è¿›æ ˆ
2ï¼‰ç„¶åå¾ªç¯åˆ¤æ–­æ ˆé¡¶æ˜¯å¦ä¸ä¸å‡ºæ ˆåºåˆ—ç›¸åŒï¼Œæ˜¯çš„è¯ï¼Œå‡ºæ ˆ
3ï¼‰ç›´åˆ°æ ˆä¸ºç©ºï¼Œåˆ™æ˜¯ç¬¦åˆçš„
*/
class Solution {
    public boolean validateStackSequences(int[] pushed, int[] popped) {
        Stack<Integer> stack =new Stack<Integer>();
        int i=0;
        for(int num:pushed){
            stack.push(num);  //è¿›æ ˆ
            while(!stack.isEmpty() && stack.peek() == popped[i]){   //å¾ªç¯åˆ¤æ–­å¹¶å‡ºæ ˆ
                stack.pop();
                i++;
            }
        }
        return stack.isEmpty();
    }
}
```

#### [å‰‘æŒ‡ Offer 59 - I. æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼](https://www.nowcoder.com/practice/1624bc35a45c42c0bc17d17fa0cba788?tpId=13&tqId=11217&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking&from=cyc_github)ğŸ’£

![image-20210630225352435](images/image-20210630225352435.png)

```java
//T:O(N) S:O(k)
/*
æ€è·¯ï¼š
å…ˆç”¨å †ç»´æŠ¤ä¸€ä¸ªçª—å£ï¼ˆå¹¶æŠŠç¬¬ä¸€ä¸ªå †é¡¶åŠ å…¥ç»“æœï¼‰
éå†æ•°ç»„ï¼ˆç§»åŠ¨çª—å£ï¼‰
	å°†ç¬¬ä¸€ä¸ªå…ƒç´ ç§»é™¤
	å¹¶æŠŠæœ€åä¸€ä¸ªå…ƒç´ æ·»åŠ è¿›å»
	æŠŠå †é¡¶åŠ å…¥ç»“æœ
*/
class Solution {
    public int[] maxSlidingWindow(int[] nums, int k) {
         PriorityQueue<Integer> heap = new PriorityQueue<Integer>((a,b)->(b-a));//å¤§é¡¶å †
        int len = nums.length;
        if(k == 0 || len ==0) return new int[0];
        int[] res = new int[len-k+1];
        for(int i=0;i<k;i++){
            heap.add(nums[i]);
        }
        int index = 0;
        res[index++] = heap.peek();
        for(int i=k;i<len;i++){
            heap.remove(nums[i-k]);
            heap.add(nums[i]);
            res[index++] = heap.peek();
        }
        return res;
    }
}


//å•è°ƒé€’å‡é˜Ÿåˆ—
class Solution {
    public int[] maxSlidingWindow(int[] nums, int k) {
        Deque<Integer> q = new LinkedList<>();
        int len = nums.length;
        if(k == 0 || len == 0) return new int[0];
        int[] res = new int[len-k+1];
        int index =0;
        for(int i=0;i<len;i++){
            if(i > k-1 && nums[i-k] == q.peekFirst()) q.removeFirst();
            while(!q.isEmpty() && q.peekLast() < nums[i]){  //é€’å‡ <
                q.removeLast();
            }
            q.addLast(nums[i]);
            if(i >= k-1) res[index++] = q.peekFirst();
        }
        return res;
    }
}
```

#### [å‰‘æŒ‡ Offer 59 - II. é˜Ÿåˆ—çš„æœ€å¤§å€¼](https://leetcode-cn.com/problems/dui-lie-de-zui-da-zhi-lcof/)

```java
/*
æ€è·¯ï¼š
1ï¼‰Aæ˜¯åŸå§‹åºåˆ—ï¼›Bç»´æŠ¤å•è°ƒé€’å‡åºåˆ—ï¼ˆé“¾å¤´æ˜¯æœ€å¤§å€¼ï¼‰
2ï¼‰æ’å…¥ï¼šä¸€ç›´åˆ¤æ–­é“¾å°¾æ˜¯å¦ < å½“å‰ xï¼Œä¸æ˜¯åˆ™åˆ é™¤ï¼›æ²¡æœ‰äº†ï¼Œåˆ™å°†å½“å‰xæ’å…¥Aï¼ŒB
3ï¼‰åˆ é™¤ï¼šåˆ é™¤Aï¼›å…ˆåˆ¤æ–­åˆ é™¤çš„å€¼æ˜¯å¦ä¸Bçš„æœ€å¤§å€¼ï¼ˆé“¾å¤´ï¼‰ç›¸åŒï¼Œæ˜¯çš„è¯ï¼Œæ‰åˆ é™¤
*/
class MaxQueue {
    Deque<Integer> A,B;

    public MaxQueue() {
        A = new LinkedList<Integer>();
        B = new LinkedList<Integer>();
    }
    
    public int max_value() {
        if (B.isEmpty()) {
            return -1;
        }
        return B.peekFirst();
    }
    
    public void push_back(int x) {
        while (!B.isEmpty() && B.peekLast() < x) {  //å°†Bä¸­æ‰€æœ‰å°äºxï¼Œå…¨éƒ¨åˆ é™¤ï¼Œä¸¥æ ¼é€’å‡
            B.removeLast(); //removeLast()è¿”å›ç©ºï¼ŒpollLast()è¿”å›booleanï¼Œ
        }
        B.addLast(x);     //æ’å…¥åˆ°Båé¢
        A.addLast(x);     //æ’å…¥åˆ°Aåé¢
    }
    
    public int pop_front() {
        if (A.isEmpty()) {
            return -1;
        }
        int ans = A.removeFirst();
        if (ans == B.peekFirst()) {
            B.removeFirst();
        }
        return ans;
    }
}
```

#### [å‰‘æŒ‡ Offer 41. æ•°æ®æµä¸­çš„ä¸­ä½æ•°](https://www.nowcoder.com/practice/9be0172896bd43948f8a32fb954e1be1?tpId=13&tqId=11216&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking&from=cyc_github)

```java
import java.util.PriorityQueue;
//æŸ¥æ‰¾ T:O(1) æ’å…¥O(logn) ï¼› Sï¼šO(n)
//ä¼˜å…ˆé˜Ÿåˆ—,å †
//å¦‚æœä»æ•°æ®æµä¸­è¯»å‡ºå¥‡æ•°ä¸ªæ•°å€¼ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯æ‰€æœ‰æ•°å€¼æ’åºä¹‹åä½äºä¸­é—´çš„æ•°å€¼ã€‚å¦‚æœä»æ•°æ®æµä¸­è¯»å‡ºå¶æ•°ä¸ªæ•°å€¼ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯æ‰€æœ‰æ•°å€¼æ’åºä¹‹åä¸­é—´ä¸¤ä¸ªæ•°çš„å¹³å‡å€¼ã€‚
/*
1ï¼‰2ä¸ªå †ï¼Œå¤§é¡¶å †ï¼Œå°é¡¶å †
2ï¼‰æ’å…¥å…ƒç´ ï¼Œå½“å‰ä¸ºå¶æ•°ä¸ªåˆ™æ’å…¥å³è¾¹ï¼ˆå°é¡¶å †ï¼Œæ’å…¥å‰å…ˆæ’å…¥åˆ°å·¦è¾¹ï¼Œå› ä¸ºä¸çŸ¥é“æ’å…¥çš„æ•°å­—æ˜¯å¤šå¤§ï¼‰ï¼›å¥‡æ•°ï¼Œæ’å…¥å·¦è¾¹ï¼ˆåŒç†å…ˆæ’å…¥å³è¾¹ï¼‰
*/
public class Solution {
   /* å¤§é¡¶å †ï¼Œå­˜å‚¨å·¦åŠè¾¹å…ƒç´  */
    private PriorityQueue<Integer> left = new PriorityQueue<>((a, b) -> b - a);
    /* å°é¡¶å †ï¼Œå­˜å‚¨å³åŠè¾¹å…ƒç´ ï¼Œå¹¶ä¸”å³åŠè¾¹å…ƒç´ éƒ½å¤§äºå·¦åŠè¾¹ */
    private PriorityQueue<Integer> right = new PriorityQueue<>();
    /* å½“å‰æ•°æ®æµè¯»å…¥çš„å…ƒç´ ä¸ªæ•° */
    private int N = 0;

    public void Insert(Integer val) {
        /* æ’å…¥è¦ä¿è¯ä¸¤ä¸ªå †å­˜äºå¹³è¡¡çŠ¶æ€ */
        if (N % 2 == 0) {
            /* N ä¸ºå¶æ•°çš„æƒ…å†µä¸‹æ’å…¥åˆ°å³åŠè¾¹ã€‚
             * å› ä¸ºå³åŠè¾¹å…ƒç´ éƒ½è¦å¤§äºå·¦åŠè¾¹ï¼Œä½†æ˜¯æ–°æ’å…¥çš„å…ƒç´ ä¸ä¸€å®šæ¯”å·¦åŠè¾¹å…ƒç´ æ¥çš„å¤§ï¼Œ
             * å› æ­¤éœ€è¦å…ˆå°†å…ƒç´ æ’å…¥å·¦åŠè¾¹ï¼Œç„¶ååˆ©ç”¨å·¦åŠè¾¹ä¸ºå¤§é¡¶å †çš„ç‰¹ç‚¹ï¼Œå–å‡ºå †é¡¶å…ƒç´ å³ä¸ºæœ€å¤§å…ƒç´ ï¼Œæ­¤æ—¶æ’å…¥å³åŠè¾¹ */
            left.add(val);
            right.add(left.poll());
        } else {
            right.add(val);
            left.add(right.poll());
        }
        N++;
    }

    public Double GetMedian() {
        if (N % 2 == 0)
            return (left.peek() + right.peek()) / 2.0;
        else
            return (double) right.peek();
    }
}
```

#### [41.2å­—ç¬¦æµä¸­ç¬¬ä¸€ä¸ªä¸é‡å¤çš„å­—ç¬¦](https://www.nowcoder.com/practice/00de97733b8e4f97a3fb5c680ee10720?tpId=13&tqId=11207&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking&from=cyc_github)

```java
/*ä½¿ç”¨ç»Ÿè®¡æ•°ç»„æ¥ç»Ÿè®¡æ¯ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°ï¼Œæœ¬é¢˜æ¶‰åŠåˆ°çš„å­—ç¬¦ä¸ºéƒ½ä¸º ASCII ç ï¼Œå› æ­¤ä½¿ç”¨ä¸€ä¸ªå¤§å°ä¸º 128 çš„æ•´å‹æ•°ç»„å°±èƒ½å®Œæˆæ¬¡æ•°ç»Ÿè®¡ä»»åŠ¡ã€‚

1ï¼‰ä½¿ç”¨é˜Ÿåˆ—æ¥å­˜å‚¨åˆ°è¾¾çš„å­—ç¬¦ï¼Œè®°å½•æ¬¡æ•°
2ï¼‰ç§»é™¤é˜Ÿåˆ—å¤´éƒ¨é‚£äº›å‡ºç°æ¬¡æ•°ä¸å†æ˜¯ä¸€æ¬¡çš„å…ƒç´ ã€‚
å› ä¸ºé˜Ÿåˆ—æ˜¯å…ˆè¿›å…ˆå‡ºé¡ºåºï¼Œå› æ­¤é˜Ÿåˆ—å¤´éƒ¨çš„å…ƒç´ ä¸ºç¬¬ä¸€æ¬¡åªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦ã€‚*/

import java.util.LinkedList;
import java.util.Queue;
public class Solution {
    private int[] cnts = new int[128];
    private Queue<Character> queue = new LinkedList<>();

    public void Insert(char ch) {
        cnts[ch]++;
        queue.add(ch);
        while (!queue.isEmpty() && cnts[queue.peek()] > 1)
            queue.poll();
    }

    public char FirstAppearingOnce() {
        return queue.isEmpty() ? '#' : queue.peek();
    }
}
```

### 7.3 å“ˆå¸Œè¡¨

#### [å‰‘æŒ‡ Offer 50. ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦](https://leetcode-cn.com/problems/di-yi-ge-zhi-chu-xian-yi-ci-de-zi-fu-lcof/) âš ï¸

```java
//æœ‰åºå“ˆå¸Œè¡¨
//T:O(N) S:O(1)
/*
æ€è·¯ï¼š
1ï¼‰å…ˆå­˜å‚¨æ¯ä¸ªå­—ç¬¦çš„æ¬¡æ•°
2ï¼‰å†éå†ä¸€éï¼Œæ¬¡æ•°ä¸º1çš„å°±æ˜¯
*/
class Solution {
  public int FirstNotRepeatingChar(String str) {
    int[] cnts = new int[128];
    for (int i = 0; i < str.length(); i++)
      cnts[str.charAt(i)]++;
    for (int i = 0; i < str.length(); i++)
      if (cnts[str.charAt(i)] == 1)	//ä¼ çš„æ˜¯str.charAt(i)
        return i;
    return -1;
  }
}

//æœ€ä¼˜
public int FirstNotRepeatingChar2(String str) {
    BitSet bs1 = new BitSet(128);
    BitSet bs2 = new BitSet(128);
    for (char c : str.toCharArray()) {
        if (!bs1.get(c) && !bs2.get(c))
            bs1.set(c);     // bs1å­˜åœ¨  bs2ä¸å­˜åœ¨
        else if (bs1.get(c) && !bs2.get(c))
            bs2.set(c);     // å­˜åœ¨2æ¬¡
    }
    for (int i = 0; i < str.length(); i++) {
        char c = str.charAt(i);
        if (bs1.get(c) && !bs2.get(c)) 
            return i;
    }
    return -1;
}
```

#### [å‰‘æŒ‡ Offer 61. æ‰‘å…‹ç‰Œä¸­çš„é¡ºå­](https://leetcode-cn.com/problems/bu-ke-pai-zhong-de-shun-zi-lcof/)

![Picture1.png](images/df03847e2d04a3fcb5649541d4b6733fb2cb0d9293c3433823e04935826c33ef-Picture1.png)

```java
//T:O(N)	S:O(N)
/*
æ€è·¯ï¼š
éå†æ•°ç»„
	è·³è¿‡å¤§å°ç‹
	ä¿å­˜æœ€å¤§å€¼ï¼Œæœ€å°å€¼
	é‡å¤ï¼Œç›´æ¥è¿”å›false
	å¦åˆ™å­˜å…¥å“ˆå¸Œ
æœ€å¤§å€¼-æœ€å°å€¼ < 5  5-1<=4
*/
class Solution {
    public boolean isStraight(int[] nums) {
        Set<Integer> repeat = new HashSet<>();
        int max = 0, min = 14;
        for(int num : nums) {
            if(num == 0) continue; // è·³è¿‡å¤§å°ç‹
            max = Math.max(max, num); // æœ€å¤§ç‰Œ
            min = Math.min(min, num); // æœ€å°ç‰Œ
            if(repeat.contains(num)) return false; // è‹¥æœ‰é‡å¤ï¼Œæå‰è¿”å› false
            repeat.add(num); // æ·»åŠ æ­¤ç‰Œè‡³ Set
        }
        return max - min < 5; // æœ€å¤§ç‰Œ - æœ€å°ç‰Œ < 5 åˆ™å¯æ„æˆé¡ºå­
    }
}
```

### 7.4 é“¾è¡¨

#### [å‰‘æŒ‡ Offer 18. åˆ é™¤é“¾è¡¨çš„èŠ‚ç‚¹](https://leetcode-cn.com/problems/shan-chu-lian-biao-de-jie-dian-lcof/)

```java
//T:O(1) 
/*
å¦‚æœè¿›è¡Œ N æ¬¡æ“ä½œï¼Œé‚£ä¹ˆå¤§çº¦éœ€è¦æ“ä½œèŠ‚ç‚¹çš„æ¬¡æ•°ä¸º N-1+N=2N-1ï¼Œå…¶ä¸­ N-1 è¡¨ç¤º N-1 ä¸ªä¸æ˜¯å°¾èŠ‚ç‚¹çš„æ¯ä¸ªèŠ‚ç‚¹ä»¥ O(1) çš„æ—¶é—´å¤æ‚åº¦æ“ä½œèŠ‚ç‚¹çš„æ€»æ¬¡æ•°ï¼ŒN è¡¨ç¤º 1 ä¸ªå°¾èŠ‚ç‚¹ä»¥ O(N) çš„æ—¶é—´å¤æ‚åº¦æ“ä½œèŠ‚ç‚¹çš„æ€»æ¬¡æ•°ã€‚(2N-1)/N ~ 2,å› æ­¤è¯¥ç®—æ³•çš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º O(1)ã€‚*/
/*
1ï¼‰å…ˆåˆ¤æ–­åˆ é™¤çš„æ˜¯ä¸æ˜¯å¤´ç»“ç‚¹
2ï¼‰ä¸æ˜¯çš„ï¼Œæ‰¾åˆ°åˆ é™¤çš„ç»“ç‚¹
3ï¼‰æ‰¾åˆ°äº†ï¼Œå°†å…¶åˆ é™¤
*/
class Solution {
    public ListNode deleteNode(ListNode head, int val) {
        if(head.val == val) return head.next;   //åˆ é™¤çš„æ˜¯å¤´ç»“ç‚¹
        ListNode pre = head, cur = head.next;   //2ä¸ªæŒ‡é’ˆ
        while(cur != null && cur.val != val){
            pre = cur;
            cur = cur.next;
        }
        if(cur != null) pre.next = cur.next;    //å¦‚æœæ‰¾åˆ°äº†ï¼Œå°†å½“å‰ç»“ç‚¹åˆ é™¤
        return head;
    }
}
```

#### [18.2åˆ é™¤é“¾è¡¨ä¸­é‡å¤çš„ç»“ç‚¹](https://www.nowcoder.com/practice/fc533c45b73a41b0b44ccba763f866ef?tpId=13&tqId=11209&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking&from=cyc_github)

```java
/*
å½“å‰æŒ‡é’ˆå’Œå¤´æŒ‡é’ˆæ˜¯å¦ç›¸åŒï¼Œæ˜¯ç›¸åŒåˆ é™¤ï¼Œç›´åˆ°ä¸åŒï¼Œé€’å½’ï¼›
*/
public class Solution {
    public ListNode deleteDuplication(ListNode pHead) {
        //ç©ºé“¾è¡¨
        if(pHead == null) 
            return null;
        ListNode res = new ListNode(0);
        //åœ¨é“¾è¡¨å‰åŠ ä¸€ä¸ªè¡¨å¤´
        res.next = pHead; 
        ListNode cur = res;
        while(cur.next != null && cur.next.next != null){ 
            //é‡åˆ°ç›¸é‚»ä¸¤ä¸ªèŠ‚ç‚¹å€¼ç›¸åŒ
            if(cur.next.val == cur.next.next.val){ 
                int temp = cur.next.val;
                //å°†æ‰€æœ‰ç›¸åŒçš„éƒ½è·³è¿‡
                while (cur.next != null && cur.next.val == temp) 
                    cur.next = cur.next.next;
            }
            else 
                cur = cur.next;
        }
        //è¿”å›æ—¶å»æ‰è¡¨å¤´
        return res.next; 
    }
}

```

#### [å‰‘æŒ‡ Offer 24. åè½¬é“¾è¡¨](https://www.nowcoder.com/practice/75e878df47f24fdc9dc3e400ec6058ca?tpId=13&tqId=11168&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking&from=cyc_github)

```java
//å‰åæŒ‡é’ˆ
//T:O(N) S:O(1) 
class Solution {
    public ListNode ReverseList(ListNode head) {
        ListNode pre = null;
        ListNode cur = head;
        while(cur != null){
            ListNode tmp = cur.next;
            cur.next = pre;
            
            pre = cur;
            cur = tmp;
        }
        return pre;
    }
}
```

#### [å‰‘æŒ‡ Offer 35. å¤æ‚é“¾è¡¨çš„å¤åˆ¶](https://www.nowcoder.com/practice/f836b2c43afc4b35ad6adc41ec941dba?tpId=13&tqId=11178&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking&from=cyc_github)ğŸ’£ğŸ’£

![image-20220227133912093](images/image-20220227133912093.png)

```java
public class Solution {
    public RandomListNode Clone(RandomListNode pHead) {
        if (pHead == null)
            return null;
        // æ’å…¥æ–°èŠ‚ç‚¹   
        RandomListNode cur = pHead;
        while (cur != null) {
            RandomListNode clone = new RandomListNode(cur.label);
            clone.next = cur.next;
            cur.next = clone;
            cur = clone.next;
        }
        // å»ºç«‹ random é“¾æ¥
        cur = pHead;
        while (cur != null) {
            RandomListNode clone = cur.next;	//1->3  cloneè¦è·Ÿcurä¸€æ ·è¦æœ‰random 1' -> 3'
            if (cur.random != null)
                clone.random = cur.random.next; //clone->cur
          
            cur = clone.next;	//æ›´æ–°cur
        }
        // ï¼ˆè·³1ä¸ªï¼‰æ‹†åˆ†  1->1'->2->2'
        cur = pHead;
        RandomListNode pCloneHead = pHead.next;	//âš ï¸ä¿å­˜
        while (cur.next != null) {
            RandomListNode tmp = cur.next;    //clone 1'
            cur.next = tmp.next;			  //1->2
            cur = tmp;						  //1'
        }
        return pCloneHead;
    }
}
```

#### [å‰‘æŒ‡ Offer 52. ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹](https://leetcode-cn.com/problems/liang-ge-lian-biao-de-di-yi-ge-gong-gong-jie-dian-lcof/)

```java
//åŒæŒ‡é’ˆ  å®Œç¾å¶é‡
// T:O(M+N) S:O(1)
public class Solution {
  	 public ListNode FindFirstCommonNode(ListNode pHead1, ListNode pHead2) {
        ListNode node1 = pHead1,node2 =pHead2;
        while(node1 != node2){	//é‡ç‚¹
            node1 = node1 != null ? node1.next:pHead2;//å¾ªç¯éå†1ï¼Œåˆ°nullæ—¶ï¼Œå˜ä¸ºhead2
            node2 = node2 != null ? node2.next:pHead1;
        }
        return node1;//è¿”å›node2ä¹Ÿå¯ä»¥
    }
}
```

### 7.5 ä½è¿ç®—

#### [å‰‘æŒ‡ Offer 15. äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°](https://leetcode-cn.com/problems/er-jin-zhi-zhong-1de-ge-shu-lcof/)

```java
//æ—¶é—´å¤æ‚åº¦ O(M):MäºŒè¿›åˆ¶1çš„ä¸ªæ•° Sï¼šO(1)
public class Solution {
    public int hammingWeight(int n) {
        int res = 0;
        while(n != 0) {
            res++;
            n &= ï¼ˆn - 1ï¼‰; //å»é™¤æœ€å³è¾¹çš„1
        }
        return res;
    }
}
```

#### [å‰‘æŒ‡ Offer 56 - I. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•°](https://leetcode-cn.com/problems/shu-zu-zhong-shu-zi-chu-xian-de-ci-shu-lcof/)ğŸ’£

![Picture2.png](images/1614836837-oygHyk-Picture2.png)

```java
//æ‰¾æ•°ç»„ä¸­å‡ºç°1æ¬¡çš„1ä¸ªæ•°å­—ï¼Œå…¨å‘˜å¼‚æˆ–æ—¢å¯ã€‚  ä»»ä½•æ•°å­—å’Œæœ¬èº«å¼‚æˆ–ä¸º0ï¼›0ä¸ä»»ä½•æ•°å­—å¼‚æˆ–è¿˜æ˜¯æ•°å­—è‡ªèº«

//è€Œæœ¬é¢˜æ‰¾å‡ºç°1æ¬¡çš„2ä¸ªæ•°å­—
//è€ƒè™‘å°†è¿™ä¸ª2ä¸ªæ•°å­—åˆ†ç»„ï¼Œå¹¶ä¸”æ»¡è¶³åˆ†åˆ°ä¸åŒçš„ç»„ï¼Œè¿˜æœ‰å…¶ä»–ç›¸åŒçš„æ•°å­—åˆ†åˆ°ç›¸åŒçš„ç»„

//T:O(N) S:O(1)
class Solution {
    public int[] singleNumbers(int[] nums) {
        //å…¨å‘˜å¼‚æˆ–åå¾—åˆ°è¿™ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°ï¼ˆæœ¬é¢˜éœ€è¦æ‰¾åˆ°2ä¸ªï¼‰
        int ret = 0; //ç»“æœ,0ä¸ä»»ä½•æ•°å¼‚æˆ–è¿˜æ˜¯è‡ªèº«
        for (int n : nums) {
            ret ^= n;
        }	//reté‚£2ä¸ªä¸åŒæ•°å­—çš„å¼‚æˆ–ç»“æœ
      
      //æ‰¾åˆ°retç¬¬ä¸€ä½æ˜¯1çš„
        //æ¯”å¦‚retä¸º4ï¼Œåˆ™ç¬¬ä¸€ä½ä¸ä¸ºçš„æ˜¯100ï¼Œå³div=4
        int div = 1;
        while ((div & ret) == 0) {
            div <<= 1;
        }
      //åˆ†ç»„
        int a = 0, b = 0;
        for (int n : nums) {
            if ((div & n) != 0) {	//åˆ¤æ–­è¯¥ä½æ˜¯å¦ä¸º0è¿›è¡Œåˆ†ç»„ ï¼ˆ2ï¼Œ1ï¼Œ2ï¼‰=>1
                a ^= n;
            } else {	//(3)
                b ^= n;
            }
        }
        return new int[]{a, b};
    }
}
```

#### [å‰‘æŒ‡ Offer 56 - II. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•° IIğŸ’£](https://leetcode-cn.com/problems/shu-zu-zhong-shu-zi-chu-xian-de-ci-shu-ii-lcof/)

![image-20210830112644359](images/image-20210830112644359.png)

<img src="https://pic.leetcode-cn.com/0a7ea5bca055b095673620d8bb4c98ef6c610a22f999294ed11ae35d43621e93-Picture3.png" alt="Picture3.png" style="zoom: 50%;" />

```java
//å…¶ä»–æ•°å­—éƒ½å‡ºç°äº†ä¸‰æ¬¡ã€‚è¯·æ‰¾å‡ºé‚£ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—
//è€ƒè™‘æ•°å­—çš„äºŒè¿›åˆ¶å½¢å¼ï¼Œå¯¹äºå‡ºç°ä¸‰æ¬¡çš„æ•°å­—ï¼Œå„ äºŒè¿›åˆ¶ä½ å‡ºç°çš„æ¬¡æ•°éƒ½æ˜¯ 3 çš„å€æ•°ã€‚


/*
if two == 0:
  if n == 0:
    one = one
  if n == 1:
    one = ~one
if two == 1:
    one = 0

if two == 0:
    one = one ^ n
if two == 1:
    one = 0
    
one = one ^ n & ~two
*/

class Solution {
    public int singleNumber(int[] nums) {
        int ones = 0, twos = 0;	//2ä½æ¥è¡¨ç¤º3ä¸ªçŠ¶æ€
        for(int num : nums){
            ones = ones ^ num & ~twos;
            twos = twos ^ num & ~ones;
        }
        return ones;
    }
}

// å¼‚æˆ–è¿ç®—ï¼šx ^ 0 = xï¼Œ x ^ 1 = ~x
// ä¸è¿ç®—ï¼šx & 0 = 0 ï¼Œ x & 1 = x

```



#### [å‰‘æŒ‡ Offer 64. æ±‚1+2+â€¦+n](https://leetcode-cn.com/problems/qiu-12n-lcof/)

```java
//æ¡ä»¶ä¸ && å…·æœ‰çŸ­è·¯åŸåˆ™
public int Sum_Solution(int n) {
    int sum = n;
    boolean b = (n > 0) && ((sum += Sum_Solution(n - 1)) > 0);
    return sum;
}
```

#### [å‰‘æŒ‡ Offer 65. ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•](https://leetcode-cn.com/problems/bu-yong-jia-jian-cheng-chu-zuo-jia-fa-lcof/)

```java
//T,S:O(1)
/*
3+4

011
100

 (a & b) <<  1
^= 111
*/
class Solution {
    public int add(int a, int b) {
        while(b != 0) { // å½“è¿›ä½ä¸º 0 æ—¶è·³å‡º
            int c = (a & b) << 1;  // &å–æœ€é«˜ä½ï¼Œc = è¿›ä½
            a ^= b; // a = éè¿›ä½å’Œ 
            b = c; // b = è¿›ä½
         }
        return a;
    }
}
```

### 7.6 æ’åº

é“¾è¡¨å¿«æ’

#### [å‰‘æŒ‡ Offer II 077. é“¾è¡¨æ’åº](https://leetcode.cn/problems/7WHec2/)

```java
class Solution {
    ListNode partition(ListNode head,ListNode end){
        ListNode p = head, q = head;    //å¿«æŒ‡é’ˆ æŒ‡å‘å¤§çš„
        int pivot = head.val; 
        while (q != end) {
            if (q.val < pivot) {    //å°çš„è¯ï¼Œæ”¾å‰é¢
                p = p.next;
                int tmp = p.val;
                p.val = q.val;
                q.val = tmp;
            }
            q = q.next;
        }
        //æ­¤æ—¶p.val >= pivot
        int tmp = p.val;
        p.val = head.val;
        head.val = tmp;
        return p;
    }
    ListNode quickSort(ListNode head,ListNode end){
        if (head == end) return head;
        ListNode mid = partition(head, end);
        head = quickSort(head, mid);
        quickSort(mid.next, end);
        return head;
    }
    public ListNode sortList(ListNode head) {
        if(head == null || head.next == null) return head;
        return quickSort(head,null);
    }
}
```



#### [å‰‘æŒ‡ Offer 40. æœ€å°çš„kä¸ªæ•°](https://www.nowcoder.com/practice/6a296eb82cf844ca8539b57c23e6e9bf?tpId=13&tqId=11182&tPage=1&rp=1&ru=/ta/coding-interviews&qru=/ta/coding-interviews/question-ranking&from=cyc_github)

![image-20210912114146128](images/image-20210912114146128.png)

```java
//å¿«æ’  Tï¼šO(n) S:O(1)
//å¿«é€Ÿæ’åºçš„ partition() æ–¹æ³•ï¼Œä¼šè¿”å›ä¸€ä¸ªæ•´æ•° j ä½¿å¾— a[l..j-1] å°äºç­‰äº a[j]ï¼Œä¸” a[j+1..h] å¤§äºç­‰äº a[j]ï¼Œæ­¤æ—¶ a[j] å°±æ˜¯æ•°ç»„çš„ç¬¬ j å¤§å…ƒç´ ã€‚å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§æ‰¾å‡ºæ•°ç»„çš„ç¬¬ K ä¸ªå…ƒç´ ï¼Œè¿™ç§æ‰¾ç¬¬ K ä¸ªå…ƒç´ çš„ç®—æ³•ç§°ä¸ºå¿«é€Ÿé€‰æ‹©ç®—æ³•ã€‚
import java.util.*;
//å¿«æ’  Tï¼šO(n) S:O(1)
//å¿«é€Ÿæ’åºçš„ partition() æ–¹æ³•ï¼Œä¼šè¿”å›ä¸€ä¸ªæ•´æ•° j ä½¿å¾— a[l..j-1] å°äºç­‰äº a[j]ï¼Œä¸” a[j+1..h] å¤§äºç­‰äº a[j]ï¼Œæ­¤æ—¶ a[j] å°±æ˜¯æ•°ç»„çš„ç¬¬ j å¤§å…ƒç´ ã€‚å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§æ‰¾å‡ºæ•°ç»„çš„ç¬¬ K ä¸ªå…ƒç´ ï¼Œè¿™ç§æ‰¾ç¬¬ K ä¸ªå…ƒç´ çš„ç®—æ³•ç§°ä¸ºå¿«é€Ÿé€‰æ‹©ç®—æ³•ã€‚
class Solution {
    public ArrayList<Integer> GetLeastNumbers_Solution(int[] arr, int k) {
        if (k == 0 || arr.length == 0) {
            return new ArrayList<Integer>();
        }
        //âš ï¸ æœ€åä¸€ä¸ªå‚æ•°è¡¨ç¤ºæˆ‘ä»¬è¦æ‰¾çš„æ˜¯ä¸‹æ ‡ä¸ºk-1çš„æ•°
        return quickSearch(arr, 0, arr.length - 1, k - 1);
    }

    private ArrayList<Integer>  quickSearch(int[] nums, int lo, int hi, int k) {
        // æ¯å¿«æ’åˆ‡åˆ†1æ¬¡ï¼Œæ‰¾åˆ°æ’åºåä¸‹æ ‡ä¸ºjçš„å…ƒç´ ï¼Œå¦‚æœjæ°å¥½ç­‰äºkå°±è¿”å›jä»¥åŠjå·¦è¾¹æ‰€æœ‰çš„æ•°ï¼›
        int j = partition(nums, lo, hi);
        if (j == k) {
            ArrayList<Integer> ret = new ArrayList<>();
            for (int i = 0; i <= k; i++) ret.add(nums[i]);//0åˆ°k
            return ret;
        }
        // å¦åˆ™æ ¹æ®ä¸‹æ ‡jä¸kçš„å¤§å°å…³ç³»æ¥å†³å®šç»§ç»­åˆ‡åˆ†å·¦æ®µè¿˜æ˜¯å³æ®µã€‚
        return j > k? quickSearch(nums, lo, j - 1, k): quickSearch(nums, j + 1, hi, k);
    }

    // å¿«æ’åˆ‡åˆ†ï¼Œè¿”å›ä¸‹æ ‡jï¼Œä½¿å¾—æ¯”nums[j]å°çš„æ•°éƒ½åœ¨jçš„å·¦è¾¹ï¼Œæ¯”nums[j]å¤§çš„æ•°éƒ½åœ¨jçš„å³è¾¹ã€‚
    private int partition(int[] nums, int lo, int hi) {
        int v = nums[lo];	//åŸºå‡†
        while (lo < hi) {	//åŒæŒ‡é’ˆ
            while (lo < hi && nums[hi] >= v){hi--;}    //å…ˆä»å³åˆ°å·¦æœç´¢æ¯”åŸºå‡†å°çš„ï¼Œä¸èƒ½è°ƒæ¢
            swap(nums,lo,hi);
            while (lo < hi && nums[lo] <= v){lo++;}
            swap(nums,lo,hi);
        }
        return lo;
    }
    public void swap(int[] nums, int i, int j){
        int tmp = nums[i];
        nums[i] = nums[j];
        nums[j] = tmp;
    }
}


//å¤§æ ¹å †  T:O(nlogâ¡k) S:O(k), nä¸ºæ•°ç»„çš„é•¿åº¦ï¼Œkä¸ºå¤§æ ¹å †é‡Œæœ€å¤škä¸ªæ•°
class Solution {
    public int[] getLeastNumbers(int[] arr, int k) {
        int[] res = new int[k];
        if (k == 0) { // æ’é™¤ 0 çš„æƒ…å†µ
            return res;
        }
        //å¤§æ ¹å †
        PriorityQueue<Integer> queue = new PriorityQueue<Integer>(new Comparator<Integer>() {
            public int compare(Integer num1, Integer num2) {
                return num2 - num1;
            }
        });
        for (int i = 0; i < k; ++i) {   //é¦–å…ˆæ’å…¥kä¸ªæ•°
            queue.offer(arr[i]);
        }
        for (int i = k; i < arr.length; ++i) {//ç»´æŠ¤å‰kä¸ªæ•°
            if (queue.peek() > arr[i]) {    //æ¯”å †é¡¶å°ï¼Œæ’å…¥
                queue.poll();           //å †é¡¶å¼¹å‡º
                queue.offer(arr[i]);    //æ’å…¥å½“å‰æ•°
            }
        }
        for (int i = 0; i < k; ++i) {   //å°†å †çš„æ•°æ®èµ‹å€¼ç»™res
            res[i] = queue.poll();
        }
        return res;
    }
}
```

#### [å‰‘æŒ‡ Offer 45. æŠŠæ•°ç»„æ’æˆæœ€å°çš„æ•°](https://leetcode-cn.com/problems/ba-shu-zu-pai-cheng-zui-xiao-de-shu-lcof/)

```java
//T:O(NlogN),S:O(N)
class Solution {
    public String minNumber(int[] nums) {
        String[] strs = new String[nums.length];
        for(int i = 0; i < nums.length; i++)
            strs[i] = String.valueOf(nums[i]);
        Arrays.sort(strs, (a, b) -> (a + b).compareTo(b + a));//æ’åº
        StringBuilder res = new StringBuilder();
        for(String s : strs)
            res.append(s);
        return res.toString();
    }
}
```

## ï¼ˆ8ï¼‰æ•°å­¦

#### [å‰‘æŒ‡ Offer 39. æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­—](https://leetcode-cn.com/problems/shu-zu-zhong-chu-xian-ci-shu-chao-guo-yi-ban-de-shu-zi-lcof/)ğŸ’£

```java
//æ‘©å°”æŠ•ç¥¨æ³•
//T:O(n) S:O(1)
class Solution {
    public int majorityElement(int[] nums) {
        int vote = 0, x= 0;
        for(int num:nums){
            if(vote == 0) x = num;
            vote += num == x ? 1:-1;
        }

        int cnt = 0;
        for(int num:nums){
            if(num == x){
                cnt ++;
            }
        }
        return cnt > nums.length/2 ? x : -1;
    }
}
```

#### [å‰‘æŒ‡ Offer 62. åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­—](https://leetcode-cn.com/problems/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof/) çº¦ç‘Ÿç¯

![image-20210813162901260](images/image-20210813162901260.png)

![image-20210813162843069](images/image-20210813162843069.png)

```java
//çº¦ç‘Ÿå¤«ç¯ï¼Œåœ†åœˆé•¿åº¦ä¸º n çš„è§£å¯ä»¥çœ‹æˆé•¿åº¦ä¸º n-1 çš„è§£å†åŠ ä¸ŠæŠ¥æ•°çš„é•¿åº¦ mã€‚å› ä¸ºæ˜¯åœ†åœˆï¼Œæ‰€ä»¥æœ€åéœ€è¦å¯¹ n å–ä½™ã€‚
public class Solution {
    public int LastRemaining_Solution(int n, int m) {
        if (n == 1)     /* é€’å½’è¿”å›æ¡ä»¶ */
            return 0;
        return (LastRemaining_Solution(n - 1, m) + m) % n;
    }
}  
```

#### [å‰‘æŒ‡ Offer 43. 1ï½n æ•´æ•°ä¸­ 1 å‡ºç°çš„æ¬¡æ•°ğŸ’£](https://leetcode-cn.com/problems/1nzheng-shu-zhong-1chu-xian-de-ci-shu-lcof/)

![image-20220119160011746](zcz/zczBlog/source/_posts/8.%E5%9F%BA%E7%A1%80/image-20220119160011746.png)

![image-20220119160104838](zcz/zczBlog/source/_posts/8.%E5%9F%BA%E7%A1%80/image-20220119160104838.png)

```java
/*
//Tï¼šO(logn) S:O(1)
å½“ cur = 0 æ—¶:æ­¤ä½ 1 çš„å‡ºç°æ¬¡æ•°:highÃ—digit   2304 23*10
å½“ cur = 1 æ—¶:highÃ—digit+low+1    2314,high=23,cur=1   23*10+4+1
å½“ cur > 1 æ—¶ï¼š (high+1)Ã—digit		2324,  (23+1)*10
*/
class Solution {
public:
    int countDigitOne(int n) {
        long digit = 1, res = 0;//é˜²æ­¢æº¢å‡º
        int high = n / 10, cur = n % 10, low = 0;
        while(high != 0 || cur != 0) {//å½“ high å’Œ cur åŒæ—¶ä¸º 0 æ—¶ï¼Œè¯´æ˜å·²ç»è¶Šè¿‡æœ€é«˜ä½ï¼Œå› æ­¤è·³å‡º
            if(cur == 0) res += high * digit;
            else if(cur == 1) res += high * digit + low + 1;
            else res += (high + 1) * digit;
            //æ›´æ–°
            low += cur * digit;      //å°† cur åŠ å…¥ low ï¼Œç»„æˆä¸‹è½® low
            cur = high % 10;      //é¡ºåºä¸ä¸‹é¢ä¸èƒ½äº’æ¢  
            high /= 10;
            digit *= 10;
        }
        return res;
    }
};
```

#### [å‰‘æŒ‡ Offer 44. æ•°å­—åºåˆ—ä¸­æŸä¸€ä½çš„æ•°å­—](https://leetcode-cn.com/problems/shu-zi-xu-lie-zhong-mou-yi-wei-de-shu-zi-lcof/)ğŸ’£

![image-20210830173325392](images/image-20210830173325392.png)

```java
//01234567891011ï¼Œç¬¬0ä½ä¸º0ï¼Œç¬¬11ä½ä¸º0
//T,S:O(logn)
class Solution {
    public int findNthDigit(int n) {   
        int digit = 1;	//ä½æ•°digit
        long start = 1;		//æ³¨æ„æº¢å‡º
        long count = 9;		//æ•°ä½æ•°é‡count
        while (n > count) { // 1.è®¡ç®—næ‰€åœ¨çš„æ•°ä½æ•°é‡count  
            n -= count;
            digit += 1;
            start *= 10;
            count = digit * start * 9;
        }	//ï¼ˆn:11  n=2 count=180 start=10 digit=2 num=10 ï¼‰
        long num = start + (n - 1) / digit; // 2.è®¡ç®—næ‰€åœ¨çš„æ•°å­—num 
        return Long.toString(num).charAt((n - 1) % digit) - '0'; // 3.ç¡®å®š n æ˜¯num ä¸­çš„å“ªä¸€æ•°ä½ï¼Œ
    }
}
```



## [TOT100](https://leetcode-cn.com/problem-list/2cktkvj/)



## [HOP150](https://leetcode-cn.com/problem-list/2ckc81c/)

