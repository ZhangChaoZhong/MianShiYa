---
title: 6.DP
date: 2021-1-2 21:35:00
tags: Algorithm
categories: ç®—æ³•
---

#  6. DP(ä¸€)

> åŠ¨æ€è§„åˆ’ï¼š
>
> æ­¥éª¤ï¼š
>
> 1.ç¡®å®šdpæ•°ç»„ä»¥åŠä¸‹æ ‡çš„å«ä¹‰
> 2.ç¡®å®šè½¬ç§»æ–¹ç¨‹
> 3.dpæ•°ç»„åˆå§‹åŒ–
> 4.ç¡®å®šéå†é¡ºåº
> 5.ä¸¾ä¾‹æ¨å¯¼

<!--more-->

### (1)æ»šåŠ¨æ•°ç»„

#### [å‰‘æŒ‡ Offer 10- I. æ–æ³¢é‚£å¥‘æ•°åˆ—](https://leetcode-cn.com/problems/fei-bo-na-qi-shu-lie-lcof/)

#### [509. æ–æ³¢é‚£å¥‘æ•°](https://leetcode-cn.com/problems/fibonacci-number/)

```java
//T:O(n) S:O(1)
class Solution {
public:
    int fib(int n) {
        int a=0,b=1,sum=0;
        if(n == 0) return 0;
        if(n == 1) return 1;
        for(int i=2;i<=n;i++){ //sum:f(n) a:f(n-2) b:f(n-1)
            sum = (a+b)%100000007;      //æ‰§è¡Œn-1æ¬¡
            a = b;
            b =sum;
        }
        return sum;
    }
};
```

#### [1137. ç¬¬ N ä¸ªæ³°æ³¢é‚£å¥‘æ•°](https://leetcode-cn.com/problems/n-th-tribonacci-number/)

```C++
//T:O(n) S:O(1)
class Solution {
public:
    int tribonacci(int n) {
        int a=0,b=1,c=1,sum=0;
        if(n == 0) return 0;
        if(n == 1 || n == 2) return 1;
        for(int i=2;i<n;i++){
            sum = a+b+c;
            a = b;
            b =c;
            c =sum;
        }
        return sum;
    }
};
```

#### [70. çˆ¬æ¥¼æ¢¯](https://leetcode-cn.com/problems/climbing-stairs/)

```C++
//T:O(n) S:O(1)
class Solution {
public:
    int climbStairs(int n) {
        long a = 1, b = 1, sum=0; //0é˜¶å½“ä½œ1
        if(n == 1) return 1;
        for (long i = 2; i <=n; ++i) {
            sum = a + b;
            a = b; 
            b = sum; 
        }
        return sum;
    }
};
```

#### [746. ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯](https://leetcode-cn.com/problems/min-cost-climbing-stairs/)ğŸ€„ï¸

![image-20211022223803669](6.DP/image-20211022223803669.png)

```C++
//T:O(n) S:O(1)
class Solution {
public:
    int minCostClimbingStairs(vector<int>& cost) {
        int n =cost.size();
        int a=0,b=0;    //ç¬¬0ï¼Œ1é˜¶éƒ½å¯ä»¥ä½œä¸ºèµ·å§‹
        for(int i=2;i<=n;i++){
            int res = min(a+cost[i-2],b+cost[i-1]);//å‘ä¸Šçˆ¬ä¸€ä¸ªé˜¶æ¢¯æˆ–è€…çˆ¬ä¸¤ä¸ªé˜¶æ¢¯
            a = b;
            b = res;
        }
        return b;
    }
};
```

### (2)æ‰“å®¶åŠ«èˆç³»åˆ—ğŸ€„ï¸

##### [198. æ‰“å®¶åŠ«èˆ](https://leetcode-cn.com/problems/house-robber/)ğŸ€„ï¸

```C++
//T:O(n) S:O(1)
class Solution {
public:
    int rob(vector<int>& nums) {
        int prev=0,cur=0,res=0;  //cur è¡¨ç¤º dp[k-1]ï¼Œprev è¡¨ç¤º dp[k-2]
        for(auto it:nums){//dp[k] = max(dp[k-1],num[i]+dp[k-2]) å·å‰k-1ä¸ªï¼Œæˆ–è€… å·å‰k-2ä¸ªå’Œæœ€åä¸€ä¸ª
            res = max(cur,prev+it);
            prev = cur;
            cur = res;
        }
        return res;
    }
};
```

##### [213. æ‰“å®¶åŠ«èˆ II](https://leetcode-cn.com/problems/house-robber-ii/)ğŸ€„ï¸

```C++
//æˆ¿å­å›´æˆä¸€åœˆ
//T:O(n) S:O(1)
class Solution {
public:
    int work(vector<int>& nums) {
        int prev=0,cur=0,res=0;  //cur è¡¨ç¤º dp[k-1]ï¼Œprev è¡¨ç¤º dp[k-2]
        for(auto it:nums){//dp[k] = max(dp[k-1],num[i]+dp[k-2]) å·å‰k-1ä¸ªï¼Œæˆ–è€… å·å‰k-2ä¸ªå’Œæœ€åä¸€ä¸ª
            res = max(cur,prev+it);
            prev = cur;
            cur = res;
        }
        return res;
    }
    int rob(vector<int>& nums) {
        int length = nums.size();
        if (length == 1) {
            return nums[0];
        } else if (length == 2) {
            return max(nums[0], nums[1]);
        }
        vector<int> nums1(nums.begin(),nums.end()-1);
        vector<int> nums2(nums.begin()+1,nums.end());
        return max(work(nums1),work(nums2));//1.æŠ¢å¤´ï¼Œä¸æŠ¢å°¾ 2.ä¸æŠ¢å¤´ï¼ŒæŠ¢å°¾
    }
};
```

##### [337. æ‰“å®¶åŠ«èˆ III](https://leetcode-cn.com/problems/house-robber-iii/)ğŸ€„ï¸

```C++
/*
ä¸€æ£µäºŒå‰æ ‘
T,S:O(n)
åŠ¨æ€è§„åˆ’ï¼š
æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå¤§å°ä¸º 2 çš„æ•°ç»„æ¥è¡¨ç¤º int[] res = new int[2] ä¸‹æ ‡0 ä»£è¡¨ä¸å·ï¼Œ1 ä»£è¡¨å·
ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹èƒ½å·åˆ°çš„æœ€å¤§é’±çš„çŠ¶æ€å¯ä»¥å®šä¹‰ä¸º
    å½“å‰èŠ‚ç‚¹é€‰æ‹©ä¸å·ï¼šå½“å‰èŠ‚ç‚¹èƒ½å·åˆ°çš„æœ€å¤§é’±æ•° = å·¦å­©å­èƒ½å·åˆ°çš„é’± + å³å­©å­èƒ½å·åˆ°çš„é’±
    å½“å‰èŠ‚ç‚¹é€‰æ‹©å·ï¼šå½“å‰èŠ‚ç‚¹èƒ½å·åˆ°çš„æœ€å¤§é’±æ•° = å·¦å­©å­é€‰æ‹©è‡ªå·±ä¸å·æ—¶èƒ½å¾—åˆ°çš„é’± + å³å­©å­é€‰æ‹©ä¸å·æ—¶èƒ½å¾—åˆ°çš„é’± + å½“å‰èŠ‚ç‚¹çš„é’±æ•°
*/
class Solution {
public: 
    vector<int> dp(TreeNode* root){
        vector<int> res={0,0};
        if(root == NULL) return res;   
        vector<int> l=dp(root->left);
        vector<int> r=dp(root->right);
        res[0] = max(l[0],l[1])+max(r[0],r[1]);//å½“å‰rootä¸æŠ¢ï¼Œå­èŠ‚ç‚¹æŠ¢
        res[1] = l[0]+r[0]+root->val;//å½“å‰rootæŠ¢ï¼Œå­èŠ‚ç‚¹ä¸æŠ¢
        return res;
    }
    int rob(TreeNode* root) {
        vector<int> res= dp(root);
        return max(res[0],res[1]);
    }
};
```

##### [740. åˆ é™¤å¹¶è·å¾—ç‚¹æ•°](https://leetcode-cn.com/problems/delete-and-earn/)

```C++
//T,S:O(n)
class Solution {
public:
    int rob(vector<int>& nums) {
        int prev=0,cur=0,res=0;  //cur è¡¨ç¤º dp[k-1]ï¼Œprev è¡¨ç¤º dp[k-2]
        for(auto it:nums){//dp[k] = max(dp[k-1],num[i]+dp[k-2]) å·å‰k-1ä¸ªï¼Œæˆ–è€… å·å‰k-2ä¸ªå’Œæœ€åä¸€ä¸ª
            res = max(cur,prev+it);
            prev = cur;
            cur = res;
        }
        return res;
    }
    int deleteAndEarn(vector<int>& nums) {
        int maxVal = 0;
        for(auto val:nums) maxVal = max(val,maxVal);
        vector<int> sum(maxVal+1);
        for(auto val:nums) sum[val] += val; //æŒ‰é¡ºåºå­˜,ç»Ÿè®¡æ‰€æœ‰ç›¸åŒå…ƒç´ ä¹‹å’Œ
        return rob(sum);
        //è‹¥é€‰æ‹©äº†xï¼Œåˆ™å¯ä»¥è·å– sum[x] çš„ç‚¹æ•°ï¼Œä¸”æ— æ³•å†é€‰æ‹© xâˆ’1å’Œ x+1ï¼Œè¿™ä¸æ‰“å®¶åŠ«èˆä¸€æ ·
    }
};
```



### (3)è‚¡ç¥¨ç³»åˆ—

#### [121. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/)ğŸ€„ï¸

![image-20211008224812645](6.DP/image-20211008224812645.png)

![image-20211008225718378](/Users/zcz/Desktop/images/image-20211008225718378.png)

```C++
//T,S:O(n)
class Solution {
public:
    int maxProfit(vector<int>& prices) {
        int n = prices.size();
        int dp[n][2];
        dp[0][0] = 0, dp[0][1] = -prices[0];
        for (int i = 1; i < n; ++i) {
            dp[i][0] = max(dp[i - 1][0], dp[i - 1][1] + prices[i]);//ä»Šå¤©ä¸æŒè‚¡ï¼š1.ä»Šå¤©ä»€ä¹ˆéƒ½ä¸åš 2.æ˜¨å¤©æŒè‚¡å–å‡ºï¼ŒåŠ ä¸Šä»Šå¤©çš„ä»·é’±
            dp[i][1] = max(dp[i - 1][1],  - prices[i]);//ä»Šå¤©æŒè‚¡ï¼š1.ä»Šå¤©ä»€ä¹ˆéƒ½ä¸åš 2.ä»Šå¤©ä¹°å…¥ï¼ˆåªå…è®¸1æ¬¡ï¼Œæ‰€ä»¥æ˜¯ç¬¬ä¸€æ¬¡ä¹°å…¥ï¼‰
        }
        return dp[n - 1][0];
    }
};

```

#### [122. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/)ğŸ€„ï¸

```C++
//å¯ä»¥å¤šæ¬¡äº¤æ˜“
//T,S:O(n)
class Solution {
public:
    int maxProfit(vector<int>& prices) {
        int n = prices.size();
        int dp[n][2];
        dp[0][0] = 0, dp[0][1] = -prices[0];
        for (int i = 1; i < n; ++i) {
            dp[i][0] = max(dp[i - 1][0], dp[i - 1][1] + prices[i]);//ä»Šå¤©ä¸æŒè‚¡ï¼š1.ä»Šå¤©ä»€ä¹ˆéƒ½ä¸åš 2.æ˜¨å¤©æŒè‚¡å–å‡ºï¼ŒåŠ ä¸Šä»Šå¤©çš„ä»·é’±
            dp[i][1] = max(dp[i - 1][1],  dp[i - 1][0] - prices[i]);	//ä»Šå¤©æŒè‚¡ï¼š1.æ˜¨å¤©æŒè‚¡ï¼Œä»Šå¤©ä»€ä¹ˆéƒ½ä¸åš 2.æ˜¨å¤©æ²¡æœ‰æŒè‚¡ï¼Œä»Šå¤©ä¹°å…¥
        }
        return dp[n - 1][0];
    }
};
```

#### [123. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº III](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iii/)

```C++

```

#### [188. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº IV](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iv/)

```C++

```

#### [309. æœ€ä½³ä¹°å–è‚¡ç¥¨æ—¶æœºå«å†·å†»æœŸ](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/)

```

```

#### [714. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºå«æ‰‹ç»­è´¹](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/)

```C++

```



### (4)æœ€å¤§å­æ•°ç»„å’Œç³»åˆ—

#### [53. æœ€å¤§å­åºå’Œ](https://leetcode-cn.com/problems/maximum-subarray/)ğŸ€„ï¸

```C++
//T:O(n) S:O(1)
class Solution {
public:
    int maxSubArray(vector<int>& nums) {
        int prev=0,res=nums[0];
        for(auto it:nums){
            prev = max(prev+it,it); // f(i) = max(f(i-1)+nums[i],nums[i])
            res = max(res,prev);    // max{f(n)}
        }
        return res;
    }
};
```

#### [918. ç¯å½¢å­æ•°ç»„çš„æœ€å¤§å’Œ](https://leetcode-cn.com/problems/maximum-sum-circular-subarray/)

```C++
//T:O(n) S:O(1)
class Solution {
public:
    int maxSubarraySumCircular(vector<int>& nums) {
        //maxSumæœ€å¤§å’Œ minSumæœ€å°å’Œ
        int maxSum=nums[0],minSum=nums[0],pre1=0,pre2=0,arrSum=0;
        for (auto num : nums) {
            arrSum+=num;
            pre1=num>pre1+num?num:pre1+num;
            maxSum=maxSum>pre1?maxSum:pre1;
          
            pre2=num<pre2+num?num:pre2+num;
            minSum=minSum<pre2?minSum:pre2;
        }
        if (maxSum<0){      //ç¬¬ä¸‰ç§æƒ…å†µï¼Œå…¨éƒ¨è´Ÿæ•°
            return maxSum;
        }
        //ç¬¬2ç§æƒ…å†µï¼Œåœ¨ä¸¤ç«¯ï¼šarrSum-minSumï¼›ç¬¬ä¸€ç§æƒ…å†µï¼šåœ¨ä¸­é—´maxSum,å°±è·Ÿ53é¢˜ä¸€æ ·
        return arrSum-minSum>maxSum?arrSum-minSum:maxSum;
    }
};
```

#### [152. ä¹˜ç§¯æœ€å¤§å­æ•°ç»„](https://leetcode-cn.com/problems/maximum-product-subarray/)

```C++
//ç”±äºç¬¬ i ä¸ªçŠ¶æ€åªå’Œç¬¬ iâˆ’1ä¸ªçŠ¶æ€ç›¸å…³ï¼Œæ ¹æ®ã€Œæ»šåŠ¨æ•°ç»„ã€æ€æƒ³
//T:O(n) S:O(1)
class Solution {
public:
    int maxProduct(vector<int>& nums) {
        int maxF = nums[0], minF = nums[0], res = nums[0];
        for (int i = 1; i < nums.size(); ++i) {
            int mx = maxF, mn = minF;
            maxF = max(mx * nums[i], max(nums[i], mn * nums[i]));//ä¸‰ç§æƒ…å†µ
            minF = min(mx * nums[i], min(nums[i], mn * nums[i]));
            res = max(maxF, res);
        }
        return res;
    }
};
```

#### [1567. ä¹˜ç§¯ä¸ºæ­£æ•°çš„æœ€é•¿å­æ•°ç»„é•¿åº¦](https://leetcode-cn.com/problems/maximum-length-of-subarray-with-positive-product/)

![image-20211006235824952](6.DP/image-20211006235824952.png)

```C++
//T:O(n) S:O(1)
class Solution {
public:
    int getMaxLen(vector<int>& nums) {
        int length = nums.size();
        int positive = (nums[0] > 0);
        int negative = (nums[0] < 0);
        int maxLength = positive;
        for (int i = 1; i < length; ++i) {
            if (nums[i] > 0) {  //ä¸å˜
                ++positive;
                negative = (negative > 0 ? negative + 1 : 0);
            }
            else if (nums[i] < 0) {  //å…¨éƒ¨å–å
                int newPositive = negative > 0 ? negative + 1 : 0;
                int newNegative = positive + 1;
                tie(positive, negative) = {newPositive, newNegative};
            }
            else {  
                positive = negative = 0;
            }
            maxLength = max(maxLength, positive);  //ä¹˜ç§¯ä¸ºæ­£æ•°çš„æœ€é•¿å­æ•°ç»„é•¿åº¦
            //maxLength = max(maxLength, negative);//ä¹˜ç§¯ä¸ºè´Ÿæ•°çš„æœ€é•¿å­æ•°ç»„é•¿åº¦
        }
        return maxLength;
    }
};
```

#### [1014. æœ€ä½³è§‚å…‰ç»„åˆ](https://leetcode-cn.com/problems/best-sightseeing-pair/)

```C++
class Solution {
public:
    int maxScoreSightseeingPair(vector<int>& values) {
        int res = 0, mx = values[0] + 0;    //mx = values[i] + i
        for (int j = 1; j < values.size(); ++j) {
            res = max(res, mx + values[j] - j); //values[j] - jæ˜¯å›ºå®šä¸å˜çš„
            // è¾¹éå†è¾¹ç»´æŠ¤
            mx = max(mx, values[j] + j);
        }
        return res;
    }
};
```

### (5)å•ä¸² LIS ç³»åˆ—ğŸ€„ï¸

##### [300. æœ€é•¿é€’å¢å­åºåˆ—](https://leetcode-cn.com/problems/longest-increasing-subsequence/)ğŸ€„ï¸

![image-20220627155721825](6.DP/image-20220627155721825.png)

```C++
//T:O(n^2) S:O(n)
class Solution {
public:
    int lengthOfLIS(vector<int>& nums) {
        int n = (int) nums.size();
        if(n == 0)  return 0;
        vector<int> dp(n,1);
        int res = 0;
        for(int i=0;i<n;i++){
            for(int j=0;j<i;j++)
                if(nums[i] > nums[j]) //åé¢çš„æ•° > å‰é¢çš„æ•°
                    dp[i] = max(dp[i],dp[j]+1);//æ²¡æœ‰å‡ï¼Œæ‰€ä»¥ä¸‹æ ‡ä¸º0
            res = max(res,dp[i]);
        }
        return res;//å–é‡Œé¢æœ€å¤§çš„é•¿åº¦
    }
};

//è´ªå¿ƒ+äºŒåˆ†
//T:O(nlogn) S:O(n)
 //å¦‚æœæˆ‘ä»¬è¦ä½¿ä¸Šå‡å­åºåˆ—å°½å¯èƒ½çš„é•¿ï¼Œåˆ™æˆ‘ä»¬éœ€è¦è®©åºåˆ—ä¸Šå‡å¾—å°½å¯èƒ½æ…¢ï¼Œå› æ­¤æˆ‘ä»¬å¸Œæœ›æ¯æ¬¡åœ¨ä¸Šå‡å­åºåˆ—æœ€ååŠ ä¸Šçš„é‚£ä¸ªæ•°å°½å¯èƒ½çš„å°ã€‚
class Solution {
public:
    int lengthOfLIS(vector<int>& nums) {
        int len = 1, n = (int)nums.size();
        if (n == 0) {
            return 0;
        }
        vector<int> d(n + 1, 0);    //dæ•°ç»„å•è°ƒé€’å¢
        d[len] = nums[0];           //d[1] =nums[0]åˆå§‹åŒ–
        for (int i = 1; i < n; ++i) {   
            if (nums[i] > d[len]) { //è¦å¤§çš„
                d[++len] = nums[i]; 
            } else {
                int l = 1, r = len, pos = 0; //æ‰€æœ‰çš„æ•°ä¸å°äºnums[i] ï¼Œæ­¤æ—¶è¦æ›´æ–° d[1]ï¼Œæ‰€ä»¥è¿™é‡Œå°† pos è®¾ä¸º 0
                while (l <= r) {
                    int mid = (l + r) >> 1;
                    if (d[mid] < nums[i]) { //åœ¨dæ•°ç»„ä¸­å¯»æ‰¾æ¯”nums[i]å°çš„
                        pos = mid;
                        l = mid + 1;
                    } else {
                        r = mid - 1;
                    }
                }
                d[pos + 1] = nums[i];
            }
        }
        return len;
    }
};
```

##### [673. æœ€é•¿é€’å¢å­åºåˆ—çš„ä¸ªæ•°](https://leetcode-cn.com/problems/number-of-longest-increasing-subsequence/)ğŸ€„ï¸

![image-20210611230159775](6.DP/image-20210611230159775.png)

```C++
//T:O(n^2)  S:O(n)
class Solution {
public:
    int findNumberOfLIS(vector<int>& nums) {

        int n = (int)nums.size();
        if (n == 0) return 0;
        vector<int> dp(n, 1);
      	vector<int> cnt(n, 1);
        for (int i = 0; i < n; ++i) {	
            for (int j = 0; j < i; ++j) {
                if (nums[j] < nums[i]) {
                	if(dp[j]+1 > dp[i]){
                      	dp[i] = dp[j] + 1;
                        cnt[i] = cnt[j];
                    }else if(dp[j] + 1 == dp[i])//é•¿åº¦ä¸€æ ·çš„
                    	cnt[i] += cnt[j];
                }
            }
        }
      	int max_length = *max_element(dp.begin(), dp.end());
      	int res = 0;
      	for (int i = 0; i < n; ++i)
            if(dp[i] == max_length)
          	    res +=cnt[i]; 
        return res;	
        
    }
};
//è´ªå¿ƒ + å‰ç¼€å’Œ + äºŒåˆ†æŸ¥æ‰¾   T:O(nlogn) S:O(n)
```

##### [354. ä¿„ç½—æ–¯å¥—å¨ƒä¿¡å°é—®é¢˜](https://leetcode-cn.com/problems/russian-doll-es/)ğŸ€„ï¸

```C++
class Solution {
public:
    int maxEnvelopes(vector<vector<int>>& es) {
        if (es.empty()) {
            return 0;
        }
        
        int n = es.size();
// å› ä¸ºæˆ‘ä»¬åœ¨æ‰¾ç¬¬ i ä»¶ç‰©å“çš„å‰ä¸€ä»¶ç‰©å“æ—¶ï¼Œä¼šå¯¹å‰é¢çš„ i - 1 ä»¶ç‰©å“éƒ½éå†ä¸€éï¼Œå› æ­¤ç¬¬äºŒç»´ï¼ˆé«˜åº¦ï¼‰æ’åºä¸å¦éƒ½ä¸å½±å“
        sort(es.begin(), es.end(), [](const auto& e1, const auto& e2) {
            return e1[0] < e2[0] || (e1[0] == e2[0] && e1[1] > e2[1]);
        });

        vector<int> dp(n, 1);
        for (int i = 1; i < n; ++i) {
            for (int j = 0; j < i; ++j) {	//æ‰¾ä¸‹ç•Œ
                if (es[j][1] < es[i][1]) {
                    dp[i] = max(dp[i], dp[j] + 1);
                }
            }
        }
        return *max_element(dp.begin(), dp.end());
    }
};
```

```C++
//æ–¹æ³•2:äºŒåˆ†+åŠ¨æ€
class Solution {
public:
    int maxEnvelopes(vector<vector<int>>& es) {
        if (es.empty()) return 0;
        int n = es.size();
        sort(es.begin(), es.end(), [](const auto& e1, const auto& e2) {
            return e1[0] < e2[0] || (e1[0] == e2[0] && e1[1] > e2[1]);
        });

        vector<int> dp = {es[0][1]};
        for (int i = 1; i < n; ++i) {
            if (int num = es[i][1]; num > dp.back()) {
                dp.push_back(num);
            }
            else {
                auto it = lower_bound(dp.begin(), dp.end(), num);
                *it = num;
            }
        }
        return dp.size();
    }
};
```



### (6)è´ªå¿ƒæ•°ç»„

##### [55. è·³è·ƒæ¸¸æˆ](https://leetcode-cn.com/problems/jump-game/)ğŸ€„ï¸

```C++
//T:O(n)  S:O(1)
class Solution {
public:
    bool canJump(vector<int>& nums) {
        int n = nums.size();
        int r = 0;  //å®æ—¶ç»´æŠ¤ æœ€è¿œå¯ä»¥åˆ°è¾¾çš„ä½ç½®
        for (int i = 0; i < n; ++i) {   // x+nums[x]â‰¥y, xæœ¬èº«å¯ä»¥åˆ°è¾¾
            if (i <= r) {
                r = max(r, i + nums[i]);    
                if (r >= n - 1) {
                    return true;
                }
            }
        }
        return false;
    }
};
```

##### [45. è·³è·ƒæ¸¸æˆ II](https://leetcode-cn.com/problems/jump-game-ii/)ğŸ€„ï¸

```C++
/*æˆ‘ä»¬ç»´æŠ¤å½“å‰èƒ½å¤Ÿåˆ°è¾¾çš„æœ€å¤§ä¸‹æ ‡ä½ç½®ï¼Œè®°ä¸ºè¾¹ç•Œã€‚æˆ‘ä»¬ä»å·¦åˆ°å³éå†æ•°ç»„ï¼Œåˆ°è¾¾è¾¹ç•Œæ—¶ï¼Œæ›´æ–°è¾¹ç•Œå¹¶å°†è·³è·ƒæ¬¡æ•°å¢åŠ  1ã€‚
åœ¨éå†æ•°ç»„æ—¶ï¼Œæˆ‘ä»¬ä¸è®¿é—®æœ€åä¸€ä¸ªå…ƒç´ ï¼Œè¿™æ˜¯å› ä¸ºåœ¨è®¿é—®æœ€åä¸€ä¸ªå…ƒç´ ä¹‹å‰ï¼Œæˆ‘ä»¬çš„è¾¹ç•Œä¸€å®šå¤§äºç­‰äºæœ€åä¸€ä¸ªä½ç½®ï¼Œå¦åˆ™å°±æ— æ³•è·³åˆ°æœ€åä¸€ä¸ªä½ç½®äº†ã€‚å¦‚æœè®¿é—®æœ€åä¸€ä¸ªå…ƒç´ ï¼Œåœ¨è¾¹ç•Œæ­£å¥½ä¸ºæœ€åä¸€ä¸ªä½ç½®çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šå¢åŠ ä¸€æ¬¡ã€Œä¸å¿…è¦çš„è·³è·ƒæ¬¡æ•°ã€ï¼Œå› æ­¤æˆ‘ä»¬ä¸å¿…è®¿é—®æœ€åä¸€ä¸ªå…ƒç´ ã€‚
*/
class Solution {
public:
    int jump(vector<int>& nums) {
        int r = 0, n = nums.size(), end = 0, step = 0;
        for (int i = 0; i < n - 1; ++i) {
            if (i <= r) {
                r = max(r, i + nums[i]);
                if (i == end) { //å½“å‰iå¯ä»¥åˆ°è¾¾r
                    end = r;	//æ›´æ–°è¾¹ç•Œ
                    ++step;//æ¯è¿‡ä¸€ä¸ªè¾¹ç•Œ+1
                }
            }
        }
        return step;
    }
};
```

### (7)å¸¦ç»´åº¦å•ä¸² dp[i] [k]

#### [813. æœ€å¤§å¹³å‡å€¼å’Œçš„åˆ†ç»„](https://leetcode-cn.com/problems/largest-sum-of-averages/)

```
//â€”â€” k æ˜¯ä¸ªæ•°
```



#### [1478. å®‰æ’é‚®ç­’](https://leetcode-cn.com/problems/allocate-mailboxes/)

```
//â€”â€” k æ˜¯ä¸ªæ•°ï¼Œå‰ç¼€å’Œç»´æŠ¤çŠ¶æ€è½¬ç§»æ—¶çš„æŸ¥è¯¢
```



#### [1230. æŠ›æ·ç¡¬å¸](https://leetcode-cn.com/problems/toss-strange-coins/)

```
//â€”â€” k æ˜¯ä¸ªæ•°
```



#### [410. åˆ†å‰²æ•°ç»„çš„æœ€å¤§å€¼](https://leetcode-cn.com/problems/split-array-largest-sum/)

```C++
//â€”â€” k æ˜¯ä»½æ•°
```

#### [887. é¸¡è›‹æ‰è½](https://leetcode-cn.com/problems/super-egg-drop/)

```C++
// â€”â€” k æ˜¯æ¬¡æ•°ï¼Œk ä¸Šæœ‰äºŒåˆ†
```

#### [975. å¥‡å¶è·³](https://leetcode-cn.com/problems/odd-even-jump/)

```C++
//â€”â€” k è¡¨ç¤ºå½“å‰çš„å¥‡å¶çŠ¶æ€
```



#### [403. é’è›™è¿‡æ²³](https://leetcode-cn.com/problems/frog-jump/)

```C++
//â€”â€” k è¡¨ç¤ºä¸Šä¸€æ­¥çš„è·³çš„æ­¥æ•°
```

#### [256. ç²‰åˆ·æˆ¿å­](https://leetcode-cn.com/problems/paint-house/)

```C++
// â€”â€” k æ˜¯é¢œè‰²
```

#### [265. ç²‰åˆ·æˆ¿å­ II](https://leetcode-cn.com/problems/paint-house-ii/)

```C++
//â€”â€” k æ˜¯é¢œè‰²
```

#### [1473. ç²‰åˆ·æˆ¿å­ III](https://leetcode-cn.com/problems/paint-house-iii/)

```C++
//â€”â€” æœ‰ä¸¤ä¸ªæŒ‡æ ‡ k é¢œè‰²ï¼›t è¡—åŒºæ•°
```

#### [32. æœ€é•¿æœ‰æ•ˆæ‹¬å·](https://leetcode-cn.com/problems/longest-valid-parentheses/)

![image-20220627160512928](6.DP/image-20220627160512928.png)

```C++
//T:O(n^2)
/*æš´åŠ› O(n^3)
{
	for(n)
		for(n){
			isVaild(n)
		}
}
*/
class Solution {
public:
    int longestValidParentheses(string s) {
        int maxans = 0, n = s.length();
        vector<int> dp(n, 0); //dp[i]è¡¨ç¤ºä»¥iç»“å°¾çš„æœ€é•¿æœ‰æ•ˆæ‹¬å·çš„é•¿åº¦ï¼Œåˆ†ä¸º4ç§æƒ…å†µ
        for (int i = 1; i < n; i++) {
            if (s[i] == ')') {
                if (s[i - 1] == '(') {  //()()ç›¸é‚»åŒ¹é…ï¼Œ
                    dp[i] = (i >= 2 ? dp[i - 2] : 0) + 2;
                } else if (i - dp[i - 1] > 0 && s[i - dp[i - 1] - 1] == '(') {// ()(()) 2:è‡ªèº«   dp[i - dp[i - 1] - 2]ï¼šå¤–éƒ¨  dp[i-1]ï¼šå†…éƒ¨
                    dp[i] = dp[i - 1] + ((i - dp[i - 1]) >= 2 ? dp[i - dp[i - 1] - 2] : 0) + 2;
                }
                maxans = max(maxans, dp[i]);
            }
        }
        return maxans;
    }
};
```

#### [516. æœ€é•¿å›æ–‡å­åºåˆ—](https://leetcode-cn.com/problems/longest-palindromic-subsequence/)

![image-20220627154048276](6.DP/image-20220627154048276.png)

```C++
//T,S:O(n^2)
class Solution {
public:
    int longestPalindromeSubseq(string s) {
        int n = s.size();
        vector<vector<int>> dp(n,vector<int>(n));  
        for (int i = n - 1; i >= 0; i--) {
            dp[i][i] = 1;       //æ¯ä¸ªå­—ç¬¦çš„æœ€å¤§é•¿åº¦
            for (int j = i + 1; j < n; j++) {
                if (s[i] == s[j]) {
                    dp[i][j] = dp[i + 1][j - 1] + 2;
                } else {
                    dp[i][j] = max(dp[i + 1][j], dp[i][j - 1]);
                }
                cout << dp[i][j] <<" ";
            }
            cout << endl;

        }
        return dp[0][n - 1];
    }
};

class Solution {
    public int longestPalindromeSubseq(String s) {
        int n = s.length();
        int[][] dp = new int [n][n];    //ä»ç¬¬0åˆ°jçš„æœ€é•¿å›æ–‡å­åºåˆ—çš„é•¿åº¦
        dp[0][0] = 1;
        for(int len=1;len<n;len++){ //ä»é•¿åº¦1å¼€å§‹
            for(int i=0;i+len<n;i++){
                dp[i][i] = 1;   // å¯¹è§’çº¿,åˆå§‹åŒ–
                int j=i+len;
                if(s.charAt(i) == s.charAt(j)){
                    //i,i+1...,j-1,j=> [i+1,j-1]+2
                    dp[i][j] = dp[i+1][j-1]+2;  //å‘å­é—®é¢˜ï¼ˆä¸Šä¸€ä¸ªå›æ–‡å­åºåˆ—ï¼‰è¦ç­”æ¡ˆ
                }else{  //ä¸ç­‰ï¼Œåˆ™å–å·¦è¾¹æˆ–è€…ä¸‹è¾¹æœ€å¤§çš„
                    dp[i][j] = Math.max(dp[i][j-1],dp[i+1][j]);
                }
            }
        }
        return dp[0][n-1];  //ä»0åˆ°n-1çš„æœ€é•¿å›æ–‡å­åºåˆ—çš„é•¿åº¦ï¼Œè·Ÿdpçš„å®šä¹‰ç›¸åŒ
    }
}
```

#### [647. å›æ–‡å­ä¸²](https://leetcode-cn.com/problems/palindromic-substrings/)

```

```



### **(8)åŒä¸²**

#### [1143. æœ€é•¿å…¬å…±å­åºåˆ—](https://leetcode-cn.com/problems/longest-common-subsequence/)

![image-20220627153826814](C:/Users/Y7000P/Desktop/aa/image-20220627153826814.png)

```C++
//T,S:O(n)
class Solution {
public:
    int longestCommonSubsequence(string text1, string text2) {
        int m = text1.length(), n = text2.length();
        vector<vector<int>> dp(m + 1, vector<int>(n + 1));
        for (int i = 1; i <= m; i++) {
            char c1 = text1[i - 1];
            for (int j = 1; j <= n; j++) {
                char c2 = text2[j - 1];
                if (c1 == c2) {
                    dp[i][j] = dp[i - 1][j - 1] + 1;
                } else {
                    dp[i][j] = max(dp[i - 1][j], dp[i][j - 1]);
                }
            }
        }
        return dp[m][n];
    }
};
```

#### [712. ä¸¤ä¸ªå­—ç¬¦ä¸²çš„æœ€å°ASCIIåˆ é™¤å’Œ](https://leetcode-cn.com/problems/minimum-ascii-delete-sum-for-two-strings/) â€”â€” LCSï¼Œlen å’Œ ascii å„ä¸€ä¸ª dp

```

```

æœ€é•¿é‡å¤å­æ•°ç»„ â€”â€” æœ€é•¿å…¬å…±å­ä¸²ï¼Œæ³¨æ„ä¸æœ€é•¿å…¬å…±å­åºåˆ—çš„åŒºåˆ«

#### [718. æœ€é•¿é‡å¤å­æ•°ç»„](https://leetcode-cn.com/problems/maximum-length-of-repeated-subarray/)

```

```

#### [1923. æœ€é•¿å…¬å…±å­è·¯å¾„](https://leetcode-cn.com/problems/longest-common-subpath/) 718é¢˜çš„æ‰©å±•

```

```

### åŒä¸²é—®é¢˜ï¼šå­—ç¬¦ä¸²åŒ¹é…ç³»åˆ—

#### [å‰‘æŒ‡ Offer 19. æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…](https://leetcode-cn.com/problems/zheng-ze-biao-da-shi-pi-pei-lcof/)

#### [10. æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…](https://leetcode-cn.com/problems/regular-expression-matching/)

### åŒä¸²é—®é¢˜ï¼šå…¶å®ƒåŒä¸² dp[i] [j] é—®é¢˜

#### [97. äº¤é”™å­—ç¬¦ä¸²](https://leetcode.cn/problems/interleaving-string/)

- ä¸åŒçš„å­åºåˆ—

### åŒä¸²é—®é¢˜ï¼šå¸¦ç»´åº¦åŒä¸² dp[i] [j] [k]

- æ‰°ä¹±å­—ç¬¦ä¸²

### **(9)çŸ©é˜µ**

çŸ©é˜µ dp[i] [j]

- ä¸‰è§’å½¢æœ€å°è·¯å¾„å’Œ
- æœ€å°è·¯å¾„å’Œ
- åœ°ä¸‹åŸæ¸¸æˆ
- ä¸‹é™è·¯å¾„æœ€å°å’Œ
- æœ€å¤§æ­£æ–¹å½¢
- ä¸‹é™è·¯å¾„æœ€å°å’Œ  II

çŸ©é˜µ dp[i] [j] [k]

æœ€å¤§çŸ©å½¢

- çŸ©å½¢åŒºåŸŸä¸è¶…è¿‡ K çš„æœ€å¤§æ•°å€¼å’Œ â€”â€” k ä¸ºå®½åº¦
- æœ€å¤§å­çŸ©é˜µ â€”â€” æ€è·¯ç±»ä¼¼ä¸€ç»´çš„æœ€å¤§å­æ•°ç»„å’Œ
- åˆ‡æŠ«è¨çš„æ–¹æ¡ˆæ•° â€”â€” éœ€è¦äºŒç»´å‰ç¼€å’Œåˆ¤æ–­ä¸¤ä¸ªçŠ¶æ€ä¹‹é—´èƒ½å¦è½¬ç§»

æ— ä¸²çº¿æ€§é—®é¢˜

- åªæœ‰ä¸¤ä¸ªé”®çš„é”®

#### [279. å®Œå…¨å¹³æ–¹æ•°](https://leetcode.cn/problems/perfect-squares/)

#### [343. æ•´æ•°æ‹†åˆ†](https://leetcode.cn/problems/integer-break/)



### (10)å‰ç¼€å’Œ(åŒºé—´æ±‚å’Œã€å­çŸ©å½¢æ±‚å’Œ)

**æ±‚åŒºé—´å’Œ**

[303. åŒºåŸŸå’Œæ£€ç´¢ - æ•°ç»„ä¸å¯å˜](https://leetcode-cn.com/problems/range-sum-query-immutable/)

**å®ç°å‰ç¼€å’Œé—®é¢˜**

- åŒºåŸŸå’Œæ£€ç´¢ - æ•°ç»„ä¸å¯å˜
- äºŒç»´åŒºåŸŸå’Œæ£€ç´¢ - çŸ©é˜µä¸å¯å˜

**æ•°æ®ç»“æ„ç»´æŠ¤å‰ç¼€å’Œ**

[560. å’Œä¸º K çš„å­æ•°ç»„](https://leetcode-cn.com/problems/subarray-sum-equals-k/)

[327. åŒºé—´å’Œçš„ä¸ªæ•°](https://leetcode-cn.com/problems/count-of-range-sum/)

[437. è·¯å¾„æ€»å’Œ III](https://leetcode-cn.com/problems/path-sum-iii/)

æ•°æ®ç»“æ„ç»´æŠ¤å‰ç¼€å’Œé—®é¢˜ï¼šHashMap ç»´æŠ¤ï¼ˆ1ï¼‰
HashMap ç»´æŠ¤ï¼ˆ1ï¼‰ï¼Œé”®æ˜¯å‰ç¼€å’Œï¼ˆçŠ¶æ€ï¼‰çš„å€¼ï¼Œå€¼ä¸ºç¬¬ä¸€æ¬¡å‡ºç°æ—¶çš„ç´¢å¼•ã€‚

- å’Œç­‰äº k çš„æœ€é•¿å­æ•°ç»„é•¿åº¦
- è¿ç»­æ•°ç»„
- æ¯ä¸ªå…ƒéŸ³åŒ…å«å¶æ•°æ¬¡çš„æœ€é•¿å­å­—ç¬¦ä¸² â€”â€” å‰ç¼€çŠ¶æ€ä¸º a,e,i,o,u çš„ä¸ªæ•°çš„å¥‡å¶

HashMap ç»´æŠ¤ï¼ˆ2ï¼‰ï¼Œé”®æ˜¯å‰ç¼€å’Œï¼ˆå‰ç¼€çŠ¶æ€ï¼‰çš„å€¼ï¼Œå€¼ä¸ºå‡ºç°æ¬¡æ•°ã€‚

- å’Œä¸º K çš„å­æ•°ç»„
- ç»Ÿè®¡ä¼˜ç¾å­æ•°ç»„ â€”â€” å‰ç¼€çŠ¶æ€ä¸ºå¥‡æ•°çš„ä¸ªæ•°

HashMap ç»´æŠ¤ï¼ˆ3ï¼‰ï¼Œé”®æ˜¯å‰ç¼€å’Œæ¨¡ K çš„ä½™æ•°ï¼ˆå¯ä»¥ç†è§£ä¸ºå‰ç¼€çŠ¶æ€ï¼ŒçŠ¶æ€ä¸ºå‰ç¼€å’Œæ¨¡ Kï¼‰ã€‚

- è¿ç»­çš„å­æ•°ç»„å’Œ â€”â€” å€¼ä¸ºç¬¬ä¸€æ¬¡å‡ºç°æ—¶çš„ç´¢å¼•
- å’Œå¯è¢« K æ•´é™¤çš„å­æ•°ç»„ â€”â€” å€¼ä¸ºå‡ºç°æ¬¡

åœ¨æœ‰äº›é—®é¢˜ä¸­ï¼Œè®¡ç®—ç­”æ¡ˆæ—¶åŒæ—¶éœ€è¦ç”¨åˆ°å‰ç¼€å’Œå’Œåç¼€å’Œï¼Œä¾‹å¦‚ä¸‹é¢è¿™å‡ é“é¢˜ã€‚

- é™¤è‡ªèº«ä»¥å¤–æ•°ç»„çš„ä¹˜ç§¯
- å¯»æ‰¾æ•°ç»„çš„ä¸­å¿ƒç´¢å¼•
- æ‰¾ä¸¤ä¸ªå’Œä¸ºç›®æ ‡å€¼ä¸”ä¸é‡å çš„å­æ•°ç»„ â€”â€” å‰ç¼€å’Œåç¼€å’Œåˆ†åˆ«æ¨ä¸€æ¬¡ï¼Œæ¨çš„æ—¶å€™ä¿å­˜ä¿¡æ¯ï¼ˆDPï¼‰ï¼Œæšä¸¾åˆ†å‰²ç‚¹

äºŒç»´å‰ç¼€å’Œ

- å…ƒç´ å’Œä¸ºç›®æ ‡å€¼çš„å­çŸ©é˜µæ•°é‡
- çŸ©é˜µåŒºåŸŸå’Œ
- æœ€å¤§å­çŸ©é˜µ â€”â€” æ€è·¯ç±»ä¼¼ä¸€ç»´çš„æœ€å¤§å­æ•°ç»„å’Œ
- çŸ©å½¢åŒºåŸŸä¸è¶…è¿‡ K çš„æœ€å¤§æ•°å€¼å’Œ â€”â€” åœ¨ä¸Šä¸€é¢˜åŸºç¡€ä¸ŠåŠ äº†ä¸€ä¸ª K

å‰ç¼€ç§¯

- ä¹˜ç§¯æœ€å¤§å­æ•°ç»„
- ä¹˜ç§¯å°äºKçš„å­æ•°ç»„
- æœ€å K ä¸ªæ•°çš„ä¹˜ç§¯ â€”â€” è‹¥ä¹˜æ³•çš„å‰ç¼€ç§¯ä¼šæº¢å‡ºï¼Œå¯ä»¥ç”¨å¯¹æ•°çš„å‰ç¼€å’Œé˜²æº¢å‡ºï¼Œä½†æ˜¯ç»“æœè½¬å›æ•´æ•°éœ€è¦ç”¨å››èˆäº”å…¥è€Œä¸æ˜¯ä¸‹å–æ•´

å‰ç¼€å¼‚æˆ–

- å­æ•°ç»„å¼‚æˆ–æŸ¥è¯¢
- å½¢æˆä¸¤ä¸ªå¼‚æˆ–ç›¸ç­‰æ•°ç»„çš„ä¸‰å…ƒç»„æ•°ç›® â€”â€” å“ˆå¸Œè¡¨ç»´æŠ¤å‰ç¼€å¼‚æˆ–ç»“æœï¼Œç±»ä¼¼ ã€Œ560. å’Œä¸º K çš„å­æ•°ç»„ã€

å·®åˆ†é—®é¢˜

- åŒºé—´åŠ æ³• â€”â€” ç”¨å·®åˆ†ç»´æŠ¤åŒºé—´åŠ æ³•æ¨¡æ¿

# 6.DP(äºŒ)

## **(1)èƒŒåŒ…**DP

> èƒŒåŒ…é—®é¢˜æ˜¯ä¸€ç§ç»„åˆä¼˜åŒ–çš„ NP å®Œå…¨é—®é¢˜ï¼šæœ‰ *N* ä¸ªç‰©å“å’Œå®¹é‡ä¸º*V* çš„èƒŒåŒ…ï¼Œæ¯ä¸ªç‰©å“éƒ½æœ‰è‡ªå·±çš„ä½“ç§¯ v å’Œä»·å€¼ wï¼Œæ±‚æ‹¿å“ªäº›ç‰©å“å¯ä»¥ä½¿å¾—èƒŒåŒ…æ‰€è£…ä¸‹ç‰©å“çš„æ€»ä»·å€¼æœ€å¤§ã€‚
> å¦‚æœé™å®šæ¯ç§ç‰©å“åªèƒ½é€‰æ‹© 0 ä¸ªæˆ– 1 ä¸ªï¼Œåˆ™é—®é¢˜ç§°ä¸º <u>0-1 èƒŒåŒ…é—®é¢˜</u>ï¼›
> å¦‚æœä¸é™å®šæ¯ç§ç‰©å“çš„æ•°é‡ï¼Œåˆ™é—®é¢˜ç§°ä¸ºæ— ç•ŒèƒŒåŒ…é—®é¢˜æˆ–<u>å®Œå…¨èƒŒåŒ…é—®é¢˜</u>ã€‚
> å¦‚æœæ¯ç§ç‰©å“çš„æ•°é‡ä¸ä¸€æ ·ï¼Œåˆ™é—®é¢˜ç§°ä¸º<u>å¤šé‡èƒŒåŒ…é—®é¢˜</u>ã€‚
> å¦‚æœæ¯ç»„æœ‰å¤šç§ç‰©å“ï¼Œæ¯ç»„åªèƒ½é€‰æ‹©1ç§ï¼Œåˆ™é—®é¢˜ç§°ä¸º<u>åˆ†ç»„èƒŒåŒ…é—®é¢˜</u>ã€‚

<!--more-->

**èƒŒåŒ…é—®é¢˜çš„åˆ†ææ­¥éª¤ï¼š**

```
åˆ†ææ˜¯å¦ä¸ºèƒŒåŒ…é—®é¢˜ã€‚
1)æ˜¯èƒŒåŒ…é—®é¢˜ä¸‰ç§é—®æ³•ä¸­çš„å“ªä¸€ç§ã€‚
2)0-1 èƒŒåŒ…é—®é¢˜è¿˜æ˜¯å®Œå…¨èƒŒåŒ…é—®é¢˜ï¼Œå³æ±‚æœ€å€¼ã€‚
ä¹Ÿå°±æ˜¯é¢˜ç›®ç»™çš„ nums æ•°ç»„ä¸­çš„å…ƒç´ æ˜¯å¦å¯ä»¥é‡å¤ä½¿ç”¨ã€‚
3)å¦‚æœæ˜¯ç»„åˆé—®é¢˜ï¼Œå³æ±‚æ–¹æ¡ˆæ•°ï¼Œæ˜¯å¦éœ€è¦è€ƒè™‘å…ƒç´ ä¹‹é—´çš„é¡ºåºã€‚éœ€è¦è€ƒè™‘é¡ºåºæœ‰é¡ºåºçš„è§£æ³•ï¼Œä¸éœ€è¦è€ƒè™‘é¡ºåºåˆæœ‰å¯¹åº”çš„è§£æ³•ï¼Œéœ€è¦æ³¨æ„ã€‚
```

[èƒŒåŒ…é—®é¢˜æ€»ç»“ç¯‡](https://programmercarl.com/èƒŒåŒ…æ€»ç»“ç¯‡.html)

![416.åˆ†å‰²ç­‰å’Œå­é›†1](6.DP/20210117171307407.png)

### 01èƒŒåŒ…

![image-20210330110645464](6.DP/image-20210330110645464.png)

```C++
/*
01èƒŒåŒ…
ç‰ˆæœ¬1
*/
using namespace std;

const int MAXN = 1005;
int v[MAXN];    // ä½“ç§¯
int w[MAXN];    // ä»·å€¼ 
int f[MAXN][MAXN];  // f[i][j], å‰iä¸ªç‰©å“ä¸”ä½“ç§¯<=jæ—¶çš„æœ€å¤§ä»·å€¼ 

int main() 
{
    int n, m;   
    cin >> n >> m;
    for(int i = 1; i <= n; i++) 
        cin >> v[i] >> w[i];

    for(int i = 1; i <= n; i++) 
        for(int j = 1; j <= m; j++)
        {
            //  å½“å‰èƒŒåŒ…å®¹é‡è£…ä¸è¿›ç¬¬iä¸ªç‰©å“ï¼Œåˆ™ä»·å€¼ç­‰äºå‰i-1ä¸ªç‰©å“
            if(j < v[i]) 
                f[i][j] = f[i - 1][j];
             // èƒ½è£…ï¼Œéœ€è¦å†³ç­–é€‰ä¸ä¸é€‰ç¬¬ i ä¸ªç‰©å“
            else    
                f[i][j] = max(f[i - 1][j], f[i - 1][j - v[i]] + w[i]);
        }           

    cout << f[n][m] << endl;

    return 0;
}
```

```C++
/*
01èƒŒåŒ…
ç‰ˆæœ¬2
*/
#include <iostream>

using namespace std;

const int N = 1010;

int n, m;
int v[N], w[N];	// ä½“ç§¯,ä»·å€¼
int f[N];

int main() {
    cin >> n >> m;
    for(int i = 1; i <= n; i++) cin >> v[i] >> w[i];
    for(int i = 1; i <= n; i++) //å…ˆéå†ç‰©å“ï¼Œå†éå†èƒŒåŒ…
      //å¦‚æœéå†èƒŒåŒ…å®¹é‡æ”¾åœ¨ä¸Šä¸€å±‚ï¼Œé‚£ä¹ˆæ¯ä¸ªdp[j]å°±åªä¼šæ”¾å…¥ä¸€ä¸ªç‰©å“
        for(int j = m; j >= v[i]; j--) //å€’å™ä¿è¯ç‰©å“iåªè¢«æ”¾å…¥ä¸€æ¬¡ï¼Œé˜²æ­¢dp[i]åŠ ä¸Šè®¡ç®—è¿‡çš„dp[i-1]
            f[j] = max(f[j], f[j-v[i]]+w[i]);
    cout << f[m] << endl;
    return 0;    
}
/*
ä¸ºä»€ä¹ˆä¸€ç»´æƒ…å†µä¸‹æšä¸¾èƒŒåŒ…å®¹é‡éœ€è¦é€†åºï¼Ÿ
ä¸€ç»´æƒ…å†µæ­£åºæ›´æ–°çŠ¶æ€f[j]éœ€è¦ç”¨åˆ°å‰é¢è®¡ç®—çš„çŠ¶æ€å·²ç»è¢«ã€Œæ±¡æŸ“ã€ï¼Œé€†åºåˆ™ä¸ä¼šæœ‰è¿™æ ·çš„é—®é¢˜ã€‚
*/
```

[01èƒŒåŒ…é—®é¢˜ç†è®ºåŸºç¡€äºŒç»´dpæ•°ç»„](https://programmercarl.com/èƒŒåŒ…ç†è®ºåŸºç¡€01èƒŒåŒ…-1.html)

[01èƒŒåŒ…é—®é¢˜ç†è®ºåŸºç¡€ä¸€ç»´dpæ•°ç»„ï¼ˆæ»šåŠ¨æ•°ç»„ï¼‰](https://programmercarl.com/èƒŒåŒ…ç†è®ºåŸºç¡€01èƒŒåŒ…-2.html)



#### è§„å¾‹

```java
//è§„å¾‹
//æ–¹æ¡ˆæ•°
dp[i] += dp[i-num]
//Trueã€Falseé—®é¢˜å…¬å¼
dp[i] = dp[i] or dp[i-num]
//æœ€å¤§æœ€å°é—®é¢˜å…¬å¼
dp[i] = min(dp[i], dp[i-num]+1)æˆ–è€…dp[i] = max(dp[i], dp[i-num]+1)
    
//éå†æ–¹å¼
0-1èƒŒåŒ…ï¼šç‰©å“ï¼ŒèƒŒåŒ…é€†åº 
å®Œå…¨èƒŒåŒ…ï¼šç‰©å“ï¼ŒèƒŒåŒ…æ­£åº 
ç»„åˆé—®é¢˜ï¼šç‰©å“ï¼ŒèƒŒåŒ…æ­£åº  ï¼ˆé›¶é’±å…‘æ¢Iï¼Œé›¶é’±å…‘æ¢ IIï¼‰
æ’åˆ—é—®é¢˜ï¼šèƒŒåŒ…ï¼Œç‰©å“æ­£åº  ï¼ˆç»„åˆæ€»å’Œ â…£ï¼Œè¿™ä¸ªå…¶å®æ˜¯æ’åˆ—æ•°ï¼‰
```



#### [416. åˆ†å‰²ç­‰å’Œå­é›†](https://leetcode-cn.com/problems/partition-equal-subset-sum/)ğŸ€„ï¸

```C++
//T:O(n^2) S:O(n)
//ç‰©å“æ˜¯nums[i]ï¼Œé‡é‡æ˜¯nums[i]ï¼Œä»·å€¼ä¹Ÿæ˜¯nums[i]ï¼ŒèƒŒåŒ…ä½“ç§¯æ˜¯sum/2ï¼Œåˆ†æˆ2ä¸ªèƒŒåŒ…
class Solution {
public:
    bool canPartition(vector<int>& nums) {
        int sum = 0;

        // (1)dp[i]ä¸­çš„iè¡¨ç¤ºèƒŒåŒ…å†…æ€»å’Œ
        // é¢˜ç›®ä¸­è¯´ï¼šæ¯ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ ä¸ä¼šè¶…è¿‡ 100ï¼Œæ•°ç»„çš„å¤§å°ä¸ä¼šè¶…è¿‡ 200
        // æ€»å’Œä¸ä¼šå¤§äº20000ï¼ŒèƒŒåŒ…æœ€å¤§åªéœ€è¦å…¶ä¸­ä¸€åŠï¼Œæ‰€ä»¥10001å¤§å°å°±å¯ä»¥äº†
        vector<int> dp(10001, 0);//(3)
        for (int i = 0; i < nums.size(); i++) {
            sum += nums[i];
        }
        if (sum % 2 == 1) return false;
        int target = sum / 2;

        // å¼€å§‹ 01èƒŒåŒ…
        for(int i = 0; i < nums.size(); i++) {//(4)
            for(int j = target; j >= nums[i]; j--) { 
                dp[j] = max(dp[j], dp[j - nums[i]] + nums[i]);//(2)
            }
        }
        // é›†åˆä¸­çš„å…ƒç´ æ­£å¥½å¯ä»¥å‡‘æˆæ€»å’Œtarget
        return dp[target] == target
    }
};
```

#### [474. ä¸€å’Œé›¶](https://leetcode-cn.com/problems/ones-and-zeroes/)

```C++
//æœ‰ä¸¤ä¸ªç»´åº¦çš„01èƒŒåŒ…
//(1)dp[i][j]ï¼šæœ€å¤šæœ‰iä¸ª0å’Œjä¸ª1çš„strsçš„æœ€å¤§å­é›†çš„å¤§å°ä¸ºdp[i][j]ã€‚
class Solution {
public:
    int findMaxForm(vector<string>& strs, int m, int n) {
        vector<vector<int>> dp(m + 1, vector<int> (n + 1, 0)); // (3)é»˜è®¤åˆå§‹åŒ–0
        for (string str : strs) { // (4)éå†ç‰©å“
            int oneNum = 0, zeroNum = 0;
            for (char c : str) {
                if (c == '0') zeroNum++;
                else oneNum++;
            }
            for (int i = m; i >= zeroNum; i--) { // éå†èƒŒåŒ…å®¹é‡ä¸”ä»åå‘å‰éå†ï¼
                for (int j = n; j >= oneNum; j--) {
                    dp[i][j] = max(dp[i][j], dp[i - zeroNum][j - oneNum] + 1);//(2)
                }
            }
        }
        return dp[m][n];
    }
};
```

#### [494. ç›®æ ‡å’Œ](https://leetcode-cn.com/problems/target-sum/)

```

```

#### [1049. æœ€åä¸€å—çŸ³å¤´çš„é‡é‡ II](https://leetcode-cn.com/problems/last-stone-weight-ii/)

```

```



### å®Œå…¨èƒŒåŒ…

```C++
/*
å®Œå…¨èƒŒåŒ…:æœ´ç´ åšæ³•
*/
#include<iostream>
using namespace std;
const int N = 1010;
int f[N][N];
int v[N],w[N];
int main()
{
    int n,m;
    cin>>n>>m;
    for(int i = 1 ; i <= n ;i ++)
    {
        cin>>v[i]>>w[i];
    }

    for(int i = 1 ; i<=n ;i++){
      for(int j = 0 ; j<=m ;j++)
      {
          for(int k = 0 ; k*v[i]<=j ; k++)	//ä½“ç§¯æœ€å¤§j
              f[i][j] = max(f[i][j],f[i-1][j-k*v[i]]+k*w[i]);
      }
    }

    cout<<f[n][m]<<endl;
}
```

![image-20210330125318496](6.DP/image-20210330125318496.png)

![image.png](6.DP/006eb5E0gy1g7yyd0jjcyj30wk0fpdhc.png)

```C++
/*
å®Œå…¨èƒŒåŒ…:ä¼˜åŒ–
å…ˆéå†ç‰©å“ï¼Œåéå†èƒŒåŒ…
*/
#include<iostream>
using namespace std;
const int N = 1010;
int f[N];
int v[N],w[N];
int main()
{
    int n,m;
    cin>>n>>m;
    for(int i = 1 ; i <= n ;i ++)
    {
        cin>>v[i]>>w[i];
    }

    for(int i = 1 ; i<=n ;i++)
      for(int j = v[i] ; j<=m ;j++) //æ³¨æ„äº†ï¼Œæ­£å‘éå†ï¼Œå’Œ01èƒŒåŒ…ä¸ä¸€æ ·
              f[j] = max(f[j],f[j-v[i]]+w[i]);
    cout<<f[m]<<endl;
}
```

#### [322. é›¶é’±å…‘æ¢](https://leetcode-cn.com/problems/coin-change/)ğŸ€„ï¸

```C++
//æœ€å€¼é—®é¢˜ T:O(amount*coins)  S:O(amount)   amount:æ€»é‡‘é¢ï¼Œcoinsä¸ºç¡¬å¸æ•°
class Solution {
    public int coinChange(int[] coins, int amount) {
        int Max = amount + 1;
        int[] dp = new int[amount + 1];    //dp[i]ä»£è¡¨é‡‘é¢iæ‰€éœ€æœ€å°‘çš„ç¡¬å¸ä¸ªæ•°
        Arrays.fill(dp, Max);
        dp[0] = 0;      
        for (int coin : coins) {                    //é‡‘é¢0æ‰€éœ€è¦çš„0ä¸ªç¡¬å¸
            for(int i = coin ; i<=amount;i++){ //æ³¨æ„äº†ï¼Œæ­£å‘éå†ï¼Œå’Œ01èƒŒåŒ…ä¸ä¸€æ ·
                if(dp[i-coin] != Max){  //å½“å‰é‡‘é¢iå¿…é¡»>=jï¼Œæ‰å¯ä»¥å…‘æ¢
                    dp[i] = Math.min(dp[i],dp[i-coin]+1);
                }    
            }
        }
        return dp[amount] > amount ? -1:dp[amount];
    }
}
```

#### [518. é›¶é’±å…‘æ¢ II](https://leetcode-cn.com/problems/coin-change-2/)ğŸ€„ï¸

```C++
//æ–¹æ¡ˆé—®é¢˜ T:O(amount*coins)  S:O(amount)   amount:æ€»é‡‘é¢(èƒŒåŒ…)ï¼Œcoinsä¸ºç¡¬å¸æ•°
//åŒåŸå§‹ 
class Solution {
public:
    int change(int amount, vector<int>& coins) {
        vector<int> dp(amount + 1);   //dp[i]ä»£è¡¨é‡‘é¢içš„æ–¹æ¡ˆæ•°
        dp[0] = 1;                    //é‡‘é¢0æ‰€éœ€è¦çš„0ä¸ªç¡¬å¸,1ä¸ªæ–¹æ¡ˆ
        for (int& coin : coins) {     //âš ï¸å…ˆéå†ç¡¬å¸ï¼Œè¿™æ ·å†…å¾ªç¯éå†çš„é‡‘é¢éƒ½æ˜¯æŒ‰é¡ºåºçš„ï¼Œä¸ä¼šé‡å¤
            for(int i = coin ; i<=amount;i++){
                dp[i] += dp[i-coin];
            }
        }
        return dp[amount];
    }
};
```

#### [279. å®Œå…¨å¹³æ–¹æ•°](https://leetcode-cn.com/problems/perfect-squares/)

![image-20211022230148139](6.DP/image-20211022230148139.png)

```C++
//æœ€å€¼é—®é¢˜  T:O(nâˆ—sqrt(n))
//(1)dp[i]ä»£è¡¨iç”¨æœ€å°‘çš„å¹³æ–¹æ•°çš„ä¸ªæ•°
class Solution {
public:
    int numSquares(int n) {
        vector<int> dp(n+1,0); // (3)é»˜è®¤åˆå§‹åŒ–å€¼éƒ½ä¸º0
        for (int i = 1; i <= n; i++) {
            dp[i] = i;         // æœ€åçš„æƒ…å†µå°±æ˜¯æ¯æ¬¡+1
            for (int j = 1; i - j * j >= 0; j++) {  // (4)é¡ºåºéå†
                dp[i] =min(dp[i], dp[i - j * j] + 1); // (2)åŠ¨æ€è½¬ç§»æ–¹ç¨‹
            }
        }
        return dp[n];
    }
};
```

#### [139. å•è¯æ‹†åˆ†](https://leetcode-cn.com/problems/word-break/)

![image-20211022221506617](6.DP/image-20211022221506617.png)

```C++
//T:O(n^2) S:O(n)
//å•è¯å°±æ˜¯ç‰©å“ï¼Œå­—ç¬¦ä¸²så°±æ˜¯èƒŒåŒ…ï¼Œå•è¯èƒ½å¦ç»„æˆå­—ç¬¦ä¸²sï¼Œå°±æ˜¯é—®ç‰©å“èƒ½ä¸èƒ½æŠŠèƒŒåŒ…è£…æ»¡ã€‚
//æ‹†åˆ†æ—¶å¯ä»¥é‡å¤ä½¿ç”¨å­—å…¸ä¸­çš„å•è¯ï¼Œè¯´æ˜å°±æ˜¯ä¸€ä¸ªå®Œå…¨èƒŒåŒ…ï¼
class Solution {
public:
    bool wordBreak(string s, vector<string>& wordDict) {
        unordered_set<string> dict;
        for (auto word: wordDict) { //å“ˆå¸Œè¡¨
            dict.insert(word);
        }
        // dp[i]è¡¨ç¤ºå­—ç¬¦ä¸² s å‰ i ä¸ªå­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸² s[0..iâˆ’1]æ˜¯å¦èƒ½è¢«ç©ºæ ¼æ‹†åˆ†æˆè‹¥å¹²ä¸ªå­—å…¸ä¸­å‡ºç°çš„å•è¯
        vector <bool> dp(s.size() + 1);
        dp[0] = true;
        for (int i = 1; i <= s.size(); ++i) {
            for (int j = 0; j < i; ++j) {
                // å‰iä¸ªå­—ç¬¦ä¸²[0..j-1] å­ä¸²ï¼š[j,i]
                if (dp[j] && dict.find(s.substr(j, i - j)) != dict.end()) {
                    dp[i] = true;
                    break;
                }
            }
        }
        return dp[s.size()];
    }
};
```

#### [377. ç»„åˆæ€»å’Œ â…£](https://leetcode-cn.com/problems/combination-sum-iv/)

```C++
//æ–¹æ¡ˆæ•°é—®é¢˜	T:O(targer*n) S:O(targer)
//ï¼ˆ1ï¼‰ç”¨ dp[i]è¡¨ç¤ºé€‰å–çš„å…ƒç´ ä¹‹å’Œç­‰äº i çš„æ–¹æ¡ˆæ•°
//numsæ•°ç»„å°±æ˜¯ç‰©å“ï¼Œtargetå°±æ˜¯èƒŒåŒ…ï¼Œæ•°å­—èƒ½å¦ç»„æˆtargerï¼Œå°±æ˜¯é—®ç‰©å“èƒ½ä¸èƒ½æŠŠèƒŒåŒ…è£…æ»¡ã€‚
class Solution {
public:
    int combinationSum4(vector<int>& nums, int target) {
        vector<int> dp(target + 1);
        dp[0] = 1; //(3)
        for (int i = 1; i <= target; i++) {//(4)
            for (int& num : nums) {
                if (num <= i && dp[i - num] < INT_MAX - dp[i]) {
                    dp[i] += dp[i - num];//(2)
                }
            }
        }
        return dp[target];
    }
};
```

#### è¿›é˜¶çˆ¬æ¥¼æ¢¯

**æ”¹ä¸ºï¼šä¸€æ­¥ä¸€ä¸ªå°é˜¶ï¼Œä¸¤ä¸ªå°é˜¶ï¼Œä¸‰ä¸ªå°é˜¶ï¼Œ.......ï¼Œç›´åˆ° mä¸ªå°é˜¶ã€‚é—®æœ‰å¤šå°‘ç§ä¸åŒçš„æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶å‘¢ï¼Ÿ**

```C++
class Solution {
public:
    int climbStairs(int n) {
        vector<int> dp(n + 1, 0);
        dp[0] = 1;
        for (int i = 1; i <= n; i++) { // éå†èƒŒåŒ…
            for (int j = 1; j <= m; j++) { // éå†ç‰©å“
                if (i - j >= 0) dp[i] += dp[i - j];
            }
        }
        return dp[n];
    }
};

```



### å¤šé‡èƒŒåŒ…

[åŠ¨æ€è§„åˆ’ï¼šå…³äºå¤šé‡èƒŒåŒ…ï¼Œä½ è¯¥äº†è§£è¿™äº›ï¼](https://programmercarl.com/èƒŒåŒ…é—®é¢˜ç†è®ºåŸºç¡€å¤šé‡èƒŒåŒ….html)

[4.å¤šé‡èƒŒåŒ…é—®é¢˜ I](https://www.acwing.com/problem/content/description/4/)

> ä¸€ä¸ªåŸºæœ¬æ€è·¯æ˜¯ï¼Œå°†æ­¤é—®é¢˜è½¬æ¢ä¸º01èƒŒåŒ…æ±‚è§£ï¼
>
> æ¯”å¦‚ç‰©å“1æœ‰3ä»¶ï¼Œæ¯ä»¶ä»·å€¼ä¸º2ï¼Œæˆ‘ä»¬ä¸å¦¨åˆ›å»º3ä¸ªç‰©å“1ï¼Œå­˜åœ¨æ•°ç»„vå’Œæ•°ç»„wä¸­
>
> æœ€ç»ˆæ›´æ–°ä¸€ä¸‹æ€»ç‰©å“æ•°nå³å¯ï¼Œç„¶åå¥—ç”¨01èƒŒåŒ…é—®é¢˜è¿›è¡Œæ±‚è§£ã€‚

```C++
/*
æœ´ç´ ç‰ˆ
*/
using namespace std;
int a[10005],b[10005];
int main()
{
    int t=0,n,m,dp[10005]={ },w,v,s;
    cin>>n>>m;
    while(n--)
    {
    cin>>v>>w>>s;
    while(s--)
    {a[++t]=v;
    b[t]=w;}//æ­»æ‹†ï¼ŒæŠŠå¤šé‡èƒŒåŒ…æ‹†æˆ01èƒŒåŒ…
    }
    for(int i=1;i<=t;i++)
    for(int j=m;j>=a[i];j--)
    dp[j]=max(dp[j-a[i]]+b[i],dp[j]);//ç›´æ¥å¥—01èƒŒåŒ…çš„æ¿å­
    cout<<dp[m]<<endl;
    return 0;
}

/*
ä¼˜åŒ–ç‰ˆ
*/
#include <bits/stdc++.h>
using namespace std;
main()
{
    int dp[1005],n,m,v,w,s;
    cin>>n>>m;
    while(n--)
    {
        cin>>v>>w>>s;
        for(int i=1;i<=s;i++)
        for(int j=m;j>=v;j--)
            dp[j]=max(dp[j],dp[j-v]+w);
    }
    cout<<dp[m];
}
```



[5. å¤šé‡èƒŒåŒ…é—®é¢˜ II](https://www.acwing.com/problem/content/5/)

![image.png](6.DP/006eb5E0gy1g7z0e5ghloj31150fw0ub.png)

æ€è·¯å’Œå¤šé‡èƒŒåŒ…é—®é¢˜Iä¸€æ ·ï¼Œä½†è¿™é¢˜çš„æ•°æ®èŒƒå›´å˜æˆ1000äº†ï¼Œéä¼˜åŒ–å†™æ³•æ—¶é—´å¤æ‚åº¦O(n^3) æ¥è¿‘ 1e9

å¿…è¶…æ—¶ã€‚

![image-20210330214658423](6.DP/image-20210330214658423.png)

![image-20210330214742786](6.DP/image-20210330214742786.png)

```C++
#include<iostream>
#include<algorithm>
#include<vector>
using namespace std;
const int N = 2010;
int dp[N],n,m;
struct good
{
    int w,v;
};

int main()
{
    cin>>n>>m;
    vector<good> Good;
    good tmp;

    //äºŒè¿›åˆ¶å¤„ç†
    for(int i = 1 ; i <= n ; i++ )
    {
        int v,w,s;
        cin>>v>>w>>s;
        //å‘,k <= s
        for(int k = 1 ; k <= s ; k*=2 )
        {
            s-=k;
            Good.push_back({k*w,k*v});
        }
        if(s>0) Good.push_back({s*w,s*v});
    }

    //01èƒŒåŒ…ä¼˜åŒ–+äºŒè¿›åˆ¶
    for(auto t : Good)
        for(int j = m ; j >= t.v ; j--)
            dp[j] = max(dp[j] , dp[j-t.v]+t.w ); //è¿™é‡Œå°±æ˜¯dp[j]

    cout<<dp[m]<<endl;
    return 0;

}
```

[6. å¤šé‡èƒŒåŒ…é—®é¢˜ III](https://www.acwing.com/problem/content/6/)

**(å•è°ƒé˜Ÿåˆ—ä¼˜åŒ–) O(NV)**

ä¸€å…± n ç±»ç‰©å“ï¼ŒèƒŒåŒ…çš„å®¹é‡æ˜¯ m

æ¯ç±»ç‰©å“çš„ä½“ç§¯ä¸ºv, ä»·å€¼ä¸ºwï¼Œä¸ªæ•°ä¸ºs

æˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸€ä¸‹ä¼ ç»Ÿçš„dpæ–¹ç¨‹

```C++
dp[i][j] è¡¨ç¤ºå°†å‰ i ç§ç‰©å“æ”¾å…¥å®¹é‡ä¸º j çš„èƒŒåŒ…ä¸­æ‰€å¾—åˆ°çš„æœ€å¤§ä»·å€¼
dp[i][j] = max(ä¸æ”¾å…¥ç‰©å“ iï¼Œæ”¾å…¥1ä¸ªç‰©å“ iï¼Œæ”¾å…¥2ä¸ªç‰©å“ i, ... , æ”¾å…¥kä¸ªç‰©å“ i)
è¿™é‡Œ k è¦æ»¡è¶³ï¼šk <= s, j - k*v >= 0

ä¸æ”¾ç‰©å“  i = dp[i-1][j]
æ”¾kä¸ªç‰©å“ i = dp[i-1][j - k*v] + k*w

dp[i][j] = max(dp[i-1][j], dp[i-1][j-v] + w, dp[i-1][j-2*v] + 2*w,..., dp[i-1][j-k*v] + k*w)
```

```C++
å®é™…ä¸Šæˆ‘ä»¬å¹¶ä¸éœ€è¦äºŒç»´çš„dpæ•°ç»„ï¼Œé€‚å½“çš„è°ƒæ•´å¾ªç¯æ¡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥é‡å¤åˆ©ç”¨dpæ•°ç»„æ¥ä¿å­˜ä¸Šä¸€è½®çš„ä¿¡æ¯

æˆ‘ä»¬ä»¤ dp[j] è¡¨ç¤ºå®¹é‡ä¸ºjçš„æƒ…å†µä¸‹ï¼Œè·å¾—çš„æœ€å¤§ä»·å€¼
é‚£ä¹ˆï¼Œé’ˆå¯¹æ¯ä¸€ç±»ç‰©å“ i ï¼Œæˆ‘ä»¬éƒ½æ›´æ–°ä¸€ä¸‹ dp[m] --> dp[0] çš„å€¼ï¼Œæœ€å dp[m] å°±æ˜¯ä¸€ä¸ªå…¨å±€æœ€ä¼˜å€¼

dp[m] = max(dp[m], dp[m-v] + w, dp[m-2*v] + 2*w, dp[m-3*v] + 3*w, ...)
```

```C++
æ˜¾è€Œæ˜“è§ï¼Œm ä¸€å®šç­‰äº k*v + jï¼Œå…¶ä¸­  0 <= j < v
æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠ dp æ•°ç»„åˆ†æˆ j ä¸ªç±»ï¼Œæ¯ä¸€ç±»ä¸­çš„å€¼ï¼Œéƒ½æ˜¯åœ¨åŒç±»ä¹‹é—´è½¬æ¢å¾—åˆ°çš„
ä¹Ÿå°±æ˜¯è¯´ï¼Œdp[k*v+j] åªä¾èµ–äº { dp[j], dp[v+j], dp[2*v+j], dp[3*v+j], ... , dp[k*v+j] }

å› ä¸ºæˆ‘ä»¬éœ€è¦çš„æ˜¯{ dp[j], dp[v+j], dp[2*v+j], dp[3*v+j], ... , dp[k*v+j] } ä¸­çš„æœ€å¤§å€¼ï¼Œ
å¯ä»¥é€šè¿‡ç»´æŠ¤ä¸€ä¸ªå•è°ƒé˜Ÿåˆ—æ¥å¾—åˆ°ç»“æœã€‚è¿™æ ·çš„è¯ï¼Œé—®é¢˜å°±å˜æˆäº† j ä¸ªå•è°ƒé˜Ÿåˆ—çš„é—®é¢˜
```

```C++
æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°
dp[j]    =     dp[j]
dp[j+v]  = max(dp[j] +  w,  dp[j+v])
dp[j+2v] = max(dp[j] + 2w,  dp[j+v] +  w, dp[j+2v])
dp[j+3v] = max(dp[j] + 3w,  dp[j+v] + 2w, dp[j+2v] + w, dp[j+3v])
...
ä½†æ˜¯ï¼Œè¿™ä¸ªé˜Ÿåˆ—ä¸­å‰é¢çš„æ•°ï¼Œæ¯æ¬¡éƒ½ä¼šå¢åŠ ä¸€ä¸ª w ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åšä¸€äº›è½¬æ¢
```

```C++
å•è°ƒé˜Ÿåˆ—é—®é¢˜ï¼Œæœ€é‡è¦çš„ä¸¤ç‚¹
1ï¼‰ç»´æŠ¤é˜Ÿåˆ—å…ƒç´ çš„ä¸ªæ•°ï¼Œå¦‚æœä¸èƒ½ç»§ç»­å…¥é˜Ÿï¼Œå¼¹å‡ºé˜Ÿå¤´å…ƒç´ 
2ï¼‰ç»´æŠ¤é˜Ÿåˆ—çš„å•è°ƒæ€§ï¼Œå³ï¼šå°¾å€¼ >= dp[j + k*v] - k*w

æœ¬é¢˜ä¸­ï¼Œé˜Ÿåˆ—ä¸­å…ƒç´ çš„ä¸ªæ•°åº”è¯¥ä¸º s+1 ä¸ªï¼Œå³ 0 -- s ä¸ªç‰©å“ i
```

```C++
#include <iostream>
#include <cstring>

using namespace std;

const int N = 20010;

int dp[N], pre[N], q[N];
int n, m;

int main() {
    cin >> n >> m;
    for (int i = 0; i < n; ++i) {
        memcpy(pre, dp, sizeof(dp));
        int v, w, s;
        cin >> v >> w >> s;
        for (int j = 0; j < v; ++j) {
            int head = 0, tail = -1;
            for (int k = j; k <= m; k += v) {

                if (head <= tail && k - s*v > q[head])
                    ++head;

                while (head <= tail && pre[q[tail]] - (q[tail] - j)/v * w <= pre[k] - (k - j)/v * w)
                    --tail;

                if (head <= tail)
                    dp[k] = max(dp[k], pre[q[head]] + (k - q[head])/v * w);

                q[++tail] = k;
            }
        }
    }
    cout << dp[m] << endl;
    return 0;
}
```

### åˆ†ç»„èƒŒåŒ…

[9. åˆ†ç»„èƒŒåŒ…é—®é¢˜](https://www.acwing.com/problem/content/9/)

![image-20210330215834022](6.DP/image-20210330215834022.png)

```C++
/*
äºŒç»´
*/
using namespace std;

const int N=110;
int f[N][N];  //åªä»å‰iç»„ç‰©å“ä¸­é€‰ï¼Œå½“å‰ä½“ç§¯å°äºç­‰äºjçš„æœ€å¤§å€¼
int v[N][N],w[N][N],s[N];   //vä¸ºä½“ç§¯ï¼Œwä¸ºä»·å€¼ï¼Œsä»£è¡¨ç¬¬iç»„ç‰©å“çš„ä¸ªæ•°
int n,m,k;

int main(){
    cin>>n>>m;
    for(int i=1;i<=n;i++){
        cin>>s[i];
        for(int j=0;j<s[i];j++){
            cin>>v[i][j]>>w[i][j];  //è¯»å…¥
        }
    }

    for(int i=1;i<=n;i++){
        for(int j=0;j<=m;j++){
            f[i][j]=f[i-1][j];  //ä¸é€‰
            for(int k=0;k<s[i];k++){ //ç¬¬iç»„çš„ç¬¬kä¸ªç‰©å“
                if(j>=v[i][k])     f[i][j]=max(f[i][j],f[i-1][j-v[i][k]]+w[i][k]);  
            }
        }
    }
    cout<<f[n][m]<<endl;
}
```

```C++
/*
ä¸€ç»´ä¼˜åŒ–
*/
using namespace std;

const int N=110;
int f[N];
int v[N][N],w[N][N],s[N];
int n,m,k;

int main(){
    cin>>n>>m;
    for(int i=0;i<n;i++){
        cin>>s[i];
        for(int j=0;j<s[i];j++){
            cin>>v[i][j]>>w[i][j];
        }
    }

    for(int i=0;i<n;i++){
        for(int j=m;j>=0;j--){
            for(int k=0;k<s[i];k++){    //for(int k=s[i];k>=1;k--)ä¹Ÿå¯ä»¥
                if(j>=v[i][k])     f[j]=max(f[j],f[j-v[i][k]]+w[i][k]);  
            }
        }
    }
    cout<<f[m]<<endl;
}
```



**æœ€å€¼é—®é¢˜**

- é›¶é’±å…‘æ¢ï¼ˆå®Œå…¨èƒŒåŒ…ï¼‰
- ä¸€å’Œé›¶ï¼ˆäºŒç»´è´¹ç”¨èƒŒåŒ…ï¼‰
- æœ€åä¸€å—çŸ³å¤´çš„é‡é‡ II â€”â€” è½¬æ¢ä¸º01èƒŒåŒ…é—®é¢˜ï¼Œä½¿å¾—èƒŒåŒ…å‰©ä½™å®¹é‡æœ€å°

è¿™é“é¢˜æ˜¯è¦æ±‚**æ°å¥½å–åˆ°èƒŒåŒ…å®¹é‡**çš„èƒŒåŒ…é—®é¢˜ã€‚

- åˆ†å‰²ç­‰å’Œå­é›†ï¼ˆ01 èƒŒåŒ… - è¦æ±‚æ°å¥½å–åˆ°èƒŒåŒ…å®¹é‡ï¼‰



**æ–¹æ¡ˆæ•°é—®é¢˜**

è¿™å››é“é¢˜æ˜¯èƒŒåŒ…é—®é¢˜æ±‚æ–¹æ¡ˆæ•°çš„é¢˜ç›®ï¼Œæ¶‰åŠåˆ° 01èƒŒåŒ…ï¼Œå®Œå…¨èƒŒåŒ…çš„æ–¹æ¡ˆæ•°é—®é¢˜ã€‚ä»¥åŠè€ƒè™‘é¡ºåºå’Œä¸è€ƒè™‘é¡ºåºçš„æƒ…å†µã€‚

```
ç»„åˆæ€»å’Œ â…£ â€”â€” é¡ºåºä¸åŒçš„åºåˆ—è¢«è§†ä½œä¸åŒçš„ç»„åˆ
ç›®æ ‡å’Œ â€”â€” 01èƒŒåŒ…-æ±‚æ–¹æ¡ˆæ•°
é›¶é’±å…‘æ¢ II â€”â€” å®Œå…¨èƒŒåŒ…-æ±‚æ–¹æ¡ˆæ•°
ç›ˆåˆ©è®¡åˆ’ â€”â€” 01èƒŒåŒ…-æ±‚æ–¹æ¡ˆæ•°æ€»ä»·å€¼æœ‰è¦æ±‚ï¼šæœ‰ä¸‹é™
```

## (2)çŠ¶æ€å‹ç¼©DP

å®‰å“ç³»ç»Ÿæ‰‹åŠ¿è§£é”
æˆ‘èƒ½èµ¢å—
ä¸åŒè·¯å¾„ III â€”â€” çŠ¶æ€å‹ç¼© DP + è®°å¿†åŒ–
åˆ’åˆ†ä¸º k ä¸ªç›¸ç­‰çš„å­é›† â€”â€” çŠ¶æ€å‹ç¼© DP + è®°å¿†åŒ–
è®¿é—®æ‰€æœ‰èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ â€”â€” Floyd + çŠ¶æ€å‹ç¼© DP æ±‚æœ€çŸ­å“ˆå¯†é¡¿è·¯
æœ€çŸ­è¶…çº§ä¸² â€”â€” çŠ¶æ€å‹ç¼© DP + DP è¿‡ç¨‹è®°å½•è·¯å¾„
ä¼˜ç¾çš„æ’åˆ—
éª‘å£«æ‹¨å·å™¨
å‚åŠ è€ƒè¯•çš„æœ€å¤§å­¦ç”Ÿæ•°
å¤§ç¤¼åŒ…
è´´çº¸æ‹¼è¯
æŒ‰ä½ä¸ä¸ºé›¶çš„ä¸‰å…ƒç»„

## (3)æ ‘å½¢DP

```

```



## (4)åŒºé—´DP

**å›æ–‡ç›¸å…³é—®é¢˜**

- æœ€é•¿å›æ–‡å­ä¸²
- å›æ–‡å­ä¸²
- æœ€é•¿å›æ–‡å­åºåˆ—
- æ®µå¼å›æ–‡
- ç»Ÿè®¡ä¸åŒå›æ–‡å­å­—ç¬¦ä¸²
- è®©å­—ç¬¦ä¸²æˆä¸ºå›æ–‡ä¸²çš„æœ€å°‘æ’å…¥æ¬¡æ•° â€”â€” æœ€é•¿å›æ–‡å­åºåˆ—

**åŒºé—´åŠ¨æ€è§„åˆ’å…¶å®ƒé—®é¢˜**

æˆ³æ°”çƒ
ç§»é™¤ç›’å­ â€”â€” æˆ³æ°”çƒå‡çº§ç‰ˆï¼Œ[i][j] åŸºç¡€ä¸ŠåŠ äº†ä¸€ç»´ k çŠ¶æ€ï¼Œk æ˜¯ j å³ä¾§ä¸ j ç›¸åŒçš„å…ƒç´ ä¸ªæ•°, è®°å¿†åŒ–
å¤šè¾¹å½¢ä¸‰è§’å‰–åˆ†çš„æœ€ä½å¾—åˆ†
å¥‡æ€ªçš„æ‰“å°æœº
åˆå¹¶çŸ³å¤´çš„æœ€ä½æˆæœ¬
é¢„æµ‹èµ¢å®¶
ç¼–ç æœ€çŸ­é•¿åº¦çš„å­—ç¬¦ä¸²

#### [5. æœ€é•¿å›æ–‡å­ä¸²](https://leetcode.cn/problems/longest-palindromic-substring/)



## (5)è®¡æ•°DP

[62. ä¸åŒè·¯å¾„](https://leetcode-cn.com/problems/unique-paths)

[276. æ …æ æ¶‚è‰²](https://leetcode-cn.com/problems/paint-fence/)

**è®¡æ•°é—®é¢˜ç›¸å…³ç»ƒä¹ é¢˜**

1. è·¯å¾„é—®é¢˜
2. å¡ç‰¹å…°æ•°
3. é“ºç –é—®é¢˜
4. æ–æ³¢é‚£å¥‘
5. éšæ™¦çš„é€’æ¨å…³ç³»

## çŸ©é˜µå¿«é€Ÿå¹‚

[50. Pow(x, n)](https://leetcode-cn.com/problems/powx-n/)

[70. çˆ¬æ¥¼æ¢¯](https://leetcode-cn.com/problems/climbing-stairs/)

## (6)æ•°ä½DP

[902. æœ€å¤§ä¸º N çš„æ•°å­—ç»„åˆ](https://leetcode-cn.com/problems/numbers-at-most-n-given-digit-set/)

ä»¥ä¸‹ 9 é“é¢˜æ˜¯åŠ›æ‰£ä¸Šæ•°ä½ DP ç›¸å…³çš„é¢˜ç›®ã€‚

```
æ»¡è¶³æŸäº›æ¡ä»¶çš„æ•°å­—ä¸ªæ•°
    æœ€å¤§ä¸º N çš„æ•°å­—ç»„åˆ
    ä¸­å¿ƒå¯¹ç§°æ•° III
    è®¡ç®—å„ä¸ªä½æ•°ä¸åŒçš„æ•°å­—ä¸ªæ•°
    ä¸å«è¿ç»­ 1 çš„éè´Ÿæ•´æ•°
    è‡³å°‘æœ‰ 1 ä½é‡å¤çš„æ•°å­—
    æ˜“æ··æ·†æ•° II

å°† xâˆˆ[L,R]x \in [L, R]xâˆˆ[L,R] ä»£åˆ°ä¸€ä¸ªå‡½æ•° f(x) ä¸­, ä¸€ä¸ªæ•°å­— x çš„ f(x) å€¼ä¸ºä¸€æ¬¡è´¡çŒ®çš„é‡, æ±‚æ€»çš„è´¡çŒ®
    æ•°å­— 1 çš„ä¸ªæ•°
    èŒƒå›´å†…çš„æ•°å­—è®¡æ•°
    2 å‡ºç°çš„æ¬¡æ•°
```





#### [å‰‘æŒ‡ Offer 10- II. é’è›™è·³å°é˜¶é—®é¢˜](https://leetcode-cn.com/problems/qing-wa-tiao-tai-jie-wen-ti-lcof/)ğŸ€„ï¸

![image-20210813162608191](6.DP/image-20210813162608191.png)

```java
class Solution {
    public int numWays(int n) {
        int a = 1, b = 1, sum;
        for(int i = 0; i < n; i++){
            sum = (a + b) % 1000000007;
            a = b;
            b = sum;
        }
        return a;	
    }
}
```

#### [å‰‘æŒ‡ Offer 42. è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ](https://leetcode-cn.com/problems/lian-xu-zi-shu-zu-de-zui-da-he-lcof/)

![image-20210813162640327](6.DP/image-20210813162640327.png)

```java
//T:O(n)
class Solution {
    public int maxSubArray(int[] nums) {
        int pre=0,res = nums[0];
        for(int x:nums){
            pre = Math.max(x,pre+x);	//âš ï¸å½“å‰x æˆ–è€… xåŠ ä¸Šä¹‹å‰
            res = Math.max(pre,res);
        }
        return res;
    }
}
```

#### [å‰‘æŒ‡ Offer 46. æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸²](https://leetcode-cn.com/problems/ba-shu-zi-fan-yi-cheng-zi-fu-chuan-lcof/) ğŸ€„ï¸

![image-20210812100300618](/Users/zcz/Desktop/images/image-20210812100300618.png)

![image-20210812101125269](6.DP/image-20210812101125269.png)

```java
//Tï¼šO(n)
//Sï¼šç”¨äº†æ»šåŠ¨æ•°ç»„O(1)ï¼Œä½†æ˜¯è¿™é‡Œç”¨äº†ä¸€ä¸ªä¸´æ—¶å˜é‡æŠŠæ•°å­—è½¬åŒ–æˆäº†å­—ç¬¦ä¸²ï¼Œæ•…æ¸è¿›ç©ºé—´å¤æ‚åº¦ä¹Ÿæ˜¯ O(logâ¡n)
class Solution {
    public int translateNum(int num) {
        String str = String.valueOf(num);
        int p=0,q=0,r=1;
        for(int i =0;i<str.length();i++){
            p =q;
            q =r;
            r =0;
            r += q; //f(i-1)è´¡çŒ®
            if(i == 0) continue;
            String pre = str.substring(i-1,i+1);    //å–i-1åˆ°içš„å­ä¸²
            if(pre.compareTo("25") <= 0 && pre.compareTo("10") >= 0)
                r+=p;   //f(i-2)è´¡çŒ®
        }
        return r;
    }
}
```

#### [å‰‘æŒ‡ Offer 47. ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼](https://leetcode-cn.com/problems/li-wu-de-zui-da-jie-zhi-lcof/)

![image-20210812101713646](/Users/zcz/Desktop/images/image-20210812101713646.png)

![image-20210812102323894](6.DP/image-20210812102323894.png)

```java
//T:O(MN)
//S:O(1) gridä½œä¸ºdpä½¿ç”¨
class Solution {
    public int maxValue(int[][] grid) {
        int m=grid.length,n=grid[0].length; //mè¡Œï¼Œnåˆ—
        for(int i=0;i<m;i++){
            for(int j=0;j<n;j++){
                if(i == 0 && j ==0) continue;
                if(i == 0) grid[0][j] += grid[0][j-1];              //ä»å·¦
                else if(j==0) grid[i][0] += grid[i-1][0];           //ä»ä¸Š
                else grid[i][j] += Math.max(grid[i][j-1],grid[i-1][j]);//ä»ä¸Šæˆ–ä»å·¦
            }
        }
        return grid[m-1][n-1];
    }
}
```

#### [å‰‘æŒ‡ Offer 49. ä¸‘æ•°](https://leetcode-cn.com/problems/chou-shu-lcof/)

```java
//è®¾åŠ¨æ€è§„åˆ’åˆ—è¡¨dp ï¼Œdp[i]ä»£è¡¨ç¬¬ i+1 ä¸ªä¸‘æ•°ï¼›ï¼ˆä¸‹æ ‡ä»0å¼€å§‹çš„ï¼‰
//T:O(n)
//S:O(1)
class Solution {
    public int nthUglyNumber(int n) {
        int a=0,b=0,c=0;
        int[] dp = new int[n];
        dp[0] = 1;
        for(int i=1;i<n;i++){
            int n1=dp[a]*2,n2=dp[b]*3,n3=dp[c]*5;
            dp[i] = Math.min(n1,Math.min(n2,n3));
            if(dp[i] == n1) a++;
            if(dp[i] == n2) b++;
            if(dp[i] == n3) c++;
        }
        return dp[n-1];
    }
}
```

#### [264. ä¸‘æ•° II](https://leetcode.cn/problems/ugly-number-ii/)

#### [313. è¶…çº§ä¸‘æ•°](https://leetcode.cn/problems/super-ugly-number/)

#### 

#### [å‰‘æŒ‡ Offer 62. åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­—](https://leetcode-cn.com/problems/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof/) çº¦ç‘Ÿç¯

![image-20210813162901260](6.DP/image-20210813162901260.png)

![image-20210813162843069](6.DP/image-20210813162843069.png)

```java
//é€’å½’ T:O(N) S:O(N)
class Solution {
    public int lastRemaining(int n, int m) {
        return f(n, m);
    }

    public int f(int n, int m) {
        if (n == 1) {		//é€’å½’å‡ºå£
            return 0;
        }
        //ä»ä¸Šå¾€ä¸‹æ¨
        return (m + f(n - 1, m)) % n;		//ä¸‹ä¸€ä¸ªåˆ é™¤çš„æ•°   ç­‰ä»·å…³ç³»å¼
    }
}

//åŠ¨æ€ T:O(N) S:O(1)
class Solution {
    public int lastRemaining(int n, int m) {
        int f = 0;		//åˆå§‹åŒ–æ¡ä»¶
        for (int i = 2; i != n + 1; ++i) {
            f = (m + f) % i;	//âš ï¸ä»ä¸‹å¾€ä¸Šæ¨ï¼Œä»2å¼€å§‹
        }
        return f;
    }
}
```

#### [å‰‘æŒ‡ Offer 63. è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦](https://leetcode-cn.com/problems/gu-piao-de-zui-da-li-run-lcof/)

![image-20210813162930157](6.DP/image-20210813162930157.png)

```java
//T:O(n) S:O(1)
class Solution {
    public int maxProfit(int[] prices) {
        int cost = Integer.MAX_VALUE, profit = 0;
        for(int price : prices) {
            cost = Math.min(cost, price);	//min(prices[0:i])
            profit = Math.max(profit, price - cost);
        }
        return profit;
    }
}
```

#### [å‰‘æŒ‡ Offer 19. æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…](https://leetcode-cn.com/problems/zheng-ze-biao-da-shi-pi-pei-lcof/) Â å›°éš¾

```java
//T,S:O(mn)
class Solution {
    public boolean isMatch(String A, String B) {
        int n = A.length();
        int m = B.length();
        boolean[][] f = new boolean[n + 1][m + 1];

        for (int i = 0; i <= n; i++) {
            for (int j = 0; j <= m; j++) {
                //åˆ†æˆç©ºæ­£åˆ™å’Œéç©ºæ­£åˆ™ä¸¤ç§
                if (j == 0) {
                    f[i][j] = i == 0;
                } else {
                    //éç©ºæ­£åˆ™åˆ†ä¸ºä¸¤ç§æƒ…å†µ * å’Œ é*
                    if (B.charAt(j - 1) != '*') {
                        if (i > 0 && (A.charAt(i - 1) == B.charAt(j - 1) || B.charAt(j - 1) == '.')) {
                            f[i][j] = f[i - 1][j - 1];
                        }
                    } else {
                        //ç¢°åˆ° * äº†ï¼Œåˆ†ä¸ºçœ‹å’Œä¸çœ‹ä¸¤ç§æƒ…å†µ
                        //ä¸çœ‹
                        if (j >= 2) {
                            f[i][j] |= f[i][j - 2];
                        }
                        //çœ‹
                        if (i >= 1 && j >= 2 && (A.charAt(i - 1) == B.charAt(j - 2) || B.charAt(j - 2) == '.')) {
                            f[i][j] |= f[i - 1][j];
                        }
                    }
                }
            }
        }
        return f[n][m];
    }
}
```

#### [å‰‘æŒ‡ Offer 60. nä¸ªéª°å­çš„ç‚¹æ•°](https://leetcode-cn.com/problems/nge-tou-zi-de-dian-shu-lcof/)

```

```

#### [å‰‘æŒ‡ Offer 62. åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­—](https://leetcode-cn.com/problems/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof/)

```

```



#### [å‰‘æŒ‡ Offer 48. æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²](https://leetcode-cn.com/problems/zui-chang-bu-han-zhong-fu-zi-fu-de-zi-zi-fu-chuan-lcof/)

![image-20210701155141042](6.DP/image-20210701155141042.png)

```C++
//åŠ¨æ€è§„åˆ’+å“ˆå¸Œ
//ç”±äºè¿”å›å€¼æ˜¯å– dpåˆ—è¡¨æœ€å¤§å€¼ï¼Œå› æ­¤å¯å€ŸåŠ©å˜é‡ tmp å­˜å‚¨ dp[j]
//T:O(N) S:O(1)

```

