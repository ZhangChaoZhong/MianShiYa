---
title: 4.æŒ‡é’ˆç±»é—®é¢˜
date: 2021-1-2 21:45:00
tags: Algorithm
categories: ç®—æ³•
---

# 2.4 æŒ‡é’ˆç±»é—®é¢˜

> 1.**åŒæŒ‡é’ˆ/æ»‘åŠ¨çª—å£**ï¼Œç”¨å¿«æ…¢æŒ‡é’ˆï¼Œéå†æ–¹å‘ç›¸åŒï¼Œä¸”ä¸ç›¸äº¤
>
> 2.**æœç´¢**ï¼ˆå¾€å¾€æœç´¢çš„æ•°ç»„æ’å¥½åºï¼‰ï¼Œéå†æ–¹å‘ç›¸å

<!--more-->

### æ»‘åŠ¨çª—å£

#### [å‰‘æŒ‡ Offer 57 - II. å’Œä¸ºsçš„è¿ç»­æ­£æ•°åºåˆ—](https://leetcode-cn.com/problems/he-wei-sde-lian-xu-zheng-shu-xu-lie-lcof/)

![image-20210629195210802](4.æŒ‡é’ˆç±»é—®é¢˜/image-20210629195210802.png)

```C++
//æ»‘åŠ¨çª—å£
//T:O(target)	S:O(1)
class Solution {
public:
    vector<vector<int>> findContinuousSequence(int target) {
        int l=1,r=2;
        vector<vector<int>> res;
        while(l<r){
            vector<int> tmp;
            int sum = (l+r)*(r-l+1)/2;
            if(sum == target){
                for(int i=l;i<=r;i++)
                    tmp.push_back(i);
                res.push_back(tmp);
                l++;    //âš ï¸
            }else if(sum < target) r++; 
            else l++;
        }
        return res;
    }
};
```

#### [151. ç¿»è½¬å­—ç¬¦ä¸²é‡Œçš„å•è¯](https://leetcode-cn.com/problems/reverse-words-in-a-string/)

```C++
//å…ˆæ•´ä¸ªç¿»è½¬ï¼Œå†æ¯ä¸ªå•è¯ç¿»è½¬
//T:O(n),S:O(1)
class Solution {
public:
    string reverseWords(string s) {
        reverse(s.begin(),s.end()); 
        int r=0;
        int n = s.size();
        for(int l=0;l<n;l++){
            if(s[l] != ' '){             //å½“å‰ä¸æ˜¯ç©ºæ ¼
                if(r != 0) s[r++] = ' '; //å°†å‰é¢çš„ç©ºæ ¼å¡«ä¸Š
                int end = l;
                while(s[end] != ' '&& end < n){// éå†åˆ°ç©ºæ ¼åœæ­¢
                    s[r++] = s[end++];
                } //æ­¤æ—¶rä¸ºå•è¯æœ«å°¾ å•è¯é•¿åº¦end-lï¼Œèµ·å§‹ä½ç½® r-(end-l) 
                reverse(s.begin()+r-(end-l),s.begin()+r); //åˆ°r-1
                l = end;  //æ›´æ–°
            }
        }
        s.erase(s.begin()+r,s.end());   //åˆ é™¤æœ«å°¾ç©ºæ ¼
        return s;
    }
};
```

#### [3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²](https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/)

```C++
//æ»‘åŠ¨çª—å£
//T:O(n) S:O(m) må­—ç¬¦é›†å¤§å°
  //ræŒ‡é’ˆä¸€ç›´å³ç§»ï¼Œæ²¡æœ‰å°±å­˜å…¥ï¼Œå‡ºç°è¿‡å°±åˆ é™¤ï¼Œå¹¶å°†lå·¦ç§»
class Solution {
public:
    int lengthOfLongestSubstring(string s) {
        unordered_set<char> occ;// å“ˆå¸Œé›†åˆï¼Œè®°å½•æ¯ä¸ªå­—ç¬¦æ˜¯å¦å‡ºç°è¿‡
        int n = s.size();
        int l=0,r=-1;
        int res=0;
         while (l < n) {
            if (r + 1 < n && !occ.count(s[r + 1])) {    //å½“å‰å­—ç¬¦æ²¡æœ‰å‡ºç°è¿‡
                occ.insert(s[r+1]);
                r++;
            }else {         //å·²ç»å‡ºç°äº†ï¼Œåˆ é™¤
                occ.erase(s[l]);
                l++;
            }
            res = max(res, r - l+ 1);
        }
        return res;
    }
};
```

#### [395. è‡³å°‘æœ‰ K ä¸ªé‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²](https://leetcode-cn.com/problems/longest-substring-with-at-least-k-repeating-characters/)

```C++
//æšä¸¾æœ€é•¿å­ä¸²ä¸­çš„å­—ç¬¦ç§ç±»æ•°ç›®(æœ¬é¢˜æœ€å¤§ä¸º26)
//æšä¸¾+æ»‘åŠ¨çª—å£
class Solution {
public:
    int longestSubstring(string s, int k) {
       int res=0;
       int n=s.size();
       for(int p=1;p<=26;p++){
           vector<int> cnt(26,0);
           int l=0,r=0;
           //total ä»£è¡¨ [left, right] åŒºé—´æ‰€æœ‰çš„å­—ç¬¦ç§ç±»æ•°é‡ï¼›sum ä»£è¡¨æ»¡è¶³ã€Œå‡ºç°æ¬¡æ•°ä¸å°‘äº kã€çš„å­—ç¬¦ç§ç±»æ•°é‡
           int total=0,sum=0;
           while(r < n){
               int index = s[r]-'a';
               cnt[index]++;
               if(cnt[index] == 1) total++; //æ–°çš„å­—ç¬¦ï¼Œç›´æ¥åŠ 1
               if(cnt[index] == k) sum++;   //æ»¡è¶³åŠ 1
               while(total > p){    //ä¸€ç›´å·¦ç§»ï¼Œç¼©å°çª—å£ä¸ºp
                   index = s[l] - 'a';
                   if(cnt[index] == 1) total--;
                   if(cnt[index] == k) sum--;
                   cnt[index]--;
                   l++;
               }  
               if(total == sum) res=max(res,r-l+1);
               r++; //ä¸‹ä¸€ä¸ª
           }
       }
       return res;
    }
};
```



#### [30. ä¸²è”æ‰€æœ‰å•è¯çš„å­ä¸²](https://leetcode-cn.com/problems/substring-with-concatenation-of-all-words/)

```C++
//T:O(m*n)  S:O(m)   s çš„é•¿åº¦æ˜¯ nï¼Œwords é‡Œæœ‰ m ä¸ªå•è¯
//mapå­˜wordsï¼ˆå•è¯ï¼Œæ¬¡æ•°ï¼‰ map2ä¸´æ—¶ç»Ÿè®¡ï¼ˆå•è¯ï¼Œæ¬¡æ•°ï¼‰
class Solution {
public:
    vector<int> findSubstring(string s, vector<string>& words) {
       vector<int> res;
       int wordNum = words.size();
       if(wordNum == 0) return res;
       int len = words[0].size();   //æ»‘åŠ¨çª—å£å¤§å°
       unordered_map<string,int> map;	
       for(auto &word:words) map[word]++;
        
        for(int i=0;i<s.size()-wordNum*len+1;i++){
            unordered_map<string,int> tmp;
            int num=0;
            while(num < wordNum){   //ä¸åŒäºjavaçš„subString
                string word = s.substr(i+num*len,len);  //å–å‡ºå½“å‰word
                if(map.count(word)){
                    tmp[word]++;
                    if(tmp[word] > map[word]) break;
                }else break;
                num++;  //ä¸‹ä¸€ä¸ªword
            }
            if(num == wordNum){  //åˆ¤æ–­æ˜¯ä¸æ˜¯æ‰€æœ‰çš„å•è¯éƒ½ç¬¦åˆæ¡ä»¶
                res.push_back(i);
            }
        }
        return res;
    }
};
```

#### [76. æœ€å°è¦†ç›–å­ä¸²](https://leetcode-cn.com/problems/minimum-window-substring/)ğŸ€„ï¸

![https://assets.leetcode-cn.com/solution-static/76/76_fig1.gif](4.æŒ‡é’ˆç±»é—®é¢˜/76_fig1.gif)

```C++
/*æ»‘åŠ¨çª—å£ éå†æ–¹å‘ç›¸åŒï¼Œè¿”å›åŒ…å«tçš„æœ€å°å­ä¸²
Tï¼šO(C*s+t) S:O(C) Cå­—ç¬¦é›†å¤§å°
æ€è·¯ï¼šræŒ‡é’ˆä¸æ–­å‘å³ç§»åŠ¨ï¼Œç›´åˆ°åŒ…å«Tå­—ä¸²ï¼Œæ­¤æ—¶læŒ‡é’ˆå‘å³ç§»ï¼Œå°è¯•æ‰¾åˆ°æœ€çŸ­çš„åŒ…å«Tçš„å­ä¸²
 chars è¡¨ç¤ºTä¸­æ¯ä¸ªå­—ç¬¦çš„æ•°é‡ï¼Œflag è¡¨ç¤ºæ¯ä¸ªå­—ç¬¦æ˜¯å¦åœ¨ T ä¸­å­˜åœ¨ã€‚
*/
class Solution {
public:
    string minWindow(string s, string t) {   
        vector<char> cnt(128,0);        //å“ˆå¸Œè¡¨ 
        vector<bool> flag(128,false);   //æ˜¯å¦ä¸ºTä¸­çš„å­—ç¬¦
        for(int i=0;i<t.size();i++){
            cnt[t[i]]++;
            flag[t[i]] = true;
        }

        int l=0,min_l=0,min_size = s.size()+1;//min_sizeæœ€çŸ­å­ä¸²é•¿åº¦
        int num=0;  //Tä¸­å­—ç¬¦ä¸²å‡ºç°çš„ä¸ªæ•°
        for(int r=0;r<s.size();r++){
            if(flag[s[r]]){
                if(--cnt[s[r]] >= 0) num++;
                while(num == t.size()){
                    if(r-l+1 < min_size){
                        min_l = l;  //å·¦è¾¹èµ·å§‹
                        min_size = r-l+1;
                    }
                    //æ¯”å¦‚ï¼šT:BCï¼ŒS:ABBACDï¼Œl=0,r=4,éœ€è¦å†ç§»åŠ¨l
                    if(flag[s[l]] && ++cnt[s[l]] > 0) num--;  //æ˜¯Tä¸­å­—ç¬¦ï¼Œä¸”è¦å°†è¿™ä¸ªå­—ç¬¦ç§»é™¤çª—å£
                    l++;    //ç¼©å°çª—å£,l=3,cnt=1ï¼Œè·³å‡º
                }
            }
        }
        return min_size > s.size() ? "": s.substr(min_l,min_size);
    }
};
```

#### [159.è‡³å¤šåŒ…å«ä¸¤ä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­ä¸²](https://leetcode-cn.com/problems/longest-substring-with-at-most-two-distinct-characters/)

```C++

```

#### [209. é•¿åº¦æœ€å°çš„å­æ•°ç»„](https://leetcode-cn.com/problems/minimum-size-subarray-sum/)

```C++
//T:O(n  S:O(1)
class Solution {
public:
    int minSubArrayLen(int s, vector<int>& nums) {
        int n = nums.size();
        if (n == 0) return 0;
        int res = INT_MAX;
        int l = 0, r = 0;
        int sum = 0;
        while (r < n) {
            sum += nums[r];
            while (sum >= s) {  //æ‰¾åˆ°ç¬¦åˆçš„
                res = min(res, r - l + 1);
                
                sum -= nums[l]; //å·¦ç§»ï¼Œç¼©å°çª—å£ï¼Œç›´åˆ°æœ€å°
                l++;
            }
            r++;
        }
        return res == INT_MAX ? 0 : res;
    }
};
```

#### [340. è‡³å¤šåŒ…å« K ä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­ä¸²](https://leetcode-cn.com/problems/longest-substring-with-at-most-k-distinct-characters/)

```C++

```

#### [567. å­—ç¬¦ä¸²çš„æ’åˆ—](https://leetcode-cn.com/problems/permutation-in-string/)

```C++
//T:O(k+m) S:O(C) C:26ä¸ªå­—æ¯
//å½“ä¸¤ä¸ªå­—ç¬¦ä¸²æ¯ä¸ªå­—ç¬¦çš„ä¸ªæ•°å‡ç›¸ç­‰æ—¶ï¼Œä¸€ä¸ªå­—ç¬¦ä¸²æ‰æ˜¯å¦ä¸€ä¸ªå­—ç¬¦ä¸²çš„æ’åˆ—ã€‚
class Solution {
public:
    bool checkInclusion(string s1, string s2) {
        int n = s1.length(), m = s2.length();
        if (n > m) return false;
        vector<int> cnt1(26), cnt2(26);
        for (int i = 0; i < n; ++i) {
            ++cnt1[s1[i] - 'a'];
            ++cnt2[s2[i] - 'a'];
        }
        if (cnt1 == cnt2) {
            return true;
        }   
        for (int i = n; i < m; ++i) {   //nä¸ºçª—å£å¤§å°
            --cnt2[s2[i - n] - 'a'];    //å‘å³æ»‘åŠ¨,å·¦è¾¹ç•Œæ»‘å‡º
            ++cnt2[s2[i] - 'a'];        //å³è¾¹ç•Œ++
            if (cnt1 == cnt2) {
                return true;
            }
        }
        return false;
    }
};
```

#### [632. æœ€å°åŒºé—´](https://leetcode-cn.com/problems/smallest-range/)

```C++

```

#### [727. æœ€å°çª—å£å­åºåˆ—](https://leetcode-cn.com/problems/minimum-window-subsequence/)

```C++

```

### åŒæŒ‡é’ˆ

#### [143. é‡æ’é“¾è¡¨](https://leetcode-cn.com/problems/reorder-list/)

```C++
//ã€å¿«æ…¢æŒ‡é’ˆï¼ˆå¤šèµ°ä¸€æ­¥ï¼‰å¯»æ‰¾é“¾è¡¨ä¸­ç‚¹ + åè½¬é“¾è¡¨ï¼ˆå³åŠéƒ¨åˆ†ï¼‰ +åˆå¹¶é“¾è¡¨ï¼ˆ å·¦å–1ä¸ªï¼Œå³è¾¹å–1ä¸ªï¼‰ã€‘
class Solution {
public:
    ListNode* getMid(ListNode* head){
        ListNode* slow=head,*fast=head;
        while(fast->next && fast->next->next ){     //ä¿è¯å‰è¿›çš„2ä¸ªéƒ½ä¸ä¸ºç©º
            slow =slow->next;
            fast =fast->next->next;
        }
        return slow;
    }

    ListNode* reverseList(ListNode* head) {
        ListNode* pre=nullptr;
        ListNode* cur =head;
        while(cur){
            ListNode* tmp=cur->next;        //æš‚å­˜
            cur->next = pre;        //ç”±äºè¿™é‡Œnextæ”¹å˜äº†
            pre = cur;
            cur = tmp;          
        }
        return pre;
    }
    void mergeList(ListNode* l1,ListNode* l2){
        while(l1 && l2){
            ListNode*  tmp1 = l1->next;     //æš‚å­˜
            ListNode*  tmp2 = l2->next;

            l1->next=l2;    //l1æŒ‡å‘l2      ç”±äºè¿™é‡Œnextæ”¹å˜äº†
            l1 = tmp1;     //æ›´æ–°l1
            l2->next=l1;
            l2=tmp2;
        }
    }
    void reorderList(ListNode* head) {
        if(head == nullptr) return;
        ListNode* mid = getMid(head);
        ListNode* l1 = head;
        ListNode* l2 = mid->next;   //l2å¤´ç»“ç‚¹
        mid->next = nullptr;        //l1å°¾ç»“ç‚¹nextç½®ä¸ºNULL
        l2 = reverseList(l2);
        mergeList(l1,l2);
    }
};
```

#### [19. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹](https://leetcode-cn.com/problems/remove-nth-node-from-end-of-list/)

```C++
//å¿«æŒ‡é’ˆå…ˆç§»åŠ¨næ­¥åï¼Œå¿«ï¼Œæ…¢æŒ‡é’ˆå†åŒæ­¥ç§»åŠ¨
//
class Solution {
public:
    ListNode* removeNthFromEnd(ListNode* head, int n) {
        ListNode* dummy = new ListNode(0);  //å¿…é¡»è¦è¿™ä¸ªï¼Œå¦åˆ™åˆ é™¤çš„æ˜¯å¤´ç»“ç‚¹ä¼šæŠ¥é”™
        dummy->next = head;
        ListNode* quick = dummy,*slow=dummy;
        for(int i=1;i<=n+1;i++){   //å¾ªç¯n+1å¤šäº†ä¸ªdummy
            quick=quick->next;
        }
        while(quick){
            quick=quick->next;
            slow=slow->next;        
        }   //slowä¸ºè¦åˆ é™¤çš„ç»“ç‚¹çš„å‰ä¸€ä¸ªç»“ç‚¹
        slow->next = slow->next->next;
        return dummy->next;
    }
};
```

#### [141. ç¯å½¢é“¾è¡¨](https://leetcode-cn.com/problems/linked-list-cycle/)

```C++
//å¿«æ…¢æŒ‡é’ˆ
class Solution {
public:
    bool hasCycle(ListNode *head) {
        ListNode* slow=head;
        ListNode* fast=head;
        while(slow && fast->next){
            fast = fast->next->next;
            slow = slow->next;
            if(fast == NULL) return false;
            if(slow == fast) return true;
        }   
        return false;
    }
};
```

#### [142. ç¯å½¢é“¾è¡¨ II](https://leetcode-cn.com/problems/linked-list-cycle-ii/)

```C++
//ã€å¿«æ…¢æŒ‡é’ˆï¼ŒåŒæ­¥æŒ‡é’ˆã€‘2æ¬¡ç›¸é‡ï¼šç¬¬1æ¬¡ç›¸é‡ä¸æ¸…æ¥šä½ç½®ï¼Œç¬¬äºŒæ¬¡ç›¸é‡ä¸ºå…¥å£ç»“ç‚¹ã€‚é‡åˆæ—¶ fast æ¯” slow å¤šèµ° ç¯çš„é•¿åº¦æ•´æ•°å€
//ç¬¬1æ¬¡ç›¸é‡ï¼šfastï¼šf=2s f=s+nb ==> slow:s = nb		aç¯å‰çš„é•¿åº¦ï¼Œbç¯çš„é•¿åº¦
//ç¬¬2æ¬¡ç›¸é‡ï¼šè®©slowåœ¨aæ­¥åœä¸‹æ¥ï¼Œè®©slowå’Œfaståœ¨aå¤„ç›¸é‡ï¼Œ
//slowä¸å˜ï¼Œfast=headï¼ŒåŒæ­¥ç§»åŠ¨
class Solution {
public:
    ListNode *detectCycle(ListNode *head) {
        ListNode* slow=head,*fast=head;
        while(true){
            if(fast == NULL || fast->next == NULL) return NULL; //âš ï¸å¤„ç†ç‰¹æ®Šæƒ…å†µ
            slow = slow->next;
            fast = fast->next->next;
            if(fast == slow) break;
        }
        fast = head;
        while(fast != slow){
            fast=fast->next;
            slow=slow->next;
        }
        return slow;
    }
};
```

#### [206. åè½¬é“¾è¡¨](https://leetcode-cn.com/problems/reverse-linked-list/)

```C++
//cur,pre
class Solution {
public:
    ListNode* reverseList(ListNode* head) {
        ListNode* pre = nullptr;
        ListNode* cur = head;
        while(cur){
            ListNode* next = cur->next;
            cur->next = pre;
            pre = cur;
            cur = next;
        }
        return pre;
    }
};
```

#### [92. åè½¬é“¾è¡¨ II](https://leetcode-cn.com/problems/reverse-linked-list-ii/)

![image-20211227201227099](/Users/zcz/Desktop/images/image-20211227201227099.png)

![image-20211227201238570](4.æŒ‡é’ˆç±»é—®é¢˜/image-20211227201238570.png)

![image-20211227201258314](4.æŒ‡é’ˆç±»é—®é¢˜/image-20211227201258314.png)

```C++
//ä¸‰æŒ‡é’ˆ
// 1    2    3   4  5 ç¿»è½¬[2,4]
// pre cur next
// 1 3 2 4 5
// 1 4 3 2 5
// 1 5 4 3 2
// 1 4 3 2 5
class Solution {
public:
    ListNode* reverseBetween(ListNode* head, int left, int right) {
        ListNode* dummy=new ListNode(-1);
        dummy->next = head;
        ListNode* pre=dummy;  //å¾…åè½¬åŒºåŸŸçš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„å‰ä¸€ä¸ªç»“ç‚¹  
        for(int i=1;i<left;i++){//âš ï¸
            pre = pre->next;
        }
        ListNode* cur = pre->next;  //å¾…åè½¬åŒºåŸŸçš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹       
        ListNode* next;   //å¾…åè½¬åŒºåŸŸçš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªç»“ç‚¹
        for(int i=1;i<=right-left;i++){
            next = cur->next;
            cur->next = next->next;
            next->next = pre->next;
            pre->next = next;
        }
        return dummy->next;
    }
};
```

#### [å‰‘æŒ‡ Offer 25. åˆå¹¶ä¸¤ä¸ªæ’åºçš„é“¾è¡¨](https://leetcode-cn.com/problems/he-bing-liang-ge-pai-xu-de-lian-biao-lcof/)

```C++
class Solution {
public:
    ListNode* mergeTwoLists(ListNode* l1, ListNode* l2) {
        ListNode* dummy = new ListNode(0);
        ListNode* cur = dummy;//å¤´ç»“ç‚¹ï¼Œå¹¶ä¸´æ—¶cur
        while(l1 && l2 ){
            if(l1->val < l2->val){
                cur->next = l1;
                l1 = l1->next;
            }else{
                cur->next = l2;
                l2 = l2->next;
            }
            cur = cur->next;             //æ›´æ–°
        }
        cur->next = l1 != NULL ? l1:l2;  //å“ªä¸ªä¸ä¸ºç©ºç›´æ¥æŒ‡å‘å®ƒ
        return dummy->next;       
    }
};
```

#### [å‰‘æŒ‡ Offer 51. æ•°ç»„ä¸­çš„é€†åºå¯¹](https://leetcode-cn.com/problems/shu-zu-zhong-de-ni-xu-dui-lcof/)

![image-20211227211706771](4.æŒ‡é’ˆç±»é—®é¢˜/image-20211227211706771.png)

```C++
//å€ŸåŠ©å½’å¹¶æ’åºï¼Œåˆ†æ²»æ€æƒ³
class Solution {
public:
    vector<int> tmp;//è¾…åŠ©æ•°ç»„
    long long merge_sort(vector<int> &q,int l,int r)
    {
        if(l>=r) return 0;
        int mid=(l+r)/2;//å–åˆ†æ²»ç‚¹
        long long ans=merge_sort(q,l,mid)+merge_sort(q,mid+1,r); //é€’å½’
        /*è¿™é‡Œanså­˜å‚¨äº†å·¦åŒºé—´å’Œå³åŒºé—´çš„é€†åºå¯¹æ€»æ•°*/
        int k=0,i=l,j=mid+1;
        while(i<=mid&&j<=r)//æ­¤å¾ªç¯ç»Ÿè®¡ä¸åŒåŒºé—´çš„é€†åºå¯¹
        {
            if(q[i]<=q[j]) {    //å°çš„æ”¾å…¥æ•°ç»„
                tmp[k++]=q[i++]; 
            } else
            {   /*ç”±äºå·¦åŒºé—´å’Œå³åŒºé—´å·²ç»æœ‰åºå½“å‰å·¦åŒºé—´å…ƒç´ æ„æˆé€†åº,ä¹‹åçš„éƒ½ä¼šæ„æˆé€†åºå¯¹*/
                /*æ‰€ä»¥anséœ€è¦åŠ ä¸ŠåŒºé—´é•¿åº¦*/
                ans+=mid-i+1;           
                tmp[k++]=q[j++];
            }

        }
        while(i<=mid) tmp[k++]=q[i++];
        while(j<=r) tmp[k++]=q[j++];
        for(int i=l,j=0;i<=r;) q[i++]=tmp[j++];//âš ï¸éœ€è¦è¿˜åŸæ•°ç»„  
        return ans;
    }
    int reversePairs(vector<int>& nums) {
        tmp.assign(nums.size(),0);
        return merge_sort(nums,0,nums.size()-1);
    }
};
```



#### [454. å››æ•°ç›¸åŠ  II](https://leetcode-cn.com/problems/4sum-ii/)

```

```

#### [å‰‘æŒ‡ Offer 52. ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹](https://leetcode-cn.com/problems/liang-ge-lian-biao-de-di-yi-ge-gong-gong-jie-dian-lcof/)

```C++
//åŒæŒ‡é’ˆ+çƒ‚æ¼«ç›¸é‡
class Solution {
public:
    ListNode *getIntersectionNode(ListNode *headA, ListNode *headB) {
        ListNode* pa=headA,*pb=headB;
        while(pa!=pb){
            pa = pa != NULL ? pa->next : headB;
            pb = pb != NULL ? pb->next : headA;
        }
        return pa;
    }
};
```

#### [2. ä¸¤æ•°ç›¸åŠ ](https://leetcode-cn.com/problems/add-two-numbers/)

```C++
//æ€è·¯ï¼šåŒå‘éå†é“¾è¡¨

class Solution {
public:
    ListNode* addTwoNumbers(ListNode* l1, ListNode* l2) {
        ListNode* dummy = new ListNode(0);  //ç”¨æ¥ä¿å­˜å¼€å§‹ç»“ç‚¹
        ListNode* node = dummy; //nodeå¾ªç¯éå†ç»“ç‚¹
        int c=0;    //è¿›ä½
        while(l1 || l2){
            int a = l1 != nullptr ? l1->val : 0;
            int b = l2 != nullptr ? l2->val : 0;
            int sum = a+b+c;
            
            c = sum/10; 
            int cur = sum%10;   
            node->next = new ListNode(cur); 

            node = node->next;      //ç§»åˆ°ä¸‹ä¸€ä¸ªç»“ç‚¹
            if(l1 != nullptr) l1 = l1->next;
            if(l2 != nullptr) l2 = l2->next;
        }
        if(c == 1) node->next = new ListNode(1);//å¤„ç†æœ€åä¸€ä¸ªè¿›ä½
        return dummy->next;
    }
};
```

#### [15. ä¸‰æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/3sum/)

![image-20211227221628897](4.æŒ‡é’ˆç±»é—®é¢˜/image-20211227221628897.png)

```C++
//æ’åº+ä¸‰æŒ‡é’ˆ
//T:O(n^2)  S:O(N)
class Solution {
public:
    vector<vector<int>> threeSum(vector<int>& nums) {
        vector<vector<int>> res;
        int len = nums.size();
        if(len < 3) return res;
        sort(nums.begin(),nums.end()); // æ’åº
        for (int a = 0; a < len ; a++) {
            if(nums[a] > 0) break; // å½“å‰æ•°å­—å¤§äº0ï¼Œæå‰ç»“æŸï¼ˆå› ä¸ºæ’åºäº†ï¼Œåé¢çš„éƒ½>0ï¼‰
            if(a > 0 && nums[a] == nums[a-1]) continue; // ç¡®ä¿aæ”¹å˜ å»é‡
            int L = a+1;
            int R = len-1;
            while(L < R){
                int sum = nums[a] + nums[L] + nums[R];
                if(sum == 0){
                    res.push_back({nums[a],nums[L],nums[R]});
                    // è¿˜è¦å»é‡ï¼Œæ¯”å¦‚: [-2, -1, -1, -1, 3, 3, 3]
      //i = 0, left = 1, right = 6, [-2, -1, 3] çš„ç­”æ¡ˆåŠ å…¥åï¼Œéœ€è¦æ’é™¤é‡å¤çš„ -1 å’Œ 3
                    while (L<R && nums[L] == nums[L+1]) L++; // ç¡®ä¿bæ”¹å˜ å»é‡
                    while (L<R && nums[R] == nums[R-1]) R--; // ç¡®ä¿cæ”¹å˜ å»é‡
                    L++;    //ç»§ç»­éå†
                    R--;
                }
                else if (sum < 0) L++;
                else if (sum > 0) R--;
            }
        }        
        return res;
    }
};
```

#### [18. å››æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/4sum/)

```C++
class Solution {
public:
    vector<vector<int>> fourSum(vector<int>& nums, int target) {
        vector<vector<int>> res;
        int len = nums.size();
        if(len < 4) return res;
        sort(nums.begin(),nums.end()); // æ’åº

        for(int a = 0; a <=len-4; a++){
            if(a > 0 && nums[a] == nums[a-1]) continue; // ç¡®ä¿aæ”¹å˜ å»é‡
            for (int b = a+1; b <=len-3 ; b++) {
                if(b > a+1 && nums[b] == nums[b-1]) continue; // ç¡®ä¿bæ”¹å˜ å»é‡
                int L = b+1;
                int R = len-1;
                while(L < R){
                    if(target - (nums[a] + nums[b])  == nums[L] + nums[R]){    //ç”¨å‡æ³•ï¼Œé˜²æ­¢æº¢å‡º
                        res.push_back({nums[a],nums[b],nums[L],nums[R]});
                        while (L<R && nums[L] == nums[L+1]) L++; // ç¡®ä¿cæ”¹å˜ å»é‡
                        while (L<R && nums[R] == nums[R-1]) R--; // ç¡®ä¿dæ”¹å˜ å»é‡
                        L++;    //ç»§ç»­éå†
                        R--;
                    }
                    else if (target - (nums[a] + nums[b])  > nums[L] + nums[R]) L++;
                    else if (target - (nums[a] + nums[b])  < nums[L] + nums[R]) R--;
                }
            }   
        }     
        return res;
    }
};
```

#### [167. ä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„](https://leetcode-cn.com/problems/two-sum-ii-input-array-is-sorted/)

```C++
class Solution {
public:
    vector<int> twoSum(vector<int>& nums, int target) {
        int n = nums.size();
        int l=0,r=n-1;
        while(l<r){
            int sum = nums[l] + nums[r];
            if(sum == target) return {l+1,r+1};
            else if(sum > target) r--;
            else l++;
        }
        return {};
    }
};
```



#### [16. æœ€æ¥è¿‘çš„ä¸‰æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/3sum-closest/)

```C++
//ä¸‰æŒ‡é’ˆ+æ’åºï¼ˆå»é‡
class Solution {
public:
    int threeSumClosest(vector<int>& nums, int target) {
        sort(nums.begin(),nums.end());
        int n= nums.size();
        int res = 0;
        int pre = INT_MAX;  //ä¸Šä¸€æ¬¡æœ€æ¥è¿‘å¤šå°‘
        for(int a=0;a<n;a++){
            int b=a+1,c=n-1;
            while(b < c){
                int sum =  nums[a] + nums[b] + nums[c];
                if(abs(target-sum) < pre){  //æ¯”ä¸Šæ¬¡æ›´ä½³æ¥è¿‘
                    pre = abs(target-sum);  //æ›´æ–°pre   
                    res = sum;              //ä¿å­˜å½“å‰sum
                }
                if(sum == target) return sum;
                else if(sum > target) c--;
                else b++;
            }
        }
        return res;
    }
};
```

#### [259.è¾ƒå°çš„ä¸‰æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/3sum-smaller/)

```

```



#### [å‰‘æŒ‡ Offer 22. é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹](https://leetcode-cn.com/problems/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof/)

```C++
/* å¿«æ…¢æŒ‡é’ˆ éå†æ–¹å‘ç›¸åŒ
*/
class Solution {
public:
    ListNode* getKthFromEnd(ListNode* head, int k) {
        ListNode* quick=head,*slow=head;
        for(int i=1;i<=k;i++){
            quick =quick->next;
        }
        while(quick){
            quick = quick->next;
            slow = slow->next;
        }
        return slow;
    }
};
```

#### [167. ä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„ ](https://leetcode-cn.com/problems/two-sum-ii-input-array-is-sorted/)ğŸ€„ï¸

```C++
/* æœç´¢ éå†æ–¹å‘ç›¸å
é¢˜æ„ï¼šåœ¨ä¸€ä¸ªå¢åºçš„æ•´æ•°æ•°ç»„é‡Œæ‰¾åˆ°ä¸¤ä¸ªæ•°ï¼Œä½¿å®ƒä»¬çš„å’Œä¸ºç»™å®šå€¼ã€‚å·²çŸ¥æœ‰ä¸”åªæœ‰ä¸€å¯¹è§£ã€‚
æ€è·¯ï¼š
*/
class Solution {
public:
    vector<int> twoSum(vector<int>& nums, int target) {
        if(nums.size() <= 1) return {-1,-1};
        int l=0,r=nums.size()-1;
        while(l < r){
            int t = nums[l] + nums[r];
            if(target == t) return {l+1,r+1};
            else if(target > t) l++;
            else r--;
        }
        return {-1,-1};
    }
};

```

#### [88. åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„](https://leetcode-cn.com/problems/merge-sorted-array/)ğŸ€„ï¸

<img width="300" height="200" src="4.æŒ‡é’ˆç±»é—®é¢˜/image-20210308145931744.png" />

```C++
/* é€†åºåŒæŒ‡é’ˆ
T:O(m+n) S:O(1)
*/
class Solution {
public:
    void merge(vector<int>& nums1, int m, vector<int>& nums2, int n) {
        int p1=m-1,p2=n-1;
        int end = m+n-1;
        while(p1 >= 0 && p2 >=0){
            if(nums1[p1] > nums2[p2]){
                nums1[end--] = nums1[p1--];
            }else{
                nums1[end--] = nums2[p2--];
            }
        }
        while(p1>=0) nums1[end--] = nums1[p1--];
        while(p2>=0) nums1[end--] = nums2[p2--];
        return ;
    }
};

```

#### [é¢è¯•é¢˜ 17.11. å•è¯è·ç¦»](https://leetcode-cn.com/problems/find-closest-lcci/)ğŸ€„ï¸

```C++
/*åŒæŒ‡é’ˆ åŒä¸ªæ–¹å‘
é¢˜è§£ï¼šç”¨ä¸¤ä¸ªæŒ‡é’ˆä¸€ç›´è®°å½•ä¸¤ä¸ªå•è¯å‡ºç°çš„ä¸‹æ ‡ï¼Œåœ¨ä¸€æ¬¡éå†æ•°ç»„çš„å¾ªç¯ä¸­ï¼Œä¸æ–­è®°å½•ä¸¤ä¸ªä¸‹æ ‡ï¼Œå¹¶å–ä»–ä»¬å·®å€¼çš„æœ€å°å€¼ï¼Œè¿”å›ç»“æœå³å¯ã€‚
*/
class Solution {
public:
    int findClosest(vector<string>& words, string word1, string word2) {
        int len = words.size();      //æœ€é•¿è·ç¦»ä¸å¯èƒ½ä¸ºlen
        int res = len;              
        int index1=-len,index2=len; //âš ï¸ 2è€…è·ç¦»æœ€å¤§
        for(int i=0;i<len;i++){
            if(word1 == words[i]) index1 = i;   //è®°å½•ä¸‹æ ‡
            if(word2 == words[i]) index2 = i;   //è®°å½•ä¸‹æ ‡
            res = min(res,abs(index2-index1));  //å–æœ€å°çš„
        }
        return res;
    }
};

```



#### [å‰‘æŒ‡ Offer 04. äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾](https://leetcode-cn.com/problems/er-wei-shu-zu-zhong-de-cha-zhao-lcof/)

```java
//å…³é”®æ€æƒ³ï¼šä»äºŒç»´æ•°ç»„çš„å³ä¸Šè§’å¼€å§‹æŸ¥æ‰¾ã€‚
//t:O(n+m) S:O(1)

class Solution {
public:
    bool findNumberIn2DArray(vector<vector<int>>& M, int target) {
        int n = M.size();
        if(n == 0) return false;
        int m = M[0].size();
        for(int row=0,col=m-1;row < n && col >= 0;){
            cout << row <<" "<<col <<endl;
            if(M[row][col] == target) return true;
            else if(M[row][col] > target) col--;
            else row++;
        }
        return false;
    }
};
```

#### [å‰‘æŒ‡ Offer 21. è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢](https://leetcode-cn.com/problems/diao-zheng-shu-zu-shun-xu-shi-qi-shu-wei-yu-ou-shu-qian-mian-lcof/)

```C++
//åŒæŒ‡é’ˆï¼Œæœç´¢  T:O(n) S:O(1)
/*å·¦è¾¹æœç´¢å¶æ•°ï¼Œå³è¾¹æœç´¢å¥‡æ•°ï¼›ç„¶åäº¤æ¢
*/
class Solution {
public:
    vector<int> exchange(vector<int>& nums) {
        int n =nums.size();
        int l=0,r=n-1;
        while(l<r){
            while(l<r && nums[l] %2 != 0){//æœç´¢å¶æ•°    âš ï¸è®°å¾—åŠ  l<r
                l++;
            } 
            while(l<r && nums[r] %2 == 0){ //æœç´¢å¥‡æ•°
                r--;
            }
            swap(nums[l++],nums[r--]);
        }
        return nums;
    }
};
```

#### [633. å¹³æ–¹æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/sum-of-square-numbers/)

```C++
//T:O(æ ¹å·c) S:O(1)
class Solution {
    public boolean judgeSquareSum(int c) {
        long left = 0;
        long right = (long) Math.sqrt(c);
        while (left <= right) {
            long sum = left * left + right * right;
            if (sum == c) {
                return true;
            } else if (sum > c) {
                right--;
            } else {
                left++;
            }
        }
        return false;
    }
}
```

#### [125. éªŒè¯å›æ–‡ä¸²](https://leetcode-cn.com/problems/valid-palindrome/)

```C++
//T,S:O(|s|)
//ã€é¦–å°¾åŒæŒ‡é’ˆã€‘å…ˆisalnum(ch)å­˜ä¸‹æ¥ï¼Œå†ç”¨é¦–å°¾æŒ‡é’ˆ
class Solution {
public:
    bool isPalindrome(string s) {
        string new_s;
        for(auto &ch:s){
            if(isalnum(ch))
                new_s+=tolower(ch);
        }
        int l=0,r=new_s.size()-1;
        while(l<=r){
            if(new_s[l] != new_s[r]) return false;
            l++;
            r--;
        }
        return true;
    }
};
```

#### [680. éªŒè¯å›æ–‡å­—ç¬¦ä¸² â…¡](https://leetcode-cn.com/problems/valid-palindrome-ii/)

```C++
//T:O(n)  S:O(1)
//ã€é¦–å°¾åŒæŒ‡é’ˆã€‘low==highï¼Œow--.high++ï¼›å¦åˆ™åˆ¤æ–­2ä¸ªåŒºé—´[low,high-1]ï¼Œ[low+1,high]
class Solution {
public:
    bool check(string s,int l,int r){
        while(l<r){
            if(s[l] != s[r]) return false;
            l++,r--;
        }
        return true;
    }
    bool validPalindrome(string s) {
        int l =0,r=s.size()-1;
        while(l<r){
            if(s[l] == s[r]){
                l++,r--;
            }else return check(s,l,r-1) || check(s,l+1,r);
        }
        return true;
    }
};
```

#### [524. é€šè¿‡åˆ é™¤å­—æ¯åŒ¹é…åˆ°å­—å…¸é‡Œæœ€é•¿å•è¯](https://leetcode-cn.com/problems/longest-word-in-dictionary-through-deleting/)

```C++
//å¿«æ…¢æŒ‡é’ˆ
class Solution {
public:
    static bool cmp(const string &a,const string &b){
        if(a.size() != b.size()) return a.size() > b.size();  //æŒ‰å¤§åˆ°å°
        return a<b;   //é•¿åº¦ç›¸åŒï¼Œæ¯”è¾ƒå­—å…¸åºï¼Œä»å°åˆ°å¤§
    } 
    string findLongestWord(string s, vector<string>& D) {
        sort(D.begin(),D.end(),cmp);
        int n = s.size();
        for (auto word:D) {
            int m = word.size();
            int i = 0, j = 0;
            while (i < n && j < m) {
                if (s[i] == word[j]) j++;
                i++;
            }
            if (j == m) return word;
        }
        return "";
    }
};
```

#### [340.è‡³å¤šåŒ…å«kä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­ä¸²](https://leetcode-cn.com/problems/longest-substring-with-at-most-k-distinct-characters/)

```C++

```

#### [å‰‘æŒ‡ Offer 05. æ›¿æ¢ç©ºæ ¼](https://leetcode-cn.com/problems/ti-huan-kong-ge-lcof/)

```C++
//é€†åºåŒæŒ‡é’ˆï¼šåŸåœ°ä¿®æ”¹
class Solution {
public:
    string replaceSpace(string s) {
        int n=s.size();
        int cnt=0;    //ç©ºæ ¼ä¸ªæ•°
        for(int i=0;i<n;i++){
            if(s[i] == ' ') cnt++;
        }
        s.resize(n+cnt*2);
        for(int i=n-1,j=s.size()-1;i<j;i--,j--){
            if(s[i] != ' '){
                s[j] = s[i];    //ä¸ä¸ºç©ºæ ¼ï¼Œç›´æ¥èµ‹å€¼ç»™s[j]
            }else{
                s[j-2] = '%',s[j-1]='2',s[j]='0';
                j -= 2; //å¤šä¸ª2ä¸ªå­—ç¬¦
            }
        }
        return s;
    }
};
```

#### [26. åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹](https://leetcode-cn.com/problems/remove-duplicates-from-sorted-array/)

```C++
//å¿«æ…¢æŒ‡é’ˆ
class Solution {
public:
    int removeDuplicates(vector<int>& nums) {
        int n=nums.size();
        if(n <= 1) return n;
        int fast=1,slow=1;  //åŒèµ·ç‚¹
        while(fast<n){
            if(nums[fast-1] != nums[fast]) {
                nums[slow++] = nums[fast];
            }
            fast++;
        }
        return slow;
    }
};
```

#### [11. ç››æœ€å¤šæ°´çš„å®¹å™¨](https://leetcode-cn.com/problems/container-with-most-water/)

```C++
//ã€é€†åºåŒæŒ‡é’ˆã€‘å–å†³äºä¸¤ç«¯å°çš„é‚£ä¸ªï¼›å·¦è¾¹å°ç§»åŠ¨å·¦è¾¹ï¼Œåä¹‹å³è¾¹ï¼›å°½å¯èƒ½æ‰¾å¤§çš„
class Solution {
public:
    int maxArea(vector<int>& height) {
        int l=0,r=height.size()-1;
        int res = 0;
        while(l<r){
            res = max(res,(r-l)*min(height[l],height[r]));
            if(height[l] <= height[r]) l++;
            else r--;
        }
        return res;
    }
};

```

#### [56. åˆå¹¶åŒºé—´](https://leetcode-cn.com/problems/merge-intervals/)

```C++
//å…ˆæ’åº+åŒºé—´æŒ‡é’ˆ
class Solution {
public:
    vector<vector<int>> merge(vector<vector<int>>& intervals) {
        vector<vector<int>> res;
        sort(intervals.begin(),intervals.end());    //âš ï¸ï¼Œå…ˆæ’åº
        int st=-2e9,ed=-2e9;
        for(auto &it:intervals){
            if(ed < it[0]){  //ä¸Šä¸€æ®µçš„ed < å½“å‰ä¸€æ®µçš„st æ²¡æœ‰äº¤é›†
                if(st != -2e9) res.push_back({st,ed});  //å°†ä¸Šä¸€æ®µæ”¾å…¥res
                st = it[0],ed=it[1];    //æ›´æ–°ä¸Šä¸€æ®µ
            }else{  //æœ‰äº¤é›†
                ed = max(ed,it[1]);
            }
        }
        if(st != -2e9) res.push_back({st,ed});  //å¤„ç†æœ€åä¸€ä¸ª
        return res;
    }
};
```

#### [165. æ¯”è¾ƒç‰ˆæœ¬å·](https://leetcode-cn.com/problems/compare-version-numbers/)

```C++
//åŒå‘æŒ‡é’ˆ
class Solution {
public:
    int compareVersion(string s1, string s2) {
        int i=0,j=0;
        int l1_size= s1.size(),l2_size=s2.size();
        while (i < l1_size || j < l2_size) {
            int x = 0;
            for (; i < l1_size && s1[i] != '.'; ++i) {
                x = x * 10 + s1[i] - '0'; //âš ï¸è½¬ä¸ºintï¼Œæ°å¥½å»é™¤äº†å‰å¯¼0
            }
            ++i; // è·³è¿‡ç‚¹å·
            int y = 0;
            for (; j < l2_size && s2[j] != '.'; ++j) {
                y = y * 10 + s2[j] - '0';
            }
            ++j; // è·³è¿‡ç‚¹å·
            if (x != y) {
                return x > y ? 1 : -1;
            }
        }
        return 0;
    }
};
```

