---
title: 7.æ•°æ®ç»“æ„
date: 2021-1-2 21:30:00
tags: Algorithm
categories: ç®—æ³•
---

## 7. æ•°æ®ç»“æ„

> æ•°æ®ç»“æ„ï¼š
>
> é“¾è¡¨
>
> æ ˆ
>
> é˜Ÿåˆ—
>
> å•è°ƒæ ˆ
>
> å•è°ƒé˜Ÿåˆ—
>
> ä¼˜å…ˆé˜Ÿåˆ—/å †
>
> å­—ç¬¦ä¸²
>
> å“ˆå¸Œ
>
> KMP
>
> å¹¶æŸ¥é›†
>
> å­—å…¸æ ‘
>
> multiSet
>
> ç»„åˆæ•°æ®ç»“æ„ï¼šLRU

<!--more-->

### å•è°ƒæ ˆ

```C++
å¸¸è§æ¨¡å‹ï¼šæ‰¾å‡ºæ¯ä¸ªæ•°å·¦è¾¹ç¦»å®ƒæœ€è¿‘çš„ä¸”æ¯”å®ƒå¤§/å°çš„æ•°
/*å¦‚ä½•ç¡®å®šæ˜¯ä½¿ç”¨ä¸¥æ ¼å•è°ƒæ ˆè¿˜æ˜¯éä¸¥æ ¼å•è°ƒæ ˆï¼Ÿåªè¦æ ¹æ®é¢˜æ„ç¡®å®šæˆ‘ä»¬æ ˆä¸­æ˜¯å¦å¯ä»¥å­˜æ”¾ç›¸åŒå…ƒç´ å³å¯ã€‚
å‚è€ƒï¼šhttps://blog.csdn.net/qq_17550379/article/details/86519771
*/
int tt = 0;
for (int i = 1; i <= n; i ++ )
{
    while (tt && check(stk[tt], i)) tt -- ;	//å¾€å·¦è¾¹æ‰¾ æ ˆé¡¶æ¯”å½“å‰iæ¯”è¾ƒ  top<i,å•è°ƒé€’å‡ï¼Œtop>iå•è°ƒé€’å¢
    stk[ ++ tt] = i;		//å°†iæ’å…¥æ ˆä¸­
}
```

------

```C++
/*
830.å•è°ƒæ ˆ
å…ˆç”¨æš´åŠ›ç ´è§£ï¼Œå†å…¶ä¸­æŒ–æ˜æŸäº›ç‰¹æ€§ï¼Œæ¯æ¬¡æŠŠæ²¡ç”¨åˆ é™¤æ‰ï¼Œå¾—åˆ°å•è°ƒæ ˆ
æ ·ä¾‹
è¾“å…¥æ ·ä¾‹ï¼š
5
3 4 2 7 5
è¾“å‡ºæ ·ä¾‹ï¼š
-1 3 -1 2 2
3å·¦è¾¹æ²¡æœ‰ è¿”å›-1	4å·¦è¾¹3ï¼Œè¿”å›3
*/
#include<iostream>
using namespace std;
const int N=100010;
int s[N],tt;
int n;
int main(){
   scanf("%d",&n);
   for(int i=0;i<n;i++){
        int x;
        scanf("%d",&x);
        while(tt&&s[tt]>=x)tt--;
        if(tt) printf("%d ",s[tt]);
        else printf("-1 ");
        s[++tt]=x;

    }
    return 0;
}
```

é—®é¢˜1ï¼šæ¯”å½“å‰å…ƒç´ æ›´å¤§çš„ä¸‹ä¸€ä¸ªå…ƒç´  **å•è°ƒé€’å‡æ ˆ**

#### [42.æ¥é›¨æ°´](https://leetcode-cn.com/problems/trapping-rain-water) ğŸ€„ï¸

```C++
class Solution {
public:
    int trap(vector<int>& h) {
        stack<int> stk; //å•è°ƒé€’å‡æ ˆï¼Œå­˜å‚¨hçš„ä¸‹æ ‡
        int i=0,res=0;
        while(i<h.size()){  
            while(!stk.empty() && h[i] > h[stk.top()]){ //å½“å‰i > æ ˆé¡¶ï¼Œæ‰è¿›å…¥
                int top = stk.top(); 
                stk.pop();
                if(stk.empty()) break; //ç©ºï¼Œæ ˆé¡¶å‰æ²¡æœ‰å…ƒç´ äº†
                int dis = i-stk.top()-1;  // æ ˆé¡¶å‰1ä¸ª > æ ˆé¡¶ < å½“å‰iï¼Œå½¢æˆä½æ´¼
                int height = min(h[stk.top()],h[i])-h[top];//min(æ ˆé¡¶å‰1ä¸ªé«˜åº¦ï¼Œå½“å‰ié«˜åº¦)-æ ˆé¡¶é«˜åº¦
                res += dis*height;
            }
            stk.push(i++);
        }
        return res;
    }
};
```

#### [496.ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I](https://leetcode-cn.com/problems/next-greater-element-i)  ğŸ€„ï¸

![image-20210415195029992](7.æ•°æ®ç»“æ„/image-20210415195029992.png)

```C++
//nums1å’Œnums2ä¸­æ‰€æœ‰æ•´æ•° äº’ä¸ç›¸åŒ
class Solution {
public:
    vector<int> nextGreaterElement(vector<int>& nums1, vector<int>& nums2) {
        stack<int> stk;                 //å•è°ƒé€’å‡æ ˆ
        unordered_map<int,int> mymap;
        vector<int> res;
        for(int i=0;i<nums2.size();i++){    //num2å¤„ç†æ˜ å°„
            while(!stk.empty() && stk.top() < nums2[i]){    //å½“å‰i > æ ˆé¡¶ï¼Œæ‰è¿›å…¥
                mymap[stk.top()] = nums2[i];    //ä¹‹å‰éƒ½æ˜¯é€’å‡çš„ï¼Œå¤„ç†æ˜ å°„
                stk.pop();
            }
            stk.push(nums2[i]);   //å°†iå‹æ ˆä¸­
        }
        while(!stk.empty()){ //å°†æ ˆçš„æ‰€æœ‰å…ƒç´ å¼¹å‡º
            mymap[stk.top()] = -1;
            stk.pop();
        }
        for(int i=0;i<nums1.size();i++) //åŠ å…¥ç»“æœé›†
            res.push_back(mymap[nums1[i]]);
        return res;
    }
};
```

#### [503.ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  II](https://leetcode-cn.com/problems/next-greater-element-ii)

```C++
/*å¤šäº†ä¸ªå¾ªç¯æŸ¥æ‰¾*/
/*é•¿åº¦å˜äº†ï¼Œstackå­˜å‚¨æ˜¯ä¸‹æ ‡*/
class Solution {
public:
    vector<int> nextGreaterElements(vector<int>& nums) {
        int n = nums.size();
        stack<int> stk; //å­˜å‚¨ä¸‹æ ‡
        vector<int> res(n,-1);
        for(int i=0;i<n*2-1;i++){ //éå†å¤§å°size+size-1
            while(!stk.empty() && nums[stk.top()] < nums[i%n] ){
                res[stk.top()] = nums[i%n];   //æ ˆé¡¶å¯¹åº”ä½ç½®ï¼Œèµ‹å€¼å¤§äºæ ˆé¡¶çš„æ•°
                stk.pop();
            }
            stk.push(i%n);
        }
        return res;
    }
};
```

#### [739.æ¯æ—¥æ¸©åº¦](https://leetcode-cn.com/problems/daily-temperatures)

```C++
/*
ä¾‹å¦‚ï¼Œç»™å®šä¸€ä¸ªåˆ—è¡¨ temperatures = [73, 74, 75, 71, 69, 72, 76, 73]ï¼Œä½ çš„è¾“å‡ºåº”è¯¥æ˜¯ [1, 1, 4, 2, 1, 1, 0, 0]ã€‚

æ ˆå­˜å‚¨çš„æ˜¯ä¸‹æ ‡
å½“å‰içš„ä¸‹æ ‡ > æ ˆé¡¶çš„ä¸‹æ ‡ï¼Œ è·ç¦»=å½“å‰içš„ä¸‹æ ‡ - å‡ºæ ˆçš„å…ƒç´ çš„ä¸‹æ ‡
*/
class Solution {
public:
    vector<int> dailyTemperatures(vector<int>& t) {
        stack<int> stk;
        vector<int> res(t.size(),0);	//åˆå§‹åŒ–ä¸º0
        for(int i=0;i<t.size();i++){
            while(!stk.empty() && t[i] > t[stk.top()]){
                res[stk.top()] = i-stk.top();	//æ±‚è·ç¦»
                stk.pop();
            }
            stk.push(i);
        }
        return res;
    }
};
```

é—®é¢˜2ï¼šæ¯”å½“å‰å…ƒç´ æ›´å¤§çš„å‰ä¸€ä¸ªå…ƒç´  **å•è°ƒé€’å‡æ ˆ**

#### [901.è‚¡ç¥¨ä»·æ ¼è·¨åº¦](https://leetcode-cn.com/problems/online-stock-span)

```C++
class StockSpanner {
public:
    stack<int> stk,weights; //stkå­˜å‚¨priceï¼Œ
  //weightså®ƒç¦»ä¸Šä¸€ä¸ªä»·æ ¼ä¹‹é—´ï¼ˆå³æœ€è¿‘çš„ä¸€ä¸ªå¤§äºå®ƒçš„ä»·æ ¼ä¹‹é—´ï¼‰çš„å¤©æ•°  100 80 60 75 (75ï¼š2)
    StockSpanner() {
        
    }
    int next(int price) {
        int w=1;
        while(!stk.empty() && price >= stk.top()){
            stk.pop();
            w += weights.top();
            weights.pop();
        }
        stk.push(price);
        weights.push(w);
        return w;
    }
};
```

é—®é¢˜3ï¼šæ¯”å½“å‰å…ƒç´ æ›´å°çš„ä¸‹ä¸€ä¸ªå…ƒç´   **é€’å¢å•è°ƒæ ˆ**

#### [84æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢](https://leetcode-cn.com/problems/largest-rectangle-in-histogram)   å¥½éš¾ğŸ€„ï¸

![image-20210419215726759](7.æ•°æ®ç»“æ„/image-20210419215726759.png)

```C++
/*
è¶…æ—¶
*/
class Solution {
public:
    int largestRectangleArea(vector<int>& heights) {
        int n = heights.size();
        int ans = 0;
        // æšä¸¾å·¦è¾¹ç•Œ
        for (int left = 0; left < n; ++left) {
            int minHeight = INT_MAX;
            // æšä¸¾å³è¾¹ç•Œ
            for (int right = left; right < n; ++right) {
                // ç¡®å®šé«˜åº¦
                minHeight = min(minHeight, heights[right]);
                // è®¡ç®—é¢ç§¯
                ans = max(ans, (right - left + 1) * minHeight);
            }
        }
        return ans;
    }
};
```

```C++
/*
é¦–å…ˆæˆ‘ä»¬æšä¸¾æŸä¸€æ ¹æŸ±å­ i ä½œä¸ºé«˜ h=heights[i]
éšåæˆ‘ä»¬éœ€è¦è¿›è¡Œå‘å·¦å³ä¸¤è¾¹æ‰©å±•ï¼Œä½¿å¾—æ‰©å±•åˆ°çš„æŸ±å­çš„é«˜åº¦å‡ä¸å°äº hã€‚ h <=  heights[stk.top()]
*/
class Solution {
public:
    int largestRectangleArea(vector<int>& h) {
        int n = h.size();
        vector<int> l(n), r(n);
        
        stack<int> stk;
        for (int i = 0; i < n; ++i) {
            while (!stk.empty() && h[i] <= h[stk.top()]) {
                stk.pop();
            }
            l[i] = (stk.empty() ? -1 : stk.top());
            stk.push(i);
        }

        stk = stack<int>();
        for (int i = n - 1; i >= 0; --i) {
            while (!stk.empty() && h[i] <= h[stk.top()]) {
                stk.pop();
            }
            r[i] = (stk.empty() ? n : stk.top());
            stk.push(i);
        }
        
        int ans = 0;
        for (int i = 0; i < n; ++i) {
            ans = max(ans, (r[i] - l[i] - 1) * h[i]);
        }
        return ans;
    }
};
```

é—®é¢˜4ï¼šæ¯”å½“å‰å…ƒç´ æ›´å°çš„å‰ä¸€ä¸ªå…ƒç´ 

#### [155. æœ€å°æ ˆ](https://leetcode-cn.com/problems/min-stack/)

```

```



### å•è°ƒé˜Ÿåˆ—

#### [å‰‘æŒ‡ Offer 59 - I. æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼](https://leetcode-cn.com/problems/hua-dong-chuang-kou-de-zui-da-zhi-lcof/)

#### [239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼](https://leetcode-cn.com/problems/sliding-window-maximum/)

```C++
//T:O(n)  S:O(k)
class Solution {
public:
    vector<int> maxSlidingWindow(vector<int>& nums, int k) {
        int n = nums.size();
        deque<int> q;   //é˜Ÿé¦–æœ€å¤§
        for (int i = 0; i < k; ++i) {   //å…ˆç”Ÿæˆ1ä¸ªkå¤§å°çš„çª—å£
            while (!q.empty() && nums[i] >= nums[q.back()]) {//ä¸¥æ ¼å•è°ƒé€’å‡
                q.pop_back();
            }
            q.push_back(i);
        }

        vector<int> res = {nums[q.front()]};
        for (int i = k; i < n; ++i) {
            while (!q.empty() && nums[i] >= nums[q.back()]) {
                q.pop_back();
            }
            q.push_back(i);
            while (q.front() <= i - k) {    //ç»´æŠ¤å½“å‰çª—å£å¤§å°ä¸ºkï¼Œå°†å‰é¢çš„åˆ é™¤æ‰
                q.pop_front();
            }
            res.push_back(nums[q.front()]);
        }
        return res;
    }
};
```



### åˆ†æ²»æ³•

> é€šè¿‡æŠŠåŸé—®é¢˜åˆ†ä¸ºå­é—®é¢˜ï¼Œå†å°†å­é—®é¢˜è¿›è¡Œå¤„ç†åˆå¹¶ï¼Œä»è€Œå®ç°å¯¹åŸé—®é¢˜çš„æ±‚è§£ã€‚

#### [241. ä¸ºè¿ç®—è¡¨è¾¾å¼è®¾è®¡ä¼˜å…ˆçº§](https://leetcode-cn.com/problems/different-ways-to-add-parentheses/)

#### [932. æ¼‚äº®æ•°ç»„](https://leetcode-cn.com/problems/beautiful-array/)

#### [312. æˆ³æ°”çƒ](https://leetcode-cn.com/problems/burst-balloons/)

### å­—ç¬¦ä¸²

#### [å‰‘æŒ‡ Offer 58 - II. å·¦æ—‹è½¬å­—ç¬¦ä¸²](https://leetcode-cn.com/problems/zuo-xuan-zhuan-zi-fu-chuan-lcof/)

```

```

#### [å‰‘æŒ‡ Offer 67. æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°](https://leetcode-cn.com/problems/ba-zi-fu-chuan-zhuan-huan-cheng-zheng-shu-lcof/)

```

```

### æ ˆå’Œé˜Ÿåˆ—

#### [å‰‘æŒ‡ Offer 06. ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨](https://leetcode-cn.com/problems/cong-wei-dao-tou-da-yin-lian-biao-lcof/)

```

```

#### [å‰‘æŒ‡ Offer 09. ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—](https://leetcode-cn.com/problems/yong-liang-ge-zhan-shi-xian-dui-lie-lcof/)

```

```

#### [å‰‘æŒ‡ Offer 30. åŒ…å«minå‡½æ•°çš„æ ˆ](https://leetcode-cn.com/problems/bao-han-minhan-shu-de-zhan-lcof/)

```

```

#### [å‰‘æŒ‡ Offer 31. æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—](https://leetcode-cn.com/problems/zhan-de-ya-ru-dan-chu-xu-lie-lcof/)

```

```

#### [å‰‘æŒ‡ Offer 59 - II. é˜Ÿåˆ—çš„æœ€å¤§å€¼](https://leetcode-cn.com/problems/dui-lie-de-zui-da-zhi-lcof/)

```

```

#### [20. æœ‰æ•ˆçš„æ‹¬å·](https://leetcode-cn.com/problems/valid-parentheses/)

```

```

#### [678. æœ‰æ•ˆçš„æ‹¬å·å­—ç¬¦ä¸²](https://leetcode-cn.com/problems/valid-parenthesis-string/)

```

```

#### [71. ç®€åŒ–è·¯å¾„](https://leetcode-cn.com/problems/simplify-path/)

```

```



### å †&&ä¼˜å…ˆé˜Ÿåˆ—

#### [å‰‘æŒ‡ Offer 41. æ•°æ®æµä¸­çš„ä¸­ä½æ•°](https://leetcode-cn.com/problems/shu-ju-liu-zhong-de-zhong-wei-shu-lcof/)

```

```

### é“¾è¡¨

#### [148. æ’åºé“¾è¡¨](https://leetcode-cn.com/problems/sort-list/)

```

```

#### [2. ä¸¤æ•°ç›¸åŠ ](https://leetcode-cn.com/problems/add-two-numbers/)

```

```

#### [445. ä¸¤æ•°ç›¸åŠ  II](https://leetcode-cn.com/problems/add-two-numbers-ii/)

```

```

#### [160. ç›¸äº¤é“¾è¡¨](https://leetcode-cn.com/problems/intersection-of-two-linked-lists/)

```

```



#### [å‰‘æŒ‡ Offer 18. åˆ é™¤é“¾è¡¨çš„èŠ‚ç‚¹](https://leetcode-cn.com/problems/shan-chu-lian-biao-de-jie-dian-lcof/)

```java
//T:O(N) S:O(1)
//å‰åæŒ‡é’ˆ
class Solution {
    public ListNode deleteNode(ListNode head, int val) {
        if(head.val == val) return head.next;   //åˆ é™¤çš„æ˜¯å¤´ç»“ç‚¹
        ListNode pre = head, cur = head.next;   //2ä¸ªæŒ‡é’ˆ
        while(cur != null && cur.val != val){
            pre = cur;
            cur = cur.next;
        }
        if(cur != null) pre.next = cur.next;    //å¦‚æœæ‰¾åˆ°äº†ï¼Œå°†å½“å‰ç»“ç‚¹åˆ é™¤
        return head;
    }
}
```

#### [å‰‘æŒ‡ Offer 22. é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹](https://leetcode-cn.com/problems/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof/)

```java
//å¿«æ…¢æŒ‡é’ˆ
//
class Solution {
    public ListNode getKthFromEnd(ListNode head, int k) {
        ListNode l=head,r=head;
        for(int i=0;i<k;i++){r = r.next;}
        while(r != null){
            r = r.next;
            l = l.next;
        }
        return l;
    }
}
```

#### [å‰‘æŒ‡ Offer 24. åè½¬é“¾è¡¨](https://leetcode-cn.com/problems/fan-zhuan-lian-biao-lcof/)

```java
//å‰åæŒ‡é’ˆ
//T:O(N) S:O(1) 
class Solution {
public:
    ListNode* reverseList(ListNode* head) {
        ListNode* cur=head;
        ListNode* pre=nullptr;
        while(cur != nullptr){
            ListNode* tmp = cur->next;
            cur->next = pre; //å½“å‰æŒ‡å‘ä¹‹å‰
            pre = cur;      //æ›´æ–°ä¹‹å‰
            cur = tmp;      //æ›´æ–°å½“å‰ç»“ç‚¹ä¸ºä¸‹ä¸€ä¸ªç»“ç‚¹
        }
        return pre;
    }
};
```

#### [92. åè½¬é“¾è¡¨ II](https://leetcode-cn.com/problems/reverse-linked-list-ii/)

```C++
//åŒæŒ‡é’ˆ+å¤´æ’æ³•
//T:O(n)  S:O(1)
class Solution {
public:
    ListNode *reverseBetween(ListNode *head, int left, int right) {
        // è®¾ç½® dummyNode æ˜¯è¿™ä¸€ç±»é—®é¢˜çš„ä¸€èˆ¬åšæ³•
        ListNode *dummyNode = new ListNode(-1); //è™šå‡æŒ‡é’ˆï¼Œè§£å†³å¤´ç»“ç‚¹çš„é—®é¢˜
        dummyNode->next = head; //è¿™æ ·å¤´ç»“ç‚¹å°±ä¸ä¼šæ”¹äº†
        ListNode *pre = dummyNode;
        for (int i = 0; i < left - 1; i++) {    //å…ˆç§»åŠ¨ã€€leftä¸ª
            pre = pre->next;
        }
        ListNode *cur = pre->next;
        ListNode *next;
        for (int i = 0; i < right - left; i++) {
            next = cur->next;
            cur->next = next->next;
            next->next = pre->next;
            pre->next = next;
        }
        return dummyNode->next;
    }
};
```



#### [å‰‘æŒ‡ Offer 25. åˆå¹¶ä¸¤ä¸ªæ’åºçš„é“¾è¡¨](https://leetcode-cn.com/problems/he-bing-liang-ge-pai-xu-de-lian-biao-lcof/)

```java
//å½’å¹¶æ’åº
//T:O(M+N) S:O(1)
class Solution {
    public ListNode mergeTwoLists(ListNode l1, ListNode l2) {
        ListNode head = new ListNode(0), cur = head;//å¤´ç»“ç‚¹ï¼Œå¹¶ä¸´æ—¶cur
        while(l1 != null && l2 != null){
            if(l1.val < l2.val){
                cur.next = l1;
                l1 = l1.next;
            }else{
                cur.next = l2;
                l2 = l2.next;
            }
            cur = cur.next;             //æ›´æ–°
        }
        cur.next = l1 != null ? l1:l2;  //å“ªä¸ªä¸ä¸ºç©ºç›´æ¥æŒ‡å‘å®ƒ
        return head.next;       //âš ï¸å¤´ç»“ç‚¹æ²¡æœ‰å­˜æ•°æ®
    }
}
```

#### [23. åˆå¹¶Kä¸ªå‡åºé“¾è¡¨](https://leetcode-cn.com/problems/merge-k-sorted-lists/)

![img](7.æ•°æ®ç»“æ„/6f70a6649d2192cf32af68500915d84b476aa34ec899f98766c038fc9cc54662-image.png)

```C++
//æš´åŠ›ï¼šfor(k){ä¸¤ä¸ªä¸¤ä¸ªåˆå¹¶} T:O(k^2n) S:O(1)
//åˆ†æ²»æ³•ï¼šé…å¯¹ï¼Œk/2,k/4,k/8,... T:O(knÃ—logk) S:O(logk)
```

#### [å‰‘æŒ‡ Offer 52. ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹](https://leetcode-cn.com/problems/liang-ge-lian-biao-de-di-yi-ge-gong-gong-jie-dian-lcof/)

```java
//åŒæŒ‡é’ˆ  å®Œç¾å¶é‡
// T:O(M+N) S:O(1)
public class Solution {
    public ListNode getIntersectionNode(ListNode headA, ListNode headB) {
        ListNode node1 =headA,node2=headB;
        while(node1 != node2){
            node1 = node1 != null ? node1.next : headB;//å¾ªç¯éå†Aï¼Œåˆ°nullæ—¶ï¼Œå˜ä¸ºheadB
            node2 = node2 != null ? node2.next : headA;
        }
        return node2;//è¿”å›node1ä¹Ÿå¯ä»¥
    }
}
```

#### [å‰‘æŒ‡ Offer 35. å¤æ‚é“¾è¡¨çš„å¤åˆ¶](https://leetcode-cn.com/problems/fu-za-lian-biao-de-fu-zhi-lcof/)

```java

```



#### [å‰‘æŒ‡ Offer 20. è¡¨ç¤ºæ•°å€¼çš„å­—ç¬¦ä¸² ](https://leetcode-cn.com/problems/biao-shi-shu-zhi-de-zi-fu-chuan-lcof/) ä¸­ç­‰

```

```

#### [141. ç¯å½¢é“¾è¡¨](https://leetcode-cn.com/problems/linked-list-cycle/)

```

```

#### [142. ç¯å½¢é“¾è¡¨ II](https://leetcode-cn.com/problems/linked-list-cycle-ii/)

```

```

### å­—å…¸æ ‘

#### [440. å­—å…¸åºçš„ç¬¬Kå°æ•°å­—](https://leetcode-cn.com/problems/k-th-smallest-in-lexicographical-order/)

```

```

#### [208. å®ç° Trie (å‰ç¼€æ ‘)](https://leetcode-cn.com/problems/implement-trie-prefix-tree/)

```

```

#### [386. å­—å…¸åºæ’æ•°](https://leetcode-cn.com/problems/lexicographical-numbers/)

```

```

#### [692. å‰Kä¸ªé«˜é¢‘å•è¯](https://leetcode-cn.com/problems/top-k-frequent-words/)

```

```

#### [677. é”®å€¼æ˜ å°„](https://leetcode-cn.com/problems/map-sum-pairs/)

```

```

#### [é¢è¯•é¢˜ 17.15. æœ€é•¿å•è¯](https://leetcode-cn.com/problems/longest-word-lcci/)

```

```

#### [792. åŒ¹é…å­åºåˆ—çš„å•è¯æ•°](https://leetcode-cn.com/problems/number-of-matching-subsequences/)

```

```

#### [211. æ·»åŠ ä¸æœç´¢å•è¯ - æ•°æ®ç»“æ„è®¾è®¡](https://leetcode-cn.com/problems/design-add-and-search-words-data-structure/)

```

```

#### [616. ç»™å­—ç¬¦ä¸²æ·»åŠ åŠ ç²—æ ‡ç­¾](https://leetcode-cn.com/problems/add-bold-tag-in-string/)

```

```

#### [720. è¯å…¸ä¸­æœ€é•¿çš„å•è¯](https://leetcode-cn.com/problems/longest-word-in-dictionary/)

```

```

#### [588. è®¾è®¡å†…å­˜æ–‡ä»¶ç³»ç»Ÿ](https://leetcode-cn.com/problems/design-in-memory-file-system/)

```

```

### å“ˆå¸Œ

#### [242. æœ‰æ•ˆçš„å­—æ¯å¼‚ä½è¯](https://leetcode-cn.com/problems/valid-anagram/)

```

```

#### [202. å¿«ä¹æ•°](https://leetcode-cn.com/problems/happy-number/)

```

```

#### [383. èµé‡‘ä¿¡](https://leetcode-cn.com/problems/ransom-note/)

```

```

#### [977. æœ‰åºæ•°ç»„çš„å¹³æ–¹](https://leetcode-cn.com/problems/squares-of-a-sorted-array/)

```

```

#### [18. å››æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/4sum/)

```

```



#### [1. ä¸¤æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/two-sum/)

```C++
//T,S:O(N)
class Solution {
public:
    vector<int> twoSum(vector<int>& nums, int target) {
        unordered_map<int,int> map;
        for(int i=0;i<nums.size();i++){
            auto it = map.find(target-nums[i]);
            if(it != map.end()) return {it->second,i};//æ‰¾åˆ°äº†ï¼Œç›´æ¥è¿”å›
            map[nums[i]] = i;//æ²¡æœ‰æ‰¾åˆ°,æ’å…¥
        }
        return {};
    }
};
```

#### [å‰‘æŒ‡ Offer 61. æ‰‘å…‹ç‰Œä¸­çš„é¡ºå­](https://leetcode-cn.com/problems/bu-ke-pai-zhong-de-shun-zi-lcof/)

```C++

```

#### [å‰‘æŒ‡ Offer 03. æ•°ç»„ä¸­é‡å¤çš„æ•°å­—](https://leetcode-cn.com/problems/shu-zu-zhong-zhong-fu-de-shu-zi-lcof/)

```

```

#### [å‰‘æŒ‡ Offer 50. ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦](https://leetcode-cn.com/problems/di-yi-ge-zhi-chu-xian-yi-ci-de-zi-fu-lcof/)

```C++
//æœ‰åºå“ˆå¸Œè¡¨
//T:O(N) S:O(1)
```

#### [287. å¯»æ‰¾é‡å¤æ•°](https://leetcode-cn.com/problems/find-the-duplicate-number/)

```C++
class Solution {
public:
    int findDuplicate(vector<int>& nums) {
        vector<int> res(nums.size(),0);	//åˆå§‹ä¸º0	
        for(auto it:nums){
            res[it]++;
            if(res[it] == 2){
                return it;
            }
        }
        return 0;
    }
};
```

#### [41. ç¼ºå¤±çš„ç¬¬ä¸€ä¸ªæ­£æ•°](https://leetcode-cn.com/problems/first-missing-positive/)

```

```



#### [349. ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†](https://leetcode-cn.com/problems/intersection-of-two-arrays/)

```C++
class Solution {
public:
    vector<int> intersection(vector<int>& nums1, vector<int>& nums2) {
        vector<int> res;
        unordered_set<int> us{ nums1.begin(), nums1.end() };//å»é‡
        for (auto& it : nums2) {
            if (us.find(it) != us.end()) {
                us.erase(it);
                res.emplace_back(it);
            }
        }
        return res;
    }
};
```

#### [350. ä¸¤ä¸ªæ•°ç»„çš„äº¤é›† II](https://leetcode-cn.com/problems/intersection-of-two-arrays-ii/)

![fig1](7.æ•°æ®ç»“æ„/350_fig1.gif)

```C++
/*
æ—¶é—´å¤æ‚åº¦ï¼šO(m+n)
ç©ºé—´å¤æ‚åº¦ï¼šO(minâ¡(m,n))
*/

```



#### [167. ä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„](https://leetcode-cn.com/problems/two-sum-ii-input-array-is-sorted/)

```C++
/*äºŒåˆ†ï¼Œæ•°ç»„æœ‰åº*/
class Solution {
public:
    vector<int> twoSum(vector<int>& numbers, int target) {
        for (int i = 0; i < numbers.size(); ++i) {
            int low = i + 1, high = numbers.size() - 1;	//ä»1å¼€å§‹
            while (low <= high) {
                int mid = (high - low) / 2 + low;
                if (numbers[mid] == target - numbers[i]) {
                    return {i + 1, mid + 1};	//ä¸‹æ ‡+1 
                } else if (numbers[mid] > target - numbers[i]) {
                    high = mid - 1;
                } else {
                    low = mid + 1;
                }
            }
        }
        return {-1, -1};
    }
};

/*å“ˆå¸Œ*/
class Solution {
public:
    vector<int> twoSum(vector<int>& nums, int target) {
        unordered_map<int, int> hashtable;
        for (int i = 0; i < nums.size(); ++i) {
            auto it = hashtable.find(target - nums[i]);
            if (it != hashtable.end()) {
                return {it->second, i};
            }
            hashtable[nums[i]] = i;
        }
        return {};
    }
};
```

#### [128. æœ€é•¿è¿ç»­åºåˆ—](https://leetcode-cn.com/problems/longest-consecutive-sequence/)

```

```

#### [594. æœ€é•¿å’Œè°å­åºåˆ—](https://leetcode-cn.com/problems/longest-harmonious-subsequence/)

```

```

### æ‰«æçº¿

#### [218. å¤©é™…çº¿é—®é¢˜](https://leetcode-cn.com/problems/the-skyline-problem/)

```

```

#### [391. å®Œç¾çŸ©å½¢](https://leetcode-cn.com/problems/perfect-rectangle/)

```

```

#### [850. çŸ©å½¢é¢ç§¯ II](https://leetcode-cn.com/problems/rectangle-area-ii/)

```

```

#### [1851. åŒ…å«æ¯ä¸ªæŸ¥è¯¢çš„æœ€å°åŒºé—´](https://leetcode-cn.com/problems/minimum-interval-to-include-each-query/)

```

```

### çº¿æ®µæ ‘

#### [315. è®¡ç®—å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°](https://leetcode-cn.com/problems/count-of-smaller-numbers-after-self/)

```

```

#### [LCP 09. æœ€å°è·³è·ƒæ¬¡æ•°](https://leetcode-cn.com/problems/zui-xiao-tiao-yue-ci-shu/)

```

```

#### [327. åŒºé—´å’Œçš„ä¸ªæ•°](https://leetcode-cn.com/problems/count-of-range-sum/)

```

```

#### [850. çŸ©å½¢é¢ç§¯ II](https://leetcode-cn.com/problems/rectangle-area-ii/)

```

```



### ç»„åˆæ•°æ®ç»“æ„

#### [146. LRU ç¼“å­˜æœºåˆ¶](https://leetcode-cn.com/problems/lru-cache/)

![HashLinkedList](7.æ•°æ®ç»“æ„/b84cf65debb43b28bd212787ca63d34c9962696ed427f638763be71a3cb8f89d.png)

```C++
//mapæŸ¥æ‰¾Oï¼ˆ1ï¼‰
//åŒå‘é“¾è¡¨æŸ¥æ‰¾ï¼Œåˆ é™¤Oï¼ˆ1ï¼‰
struct DLinkedNode {
    int key, value;
    DLinkedNode* prev;
    DLinkedNode* next;
    DLinkedNode(): key(0), value(0), prev(nullptr), next(nullptr) {}
    DLinkedNode(int _key, int _value): key(_key), value(_value), prev(nullptr), next(nullptr) {}
};

class LRUCache {
private:
    unordered_map<int, DLinkedNode*> cache;
    DLinkedNode* head;  //LU  æœ€å°‘ä½¿ç”¨
    DLinkedNode* tail;  //LRU æœ€è¿‘æœ€å°‘ä½¿ç”¨
    int size;	//1.è®¡æ•°æ³•
    int capacity;

public:
    LRUCache(int _capacity): capacity(_capacity), size(0) {
        // ä½¿ç”¨ä¼ªå¤´éƒ¨å’Œä¼ªå°¾éƒ¨èŠ‚ç‚¹
        head = new DLinkedNode();
        tail = new DLinkedNode();
        head->next = tail;
        tail->prev = head;
    }
    
    int get(int key) {
        if (!cache.count(key)) {    
            return -1;
        }
        // å¦‚æœ key å­˜åœ¨ï¼Œå…ˆé€šè¿‡å“ˆå¸Œè¡¨å®šä½ï¼Œå†ç§»åˆ°å¤´éƒ¨
        DLinkedNode* node = cache[key];
        moveToHead(node);
        return node->value;
    }
    
    void put(int key, int value) {
        if (!cache.count(key)) {
            // å¦‚æœ key ä¸å­˜åœ¨ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„èŠ‚ç‚¹
            DLinkedNode* node = new DLinkedNode(key, value);
            // æ·»åŠ è‡³åŒå‘é“¾è¡¨çš„å¤´éƒ¨
            addToHead(node);
            // æ·»åŠ è¿›å“ˆå¸Œè¡¨
            cache[key] = node;
            ++size;
            if (size > capacity) {
                // å¦‚æœè¶…å‡ºå®¹é‡ï¼Œåˆ é™¤åŒå‘é“¾è¡¨çš„å°¾éƒ¨èŠ‚ç‚¹
                DLinkedNode* removed = removeTail();
                // åˆ é™¤å“ˆå¸Œè¡¨ä¸­å¯¹åº”çš„é¡¹
                cache.erase(removed->key);
                // é˜²æ­¢å†…å­˜æ³„æ¼
                delete removed;
                --size;
            }
        }
        else {
        // å¦‚æœ key å­˜åœ¨ï¼Œå…ˆé€šè¿‡å“ˆå¸Œè¡¨å®šä½ï¼Œå†ä¿®æ”¹ valueï¼Œå¹¶ç§»åˆ°å¤´éƒ¨
            DLinkedNode* node = cache[key];
            node->value = value;
            moveToHead(node);
        }
    }

    void addToHead(DLinkedNode* node) {
        node->prev = head;
        node->next = head->next;
        head->next->prev = node;
        head->next = node;
    }
    
    void removeNode(DLinkedNode* node) {
        node->prev->next = node->next;
        node->next->prev = node->prev;
    }

    void moveToHead(DLinkedNode* node) {
        removeNode(node);
        addToHead(node);
    }

    DLinkedNode* removeTail() {
        DLinkedNode* node = tail->prev;
        removeNode(node);
        return node;
    }
};
```

#### [432. å…¨ O(1) çš„æ•°æ®ç»“æ„](https://leetcode-cn.com/problems/all-oone-data-structure/)

```

```

#### [380. O(1) æ—¶é—´æ’å…¥ã€åˆ é™¤å’Œè·å–éšæœºå…ƒç´ ](https://leetcode-cn.com/problems/insert-delete-getrandom-o1/)

```

```

#### [381. O(1) æ—¶é—´æ’å…¥ã€åˆ é™¤å’Œè·å–éšæœºå…ƒç´  - å…è®¸é‡å¤](https://leetcode-cn.com/problems/insert-delete-getrandom-o1-duplicates-allowed/)

```

```
